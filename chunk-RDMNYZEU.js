import{a as q,b as V,c as Ye}from"./chunk-AWQ2T2LM.js";import{$ as je,A as h,Aa as oe,B as p,Ba as ae,C as Fe,Ca as ze,D as Pe,Da as We,E as Te,G as c,H as E,I as v,Ja as Ue,K as f,L as De,M as ke,O as Y,P as $,Q as w,R as Re,T as A,W as Ne,_ as F,a as H,aa as k,b as B,ba as Le,c as xe,ca as Se,d as ye,da as $e,e as T,ea as R,f as Ie,g as y,ga as Ae,h as I,ha as U,ia as Ve,ja as He,k as we,l as n,m as u,ma as Be,n as C,na as Ge,o as D,p as Oe,pa as N,q as d,qa as Q,r as W,ra as J,s as a,sa as K,t as r,ta as X,u as o,ua as Z,v as _,va as ee,w as l,wa as te,x as m,xa as ie,ya as ne,z as O,za as re}from"./chunk-LA4O2RWI.js";var j=class{adult;backdrop_path;belongs_to_collection;budget;genres;homepage;id;imdb_id;origin_country;original_language;original_title;overview;popularity;poster_path;release_date;revenue;runtime;spoken_languages;status;tagline;title;video;vote_average;vote_count;constructor(){this.adult=!1,this.backdrop_path="",this.belongs_to_collection=!1,this.budget=0,this.genres=[],this.homepage="",this.id=0,this.imdb_id="",this.origin_country=[],this.original_language="",this.original_title="",this.overview="",this.popularity=0,this.poster_path="",this.release_date="",this.revenue=0,this.runtime=0,this.spoken_languages=[],this.status="",this.tagline="",this.title="",this.video=!1,this.vote_average=0,this.vote_count=0}};var S=class t{constructor(i){this.http=i}getMovie(i){return H(this,null,function*(){return yield B(this.http.get(`/movie/${i}`))})}getMovieCredits(i){return H(this,null,function*(){return yield B(this.http.get(`/movie/${i}/credits`))})}getMovieCast(i){return H(this,null,function*(){return yield B(this.http.get(`/movie/${i}/credits`).pipe(xe(e=>e.cast)))})}getMovieCrew(i){return H(this,null,function*(){return yield B(this.http.get(`/movie/${i}/credits`).pipe(xe(e=>e.crew)))})}getFormattedMovieTitle(i,e){let s=i,x=new Date(e).getFullYear();return`${s}`+(x?` (${x})`:"")}static \u0275fac=function(e){return new(e||t)(Ie(Ne))};static \u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})};var ce=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-movie-not-found"]],standalone:!1,decls:6,vars:0,consts:[[1,"movie-not-found"],[1,"movie-not-found-description"]],template:function(e,s){e&1&&(r(0,"section",0)(1,"div",1)(2,"h1"),c(3,"Movie Not Found"),o(),r(4,"p"),c(5,"No movie was found with this ID. Try another one :)"),o()()())},styles:[".movie-not-found[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}.movie-not-found[_ngcontent-%COMP%]   .movie-not-found-description[_ngcontent-%COMP%]{text-align:center;border:1px solid black;padding:1rem 2rem}"]})};var P=class t{repeat=U;errorMessage="";reload=new W;ngOnInit(){}pressReload(){this.reload.emit(!0)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-movie-error"]],inputs:{errorMessage:"errorMessage"},outputs:{reload:"reload"},standalone:!1,decls:10,vars:2,consts:[[1,"movie-error"],["type","button",1,"btn","btn-primary",3,"click"],[3,"icon"]],template:function(e,s){e&1&&(r(0,"section",0)(1,"h1"),c(2,"Movie Service Error"),o(),r(3,"p"),c(4,"There was an error getting info for the movie: "),r(5,"strong"),c(6),o()(),r(7,"button",1),h("click",function(){return s.pressReload()}),_(8,"fa-icon",2),c(9," Reload "),o()()),e&2&&(n(6),E(s.errorMessage),n(2),a("icon",s.repeat))},dependencies:[N],styles:[".movie-error[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};var me=class t{repeat=U;errorMessage="";reload=new W;ngOnInit(){}pressReload(){this.reload.emit(!0)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-movie-error-fullscreen"]],inputs:{errorMessage:"errorMessage"},outputs:{reload:"reload"},standalone:!1,decls:11,vars:2,consts:[[1,"movie-error-fullscreen"],[1,"movie-error-description"],["type","button",1,"btn","btn-primary",3,"click"],[3,"icon"]],template:function(e,s){e&1&&(r(0,"section",0)(1,"div",1)(2,"h1"),c(3,"Movie Service Error"),o(),r(4,"p"),c(5,"There was an error getting info for the movie: "),r(6,"strong"),c(7),o()(),r(8,"button",2),h("click",function(){return s.pressReload()}),_(9,"fa-icon",3),c(10," Reload "),o()()()),e&2&&(n(7),E(s.errorMessage),n(2),a("icon",s.repeat))},dependencies:[N],styles:[".movie-error-fullscreen[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}.movie-error-fullscreen[_ngcontent-%COMP%]   .movie-error-description[_ngcontent-%COMP%]{text-align:center;border:1px solid black;padding:1rem 2rem}.movie-error-fullscreen[_ngcontent-%COMP%]   .movie-error-description[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};var se=class t{transform(i){let e=Math.floor(i/60),s=i%60,g=e>0?`${e}h`:"",x=s>0?`${s}min`:"";return e==0&&s==0?"":e==0&&s>0?`${x}`:e>0&&s==0?`${g}`:`${g} ${x}`}static \u0275fac=function(e){return new(e||t)};static \u0275pipe=Oe({name:"runtime",type:t,pure:!0,standalone:!1})};var Ze=t=>({"background-image":t});function et(t,i){if(t&1&&(l(0),_(1,"fa-icon",4),c(2),m()),t&2){let e=p();n(),a("icon",e.calendar)("fixedWidth",!0),n(),v(" ",e.year," ")}}function tt(t,i){t&1&&(l(0),c(1," No Release Date "),m())}function it(t,i){if(t&1&&(l(0),_(1,"fa-icon",4),c(2),De(3,"runtime"),m()),t&2){let e=p();n(),a("icon",e.clock)("fixedWidth",!0),n(),v(" ",ke(3,3,e.movie.runtime)," ")}}var pe=class t{constructor(i){this.cd=i}film=Be;circleSeparator=Ve;calendar=He;clock=Ae;id=0;movie=new j;year=0;backdropImg="";ngOnInit(){this.setYear(),this.setBackdrop()}setYear(){let i=new Date(this.movie.release_date);this.year=i.getFullYear()}setBackdrop(){this.backdropImg=this.movie.backdrop_path?`${R.imgUrl}${R.backdropSize}${this.movie.backdrop_path}`:"img/default-images/movie_backdrop_notavailable_w1280.png"}static \u0275fac=function(e){return new(e||t)(u(Y))};static \u0275cmp=C({type:t,selectors:[["app-movie-header"]],inputs:{id:"id",movie:"movie"},standalone:!1,decls:12,vars:9,consts:[[1,"movie-header"],[1,"header-backdrop",3,"ngStyle"],[1,"header-movie-container"],[1,"header-movie-info"],[3,"icon","fixedWidth"],[4,"ngIf"]],template:function(e,s){e&1&&(r(0,"section",0)(1,"header"),_(2,"div",1),r(3,"div",2)(4,"div",3)(5,"h1"),_(6,"fa-icon",4),c(7),o(),r(8,"h2"),d(9,et,3,3,"ng-container",5)(10,tt,2,0,"ng-container",5)(11,it,4,5,"ng-container",5),o()()()()()),e&2&&(n(2),a("ngStyle",f(7,Ze,"url("+s.backdropImg+")")),n(4),a("icon",s.film)("fixedWidth",!0),n(),v(" ",s.movie.title," "),n(2),a("ngIf",s.year),n(),a("ngIf",!s.year),n(),a("ngIf",s.movie.runtime>0))},dependencies:[w,Re,N,se],styles:[".movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{height:50vh;position:relative}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-backdrop[_ngcontent-%COMP%]{position:absolute;height:inherit;width:100%;background-size:cover}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]{position:absolute;height:inherit;width:100%;display:flex;flex-direction:column;justify-content:flex-end}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]   .header-movie-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end;background-color:#00000080}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]   .header-movie-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]   .header-movie-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:100%;color:#fff;margin:0}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]   .header-movie-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding:1rem 1rem 0rem}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]   .header-movie-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding:1rem}"]})};var ot=["movieHeader"];function at(t,i){t&1&&(l(0),_(1,"app-loading-fullscreen",3),m())}function ct(t,i){t&1&&(l(0),_(1,"app-loading-fullscreen",4),m())}function lt(t,i){t&1&&(l(0),_(1,"app-movie-not-found"),m())}function mt(t,i){if(t&1){let e=O();l(0),r(1,"app-movie-error-fullscreen",5),h("reload",function(g){y(e);let x=p(4);return I(x.reloadMovie(g))}),o(),m()}if(t&2){let e=p(4);n(),a("errorMessage",e.errorMessage)}}function st(t,i){if(t&1&&(l(0),d(1,lt,2,0,"ng-container",2)(2,mt,2,1,"ng-container",2),m()),t&2){let e=p(3);n(),a("ngIf",e.movieNotFound),n(),a("ngIf",!e.movieNotFound)}}function pt(t,i){if(t&1&&(l(0),_(1,"app-movie-error",6),m()),t&2){let e=p(4);n(),a("errorMessage",e.errorMessage)}}function dt(t,i){if(t&1&&(l(0),r(1,"div",20)(2,"a",21),_(3,"fa-icon",22),c(4," Open Poster in New Tab "),o()(),m()),t&2){let e=p(5);n(2),a("href",e.posterSizeOriginal,we),n(),a("icon",e.imagePortrait)}}function _t(t,i){if(t&1&&(l(0),_(1,"app-movie-header",7,0),r(3,"main")(4,"nav",8)(5,"div",9)(6,"ul",10)(7,"li",11)(8,"a",12),c(9," Overview "),o()(),r(10,"li",11)(11,"a",13),c(12," Cast "),o()(),r(13,"li",11)(14,"a",14),c(15," Crew "),o()()()()(),r(16,"div",9)(17,"div",15)(18,"div",16)(19,"aside",17),_(20,"img",18),d(21,dt,5,2,"ng-container",2),o()(),r(22,"div",19),_(23,"router-outlet"),o(),r(24,"div",16)(25,"aside"),c(26,"Aside 2"),o()()()()(),m()),t&2){let e=p(4);n(),a("id",e.id)("movie",e.movie),n(19),a("src",e.posterSizeSmall,we)("alt",e.altPosterText),n(),a("ngIf",e.movie.poster_path)}}function vt(t,i){if(t&1&&(l(0),d(1,pt,2,1,"ng-container",2)(2,_t,27,5,"ng-container",2),m()),t&2){let e=p(3);n(),a("ngIf",e.movie.id==0),n(),a("ngIf",e.movie.id!=0)}}function gt(t,i){if(t&1&&(l(0),d(1,st,3,2,"ng-container",2)(2,vt,3,2,"ng-container",2),m()),t&2){let e=p(2);n(),a("ngIf",e.movieError),n(),a("ngIf",!e.movieError)}}function ut(t,i){if(t&1&&(l(0),d(1,ct,2,0,"ng-container",2)(2,gt,3,2,"ng-container",2),m()),t&2){let e=p();n(),a("ngIf",e.loadingMovie),n(),a("ngIf",!e.loadingMovie)}}var de=class t{constructor(i,e,s,g){this.activatedRoute=i;this.movieService=e;this.titleService=s;this.cd=g}imagePortrait=Ge;id=0;movie=new j;formattedTitle="";altPosterText="";posterSizeSmall="";posterSizeOriginal="";loadingView=!0;loadingMovie=!1;movieNotFound=!1;movieError=!1;errorMessage="";movieHeader;ngOnInit(){this.cd.detectChanges(),this.id=parseInt(this.activatedRoute.snapshot.params.id),this.getMovie()}ngAfterContentInit(){this.loadingView=!1,this.cd.detectChanges()}getMovie(){this.movieError=!1,this.loadingMovie=!0,this.movieService.getMovie(this.id).then(i=>{this.movie=i,this.setTitle(),this.setMoviePoster()}).catch(i=>{this.handleError(i)}).finally(()=>{this.loadingMovie=!1})}handleError(i){this.movieError=!0,i.status&&i.status===404?(this.movieNotFound=!0,this.titleService.setTitle("Movie Not Found")):(this.errorMessage=i.message,this.titleService.setTitle("Movie Service Error"))}reloadMovie(i){this.getMovie()}setTitle(){this.formattedTitle=this.movieService.getFormattedMovieTitle(this.movie.title,this.movie.release_date),this.titleService.setTitle(this.formattedTitle)}setMoviePoster(){this.posterSizeSmall=this.movie.poster_path?`${R.imgUrl}${R.posterSizeSmall}${this.movie.poster_path}`:"img/default-images/movie_poster_notavailable_w500.png",this.posterSizeOriginal=this.movie.poster_path?`${R.imgUrl}${R.posterSizeOriginal}${this.movie.poster_path}`:"",this.altPosterText=this.movie.poster_path?`Poster from the movie ${this.formattedTitle}`:`Poster from the movie ${this.formattedTitle} is not available`}static \u0275fac=function(e){return new(e||t)(u(F),u(S),u($e),u(Y))};static \u0275cmp=C({type:t,selectors:[["app-movie"]],viewQuery:function(e,s){if(e&1&&Fe(ot,5),e&2){let g;Pe(g=Te())&&(s.movieHeader=g.first)}},standalone:!1,decls:3,vars:2,consts:[["movieHeader",""],[1,"movie"],[4,"ngIf"],["message","Loading view..."],["message","Loading movie..."],[3,"reload","errorMessage"],[3,"errorMessage"],[3,"id","movie"],[1,"navbar","navbar-dark","bg-dark","navbar-expand-sm"],[1,"container-fluid"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page","routerLink","overview","routerLinkActive","active",1,"nav-link"],["routerLink","cast","routerLinkActive","active",1,"nav-link"],["routerLink","crew","routerLinkActive","active",1,"nav-link"],[1,"row"],[1,"col-12","col-lg-2"],[1,"aside-1"],[1,"w-100",3,"src","alt"],[1,"col-12","col-lg-8"],[1,"d-grid"],["target","_blank",1,"btn","btn-outline-primary","btn-poster","mb-2",3,"href"],[3,"icon"]],template:function(e,s){e&1&&(r(0,"section",1),d(1,at,2,0,"ng-container",2)(2,ut,3,2,"ng-container",2),o()),e&2&&(n(),a("ngIf",s.loadingView),n(),a("ngIf",!s.loadingView))},dependencies:[w,je,k,Le,q,ce,P,me,N,pe],styles:[".movie[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   nav.navbar[_ngcontent-%COMP%]{margin-bottom:1rem;font-family:Oswald,Arial,sans-serif}.movie[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .aside-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:1rem}.movie[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .aside-1[_ngcontent-%COMP%]   .btn-poster[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};var Ct=t=>["/person",t];function ht(t,i){t&1&&(l(0),_(1,"app-loading-inline",2),m())}function bt(t,i){if(t&1){let e=O();l(0),r(1,"app-movie-error",3),h("reload",function(g){y(e);let x=p(2);return I(x.reloadCast(g))}),o(),m()}if(t&2){let e=p(2);n(),a("errorMessage",e.errorMessage)}}function Mt(t,i){if(t&1&&(r(0,"tr")(1,"td")(2,"a",20),c(3),o()(),r(4,"td"),c(5,"as"),o(),r(6,"td"),c(7),o()()),t&2){let e=i.$implicit;n(2),a("routerLink",f(3,Ct,e.id)),n(),v(" ",e.name," "),n(4),E(e.character)}}function xt(t,i){if(t&1){let e=O();l(0),r(1,"h2"),c(2,"Cast"),o(),r(3,"form",4)(4,"div",5)(5,"label",6),c(6,"Order by"),o(),r(7,"div",7)(8,"select",8),h("change",function(){y(e);let g=p(2);return I(g.changeCastOrder())}),r(9,"option",9),c(10,"Select an order criteria"),o(),r(11,"option",10),c(12,"Default Order (ascending)"),o(),r(13,"option",11),c(14,"Default Order (descending)"),o(),r(15,"option",12),c(16,"Name (ascending)"),o(),r(17,"option",13),c(18,"Name (descending)"),o(),r(19,"option",14),c(20,"Character (ascending)"),o(),r(21,"option",15),c(22,"Character (descending)"),o()()()()(),r(23,"div",16)(24,"table",17)(25,"thead")(26,"tr")(27,"th",18),c(28,"Actor"),o(),r(29,"th"),c(30,"Character"),o()()(),r(31,"tbody"),d(32,Mt,8,5,"tr",19),o()()(),m()}if(t&2){let e=p(2);n(3),a("formGroup",e.orderCastForm),n(29),a("ngForOf",e.movieCast)}}function wt(t,i){if(t&1&&(l(0),d(1,bt,2,1,"ng-container",1)(2,xt,33,2,"ng-container",1),m()),t&2){let e=p();n(),a("ngIf",e.movieCastError),n(),a("ngIf",!e.movieCastError)}}var ve=class t{constructor(i,e,s){this.activatedRoute=i;this.movieService=e;this.fb=s}id=0;movieCast=[];loadingCast=!1;orderCastForm=new X({});activatedRouteParentSubscription;castFound=!1;movieCastError=!1;errorMessage="";ngOnInit(){this.setId(),this.orderCastForm=this.fb.group({orderCast:new Z("1")})}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(i=>{this.id=parseInt(i.id),this.getCast()})}getCast(){this.movieCastError=!1,this.loadingCast=!0,this.movieService.getMovieCast(this.id).then(i=>{this.movieCast=i,this.castFound=!0}).catch(i=>{this.handleError(i)}).finally(()=>{this.loadingCast=!1})}handleError(i){this.movieCastError=!0,this.errorMessage=i.message}reloadCast(i){this.getCast()}changeCastOrder(){switch(this.orderCastForm.value.orderCast){case"1":{this.movieCast.sort((i,e)=>i.order-e.order);break}case"2":{this.movieCast.sort((i,e)=>e.order-i.order);break}case"3":{this.movieCast.sort((i,e)=>i.name.localeCompare(e.name));break}case"4":{this.movieCast.sort((i,e)=>e.name.localeCompare(i.name));break}case"5":{this.movieCast.sort((i,e)=>i.character.localeCompare(e.character));break}case"6":{this.movieCast.sort((i,e)=>e.character.localeCompare(i.character));break}default:break}}ngOnDestroy(){this.activatedRouteParentSubscription?.unsubscribe()}static \u0275fac=function(e){return new(e||t)(u(F),u(S),u(ae))};static \u0275cmp=C({type:t,selectors:[["app-movie-cast"]],standalone:!1,decls:3,vars:2,consts:[[1,"movie-cast"],[4,"ngIf"],["message","Loading cast..."],[3,"reload","errorMessage"],[3,"formGroup"],[1,"row","align-items-center"],["for","orderCast",1,"col-3"],[1,"col-9"],["formControlName","orderCast","id","orderCast","name","orderCast",1,"form-control",3,"change"],["value","0","selected","","disabled",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],[1,"table-responsive"],[1,"table"],["colspan","2"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,s){e&1&&(r(0,"section",0),d(1,ht,2,0,"ng-container",1)(2,wt,3,2,"ng-container",1),o()),e&2&&(n(),a("ngIf",s.loadingCast),n(),a("ngIf",!s.loadingCast))},dependencies:[$,w,k,V,P,ee,re,oe,ne,J,K,te,ie],encapsulation:2})};var M=t=>["/person",t];function St(t,i){t&1&&(l(0),_(1,"app-loading-inline",2),m())}function Et(t,i){if(t&1){let e=O();l(0),r(1,"app-movie-error",3),h("reload",function(g){y(e);let x=p(2);return I(x.reloadCrew(g))}),o(),m()}if(t&2){let e=p(2);n(),a("errorMessage",e.errorMessage)}}function yt(t,i){if(t&1&&(l(0),r(1,"a",9),c(2),o(),_(3,"br"),m()),t&2){let e=i.$implicit;n(),a("routerLink",f(2,M,e.id)),n(),v(" ",e.name," ")}}function It(t,i){if(t&1&&(l(0),r(1,"tr")(2,"td"),c(3,"Directed By:"),o(),r(4,"td"),d(5,yt,4,4,"ng-container",8),o()(),m()),t&2){let e=p(3);n(5),a("ngForOf",e.direction)}}function Ot(t,i){if(t&1&&(l(0),r(1,"a",9),c(2),o(),_(3,"br"),m()),t&2){let e=i.$implicit;n(),a("routerLink",f(2,M,e.id)),n(),v(" ",e.name," ")}}function Ft(t,i){if(t&1&&(l(0),r(1,"tr")(2,"td"),c(3,"Screenplay By:"),o(),r(4,"td"),d(5,Ot,4,4,"ng-container",8),o()(),m()),t&2){let e=p(3);n(5),a("ngForOf",e.writing)}}function Pt(t,i){if(t&1&&(l(0),r(1,"a",9),c(2),o(),_(3,"br"),m()),t&2){let e=i.$implicit;n(),a("routerLink",f(2,M,e.id)),n(),v(" ",e.name," ")}}function Tt(t,i){if(t&1&&(l(0),r(1,"tr")(2,"td"),c(3,"Based on Work By:"),o(),r(4,"td"),d(5,Pt,4,4,"ng-container",8),o()(),m()),t&2){let e=p(3);n(5),a("ngForOf",e.basedOnWorkBy)}}function Dt(t,i){if(t&1&&(l(0),r(1,"a",9),c(2),o(),_(3,"br"),m()),t&2){let e=i.$implicit;n(),a("routerLink",f(2,M,e.id)),n(),v(" ",e.name," ")}}function kt(t,i){if(t&1&&(l(0),r(1,"tr")(2,"td"),c(3,"Produced By:"),o(),r(4,"td"),d(5,Dt,4,4,"ng-container",8),o()(),m()),t&2){let e=p(3);n(5),a("ngForOf",e.producing)}}function Rt(t,i){t&1&&(l(0),c(1,"s"),m())}function Nt(t,i){if(t&1&&(l(0),r(1,"a",9),c(2),o(),_(3,"br"),m()),t&2){let e=i.$implicit;n(),a("routerLink",f(2,M,e.id)),n(),v(" ",e.name," ")}}function jt(t,i){if(t&1&&(l(0),r(1,"tr")(2,"td"),c(3," Executive Producer"),d(4,Rt,2,0,"ng-container",1),c(5,": "),o(),r(6,"td"),d(7,Nt,4,4,"ng-container",8),o()(),m()),t&2){let e=p(3);n(4),a("ngIf",e.executiveProducing.length>1),n(3),a("ngForOf",e.executiveProducing)}}function Lt(t,i){t&1&&(l(0),c(1,"s"),m())}function $t(t,i){if(t&1&&(l(0),r(1,"a",9),c(2),o(),_(3,"br"),m()),t&2){let e=i.$implicit;n(),a("routerLink",f(2,M,e.id)),n(),v(" ",e.name," ")}}function At(t,i){if(t&1&&(l(0),r(1,"tr")(2,"td"),c(3,"Co-Producer"),d(4,Lt,2,0,"ng-container",1),o(),r(5,"td"),d(6,$t,4,4,"ng-container",8),o()(),m()),t&2){let e=p(3);n(4),a("ngIf",e.coProducing.length>1),n(2),a("ngForOf",e.coProducing)}}function Vt(t,i){t&1&&(l(0),c(1,"s"),m())}function Ht(t,i){if(t&1&&(l(0),r(1,"a",9),c(2),o(),_(3,"br"),m()),t&2){let e=i.$implicit;n(),a("routerLink",f(2,M,e.id)),n(),v(" ",e.name," ")}}function Bt(t,i){if(t&1&&(l(0),r(1,"tr")(2,"td"),c(3," Director"),d(4,Vt,2,0,"ng-container",1),c(5," of Photography: "),o(),r(6,"td"),d(7,Ht,4,4,"ng-container",8),o()(),m()),t&2){let e=p(3);n(4),a("ngIf",e.directorsOfPhotography.length>1),n(3),a("ngForOf",e.directorsOfPhotography)}}function Gt(t,i){t&1&&(l(0),c(1,"s"),m())}function zt(t,i){if(t&1&&(l(0),r(1,"a",9),c(2),o(),_(3,"br"),m()),t&2){let e=i.$implicit;n(),a("routerLink",f(2,M,e.id)),n(),v(" ",e.name," ")}}function Wt(t,i){if(t&1&&(l(0),r(1,"tr")(2,"td"),c(3," Production Designer"),d(4,Gt,2,0,"ng-container",1),c(5,": "),o(),r(6,"td"),d(7,zt,4,4,"ng-container",8),o()(),m()),t&2){let e=p(3);n(4),a("ngIf",e.productionDesigners.length>1),n(3),a("ngForOf",e.productionDesigners)}}function Yt(t,i){t&1&&(l(0),c(1,"s"),m())}function Ut(t,i){if(t&1&&(l(0),r(1,"a",9),c(2),o(),_(3,"br"),m()),t&2){let e=i.$implicit;n(),a("routerLink",f(2,M,e.id)),n(),v(" ",e.name," ")}}function Qt(t,i){if(t&1&&(l(0),r(1,"tr")(2,"td"),c(3,"Editor"),d(4,Yt,2,0,"ng-container",1),c(5,":"),o(),r(6,"td"),d(7,Ut,4,4,"ng-container",8),o()(),m()),t&2){let e=p(3);n(4),a("ngIf",e.editors.length>1),n(3),a("ngForOf",e.editors)}}function qt(t,i){if(t&1&&(l(0),r(1,"a",9),c(2),o(),_(3,"br"),m()),t&2){let e=i.$implicit;n(),a("routerLink",f(2,M,e.id)),n(),v(" ",e.name," ")}}function Jt(t,i){if(t&1&&(l(0),r(1,"tr")(2,"td"),c(3,"Music By:"),o(),r(4,"td"),d(5,qt,4,4,"ng-container",8),o()(),m()),t&2){let e=p(3);n(5),a("ngForOf",e.musicComposers)}}function Kt(t,i){if(t&1&&(l(0),r(1,"a",9),c(2),o(),_(3,"br"),m()),t&2){let e=i.$implicit;n(),a("routerLink",f(2,M,e.id)),n(),v(" ",e.name," ")}}function Xt(t,i){if(t&1&&(l(0),r(1,"tr")(2,"td"),c(3,"Additional Music By:"),o(),r(4,"td"),d(5,Kt,4,4,"ng-container",8),o()(),m()),t&2){let e=p(3);n(5),a("ngForOf",e.additionalMusicComposers)}}function Zt(t,i){t&1&&(l(0),c(1,"s"),m())}function ei(t,i){if(t&1&&(l(0),r(1,"a",9),c(2),o(),_(3,"br"),m()),t&2){let e=i.$implicit;n(),a("routerLink",f(2,M,e.id)),n(),v(" ",e.name," ")}}function ti(t,i){if(t&1&&(l(0),r(1,"tr")(2,"td"),c(3," Visual Effects Supervisor"),d(4,Zt,2,0,"ng-container",1),c(5,": "),o(),r(6,"td"),d(7,ei,4,4,"ng-container",8),o()(),m()),t&2){let e=p(3);n(4),a("ngIf",e.visualEffectsSupervisors.length>1),n(3),a("ngForOf",e.visualEffectsSupervisors)}}function ii(t,i){t&1&&(l(0),c(1,"s"),m())}function ni(t,i){if(t&1&&(l(0),r(1,"a",9),c(2),o(),_(3,"br"),m()),t&2){let e=i.$implicit;n(),a("routerLink",f(2,M,e.id)),n(),v(" ",e.name," ")}}function ri(t,i){if(t&1&&(l(0),r(1,"tr")(2,"td"),c(3," Costume Designer"),d(4,ii,2,0,"ng-container",1),c(5,": "),o(),r(6,"td"),d(7,ni,4,4,"ng-container",8),o()(),m()),t&2){let e=p(3);n(4),a("ngIf",e.costumeDesigners.length>1),n(3),a("ngForOf",e.costumeDesigners)}}function oi(t,i){if(t&1&&(l(0),r(1,"a",9),c(2),o(),_(3,"br"),m()),t&2){let e=i.$implicit;n(),a("routerLink",f(2,M,e.id)),n(),v(" ",e.name," ")}}function ai(t,i){if(t&1&&(l(0),r(1,"tr")(2,"td"),c(3,"Casting By:"),o(),r(4,"td"),d(5,oi,4,4,"ng-container",8),o()(),m()),t&2){let e=p(3);n(5),a("ngForOf",e.castingCrew)}}function ci(t,i){if(t&1&&(l(0),r(1,"h2"),c(2,"Crew"),o(),r(3,"div",4)(4,"table",5)(5,"tbody"),d(6,It,6,1,"ng-container",1)(7,Ft,6,1,"ng-container",1)(8,Tt,6,1,"ng-container",1)(9,kt,6,1,"ng-container",1)(10,jt,8,2,"ng-container",1)(11,At,7,2,"ng-container",1)(12,Bt,8,2,"ng-container",1)(13,Wt,8,2,"ng-container",1)(14,Qt,8,2,"ng-container",1)(15,Jt,6,1,"ng-container",1)(16,Xt,6,1,"ng-container",1)(17,ti,8,2,"ng-container",1)(18,ri,8,2,"ng-container",1)(19,ai,6,1,"ng-container",1),o()()(),r(20,"div",6)(21,"a",7),c(22," See Full Crew "),o()(),m()),t&2){let e=p(2);n(6),a("ngIf",e.direction.length>0),n(),a("ngIf",e.writing.length>0),n(),a("ngIf",e.basedOnWorkBy.length>0),n(),a("ngIf",e.producing.length>0),n(),a("ngIf",e.executiveProducing.length>0),n(),a("ngIf",e.coProducing.length>0),n(),a("ngIf",e.directorsOfPhotography.length>0),n(),a("ngIf",e.productionDesigners.length>0),n(),a("ngIf",e.editors.length>0),n(),a("ngIf",e.musicComposers.length>0),n(),a("ngIf",e.additionalMusicComposers.length>0),n(),a("ngIf",e.visualEffectsSupervisors.length>0),n(),a("ngIf",e.costumeDesigners.length>0),n(),a("ngIf",e.castingCrew.length>0)}}function li(t,i){if(t&1&&(l(0),d(1,Et,2,1,"ng-container",1)(2,ci,23,14,"ng-container",1),m()),t&2){let e=p();n(),a("ngIf",e.movieCrewError),n(),a("ngIf",!e.movieCrewError)}}var ge=class t{constructor(i,e){this.activatedRoute=i;this.movieService=e}id=0;movieCrew=[];direction=[];writing=[];basedOnWorkBy=[];producing=[];executiveProducing=[];coProducing=[];directorsOfPhotography=[];productionDesigners=[];editors=[];musicComposers=[];additionalMusicComposers=[];visualEffectsSupervisors=[];costumeDesigners=[];castingCrew=[];loadingCrew=!1;activatedRouteParentSubscription;crewFound=!1;movieCrewError=!1;errorMessage="";ngOnInit(){this.setId()}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(i=>{this.id=parseInt(i.id),this.getCrew()})}getCrew(){this.movieCrewError=!1,this.loadingCrew=!0,this.movieService.getMovieCrew(this.id).then(i=>{this.movieCrew=i,this.filterCrew()}).catch(i=>{this.handleError(i)}).finally(()=>{this.loadingCrew=!1})}handleError(i){this.movieCrewError=!0,this.errorMessage=i.message}reloadCrew(i){this.getCrew()}filterCrew(){this.direction=this.movieCrew.filter(i=>i.job=="Director"),this.writing=this.movieCrew.filter(i=>i.job=="Screenplay"),this.basedOnWorkBy=this.movieCrew.filter(i=>i.job=="Novel"),this.producing=this.movieCrew.filter(i=>i.job=="Producer"),this.executiveProducing=this.movieCrew.filter(i=>i.job=="Executive Producer"),this.coProducing=this.movieCrew.filter(i=>i.job=="Co-Producer"),this.directorsOfPhotography=this.movieCrew.filter(i=>i.job=="Director of Photography"),this.productionDesigners=this.movieCrew.filter(i=>i.job=="Production Design"),this.editors=this.movieCrew.filter(i=>i.job=="Editor"),this.musicComposers=this.movieCrew.filter(i=>i.job=="Original Music Composer"),this.additionalMusicComposers=this.movieCrew.filter(i=>i.job=="Additional Music"),this.visualEffectsSupervisors=this.movieCrew.filter(i=>i.job=="Visual Effects Supervisor"),this.costumeDesigners=this.movieCrew.filter(i=>i.job=="Costume Design"),this.castingCrew=this.movieCrew.filter(i=>i.job=="Casting")}ngOnDestroy(){this.activatedRouteParentSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||t)(u(F),u(S))};static \u0275cmp=C({type:t,selectors:[["app-movie-crew"]],standalone:!1,decls:3,vars:2,consts:[[1,"movie-crew"],[4,"ngIf"],["message","Loading crew..."],[3,"reload","errorMessage"],[1,"table-responsive"],[1,"table"],[1,"d-grid"],["routerLink","../full-crew",1,"btn","btn-primary","mb-2"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,s){e&1&&(r(0,"section",0),d(1,St,2,0,"ng-container",1)(2,li,3,2,"ng-container",1),o()),e&2&&(n(),a("ngIf",s.loadingCrew),n(),a("ngIf",!s.loadingCrew))},dependencies:[$,w,k,V,P],encapsulation:2})};var mi=t=>["/person",t];function si(t,i){t&1&&(l(0),_(1,"app-loading-inline",2),m())}function pi(t,i){if(t&1){let e=O();l(0),r(1,"app-movie-error",3),h("reload",function(g){y(e);let x=p(2);return I(x.reloadFullCrew(g))}),o(),m()}if(t&2){let e=p(2);n(),a("errorMessage",e.errorMessage)}}function di(t,i){if(t&1&&(r(0,"tr")(1,"td")(2,"a",17),c(3),o()(),r(4,"td"),c(5),o()()),t&2){let e=i.$implicit;n(2),a("routerLink",f(3,mi,e.id)),n(),v(" ",e.name," "),n(2),E(e.job)}}function _i(t,i){if(t&1){let e=O();l(0),r(1,"h2"),c(2,"Full Crew"),o(),r(3,"form",4)(4,"div",5)(5,"label",6),c(6,"Order by"),o(),r(7,"div",7)(8,"select",8),h("change",function(){y(e);let g=p(2);return I(g.changeCrewOrder())}),r(9,"option",9),c(10,"Select an order criteria"),o(),r(11,"option",10),c(12,"Name (ascending)"),o(),r(13,"option",11),c(14,"Name (descending)"),o(),r(15,"option",12),c(16,"Role (ascending)"),o(),r(17,"option",13),c(18,"Role (descending)"),o()()()()(),_(19,"hr"),r(20,"div",14)(21,"table",15)(22,"thead")(23,"tr")(24,"th"),c(25,"Name"),o(),r(26,"th"),c(27,"Role"),o()()(),r(28,"tbody"),d(29,di,6,5,"tr",16),o()()(),m()}if(t&2){let e=p(2);n(3),a("formGroup",e.orderForm),n(26),a("ngForOf",e.movieFullCrew)}}function vi(t,i){if(t&1&&(l(0),d(1,pi,2,1,"ng-container",1)(2,_i,30,2,"ng-container",1),m()),t&2){let e=p();n(),a("ngIf",e.movieFullCrewError),n(),a("ngIf",!e.movieFullCrewError)}}var ue=class t{constructor(i,e,s){this.activatedRoute=i;this.movieService=e;this.fb=s}id=0;originalMovieFullCrew=[];movieFullCrew=[];loadingFullCrew=!1;activatedRouteParentSubscription;orderForm=new X({});fullCrewFound=!1;movieFullCrewError=!1;errorMessage="";ngOnInit(){this.setId(),this.orderForm=this.fb.group({orderCrew:new Z("0")})}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(i=>{this.id=parseInt(i.id),this.getFullCrew()})}getFullCrew(){this.movieFullCrewError=!1,this.loadingFullCrew=!0,this.movieService.getMovieCrew(this.id).then(i=>{this.originalMovieFullCrew=i,this.movieFullCrew=i}).catch(i=>{this.handleError(i)}).finally(()=>{this.loadingFullCrew=!1})}handleError(i){this.movieFullCrewError=!0,this.errorMessage=i.message}reloadFullCrew(i){this.getFullCrew()}changeCrewOrder(){switch(this.orderForm.value.orderCrew){case"1":{this.movieFullCrew.sort((i,e)=>i.name.localeCompare(e.name));break}case"2":{this.movieFullCrew.sort((i,e)=>e.name.localeCompare(i.name));break}case"3":{this.movieFullCrew.sort((i,e)=>i.job.localeCompare(e.job));break}case"4":{this.movieFullCrew.sort((i,e)=>e.job.localeCompare(i.job));break}}}ngOnDestroy(){this.activatedRouteParentSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||t)(u(F),u(S),u(ae))};static \u0275cmp=C({type:t,selectors:[["app-movie-full-crew"]],standalone:!1,decls:3,vars:2,consts:[[1,"movie-full-crew"],[4,"ngIf"],["message","Loading full crew..."],[3,"reload","errorMessage"],[3,"formGroup"],[1,"row","align-items-center"],["for","orderCrew",1,"col-3"],[1,"col-9"],["formControlName","orderCrew","id","orderCrew","name","orderCrew",1,"form-control",3,"change"],["value","0","selected","","disabled",""],["value","1"],["value","2"],["value","3"],["value","4"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],["href","",3,"routerLink"]],template:function(e,s){e&1&&(r(0,"section",0),d(1,si,2,0,"ng-container",1)(2,vi,3,2,"ng-container",1),o()),e&2&&(n(),a("ngIf",s.loadingFullCrew),n(),a("ngIf",!s.loadingFullCrew))},dependencies:[$,w,k,V,P,ee,re,oe,ne,J,K,te,ie],encapsulation:2})};var fe=class{id;cast;crew;constructor(){this.id=0,this.cast=[],this.crew=[]}};function gi(t,i){if(t&1&&(l(0),r(1,"section",2)(2,"p"),c(3),o()(),m()),t&2){let e=p(2);n(3),E(e.movie.tagline)}}function ui(t,i){if(t&1&&(l(0),r(1,"section",0)(2,"p"),c(3),o()(),m()),t&2){let e=p(2);n(3),E(e.movie.overview)}}function fi(t,i){if(t&1&&(l(0),d(1,gi,4,1,"ng-container",1)(2,ui,4,1,"ng-container",1),m()),t&2){let e=p();n(),a("ngIf",e.movie.tagline),n(),a("ngIf",e.movie.overview)}}function Ci(t,i){t&1&&(l(0),_(1,"app-loading-fullscreen",3),m())}var Ce=class t{constructor(i,e){this.activatedRoute=i;this.movieService=e}id=0;movie=new j;credits=new fe;loadingMovie=!1;loadingCredits=!1;activatedRouteParentSubscription;ngOnInit(){this.setId()}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(i=>{this.id=parseInt(i.id),this.getMovie()})}getMovie(){this.loadingMovie=!0,this.movieService.getMovie(this.id).then(i=>{this.movie=i}).catch(i=>{}).finally(()=>{this.loadingCredits=!0})}getCredits(){this.loadingCredits=!0,this.movieService.getMovieCredits(this.id).then(i=>{this.credits=i}).catch(i=>{}).finally(()=>{this.loadingCredits=!1})}ngOnDestroy(){this.activatedRouteParentSubscription?.unsubscribe()}static \u0275fac=function(e){return new(e||t)(u(F),u(S))};static \u0275cmp=C({type:t,selectors:[["app-movie-overview"]],standalone:!1,decls:3,vars:2,consts:[[1,"movie-overview"],[4,"ngIf"],[1,"movie-tagline"],["message","Loading movie..."]],template:function(e,s){e&1&&(r(0,"section",0),d(1,fi,3,2,"ng-container",1)(2,Ci,2,0,"ng-container",1),o()),e&2&&(n(),a("ngIf",s.loadingMovie),n(),a("ngIf",!s.loadingMovie))},dependencies:[w,q],styles:[".movie-overview[_ngcontent-%COMP%]   .movie-tagline[_ngcontent-%COMP%]{font-style:italic}"]})};var hi=[{path:":id",component:de,children:[{path:"overview",component:Ce,pathMatch:"full"},{path:"cast",component:ve,pathMatch:"full"},{path:"crew",component:ge,pathMatch:"full"},{path:"full-crew",component:ue,pathMatch:"full"},{path:"",redirectTo:"overview",pathMatch:"full"}]}],he=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=D({type:t});static \u0275inj=T({imports:[Se.forChild(hi),Se]})};var be=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=D({type:t});static \u0275inj=T({imports:[A,Q]})};var Me=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=D({type:t});static \u0275inj=T({imports:[A]})};var qe=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=D({type:t});static \u0275inj=T({imports:[A,he,Ye,be,Ue,ze,We,Me,Q]})};export{qe as MovieModule};

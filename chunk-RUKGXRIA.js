import{a as V,b as mt,c as re,d as St,e as Mt}from"./chunk-N3CMOJQU.js";import{$ as nt,$a as ye,A as d,Aa as he,B as m,Ba as dt,D as M,E as P,Ea as be,F as c,Fa as Y,G as J,Ga as Pe,H as K,Ha as gt,I as W,Ia as ut,J as E,Ja as ft,K as ce,Ka as _t,L as l,La as Ct,M as v,Ma as vt,N as h,Na as ht,O as tt,Oa as bt,P as I,Pa as Pt,Q as L,Qa as xt,Ra as yt,S as N,Sa as wt,Ta as It,U as ie,V as fe,W as it,X as $,Y as w,Z as _e,Za as xe,_a as Et,a as ze,aa as rt,b as $e,ca as ne,d as Je,e as H,f as Ke,fa as ot,g as x,h as y,k as We,ka as U,l as G,la as at,ma as Ce,n as r,na as F,o as b,oa as st,p as C,pa as X,q as z,qa as lt,r as Xe,ra as D,s as Ze,t as g,u as O,ua as ve,v as et,w as o,x as a,y as s,ya as pt,z as f,za as ct}from"./chunk-4GCZKY2K.js";var Q=class{adult;also_known_as;biography;birthday;deathday;gender;homepage;id;imdb_id;known_for_department;name;place_of_birth;popularity;profile_path;constructor(){this.adult=!1,this.also_known_as=[],this.biography="",this.birthday="",this.deathday="",this.gender=1,this.homepage=null,this.id=0,this.imdb_id="",this.known_for_department="",this.name="",this.place_of_birth="",this.popularity=0,this.profile_path=""}};var A=class t{constructor(i){this.http=i}getPerson(i){return ze(this,null,function*(){return yield $e(this.http.get(`/person/${i}`))})}getCredits(i){return ze(this,null,function*(){return yield $e(this.http.get(`/person/${i}/movie_credits`))})}static \u0275fac=function(e){return new(e||t)(Ke(ot))};static \u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ie=class t{repeat=ve;errorMessage="";reload=new O;ngOnInit(){}pressReload(){this.reload.emit(!0)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-person-error-fullscreen"]],inputs:{errorMessage:"errorMessage"},outputs:{reload:"reload"},standalone:!1,decls:11,vars:2,consts:[[1,"person-error-fullscreen"],[1,"person-error-description"],["type","button",1,"btn","btn-primary",3,"click"],[3,"icon"]],template:function(e,n){e&1&&(a(0,"section",0)(1,"div",1)(2,"h1"),l(3,"Person Service Error"),s(),a(4,"p"),l(5,"There was an error trying to get person info: "),a(6,"strong"),l(7),s()(),a(8,"button",2),P("click",function(){return n.pressReload()}),f(9,"fa-icon",3),l(10," Reload "),s()()()),e&2&&(r(7),v(n.errorMessage),r(2),o("icon",n.repeat))},dependencies:[Y],styles:[".person-error-fullscreen[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}.person-error-fullscreen[_ngcontent-%COMP%]   .person-error-description[_ngcontent-%COMP%]{text-align:center;border:1px solid black;padding:1rem 2rem}.person-error-fullscreen[_ngcontent-%COMP%]   .person-error-description[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};var Ee=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-person-not-found"]],standalone:!1,decls:6,vars:0,consts:[[1,"person-not-found"],[1,"person-not-found-description"]],template:function(e,n){e&1&&(a(0,"section",0)(1,"div",1)(2,"h1"),l(3,"Person Not Found"),s(),a(4,"p"),l(5,"No person was found with this ID. Try another one :)"),s()()())},styles:[".person-not-found[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}.person-not-found[_ngcontent-%COMP%]   .person-not-found-description[_ngcontent-%COMP%]{text-align:center;border:1px solid black;padding:1rem 2rem}"]})};function Ht(t,i){if(t&1&&(d(0),l(1),m()),t&2){let e=c(2);r(),v(e.deathYear)}}function zt(t,i){if(t&1&&(d(0),l(1),g(2,Ht,2,1,"ng-container",6),l(3,") "),m()),t&2){let e=c();r(),h(" (",e.birthYear," - "),r(),o("ngIf",e.person.deathday)}}var Me=class t{user=pt;film=ct;id=0;person=new Q;name="";birthYear=0;deathYear=0;knownFor="";profileImg="";profileImgAltText="";constructor(){}ngOnInit(){this.setName(),this.setBirthYear(),this.setDeathDay(),this.setKnownFor(),this.setProfileImg()}setName(){this.person.name&&(this.name=this.person.name)}setBirthYear(){if(this.person.birthday){let i=new Date(this.person.birthday);this.birthYear=i.getFullYear()}}setDeathDay(){if(this.person.deathday){let i=new Date(this.person.deathday);this.deathYear=i.getFullYear()}}setKnownFor(){this.person.known_for_department&&(this.knownFor=this.person.known_for_department)}setProfileImg(){this.profileImg=this.person.profile_path?`${D.imgUrl}${D.profileSizeSmall}${this.person.profile_path}`:"img/default-images/profile_image_notavailable_w185.png",this.profileImgAltText=this.person.profile_path?`Profile path for ${this.person.name}`:`Profile path for ${this.person.name} is not available`}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-person-header"]],inputs:{id:"id",person:"person"},standalone:!1,decls:14,vars:7,consts:[[1,"person-header"],[1,"row","align-items-lg-center"],[1,"col-12","col-lg-2"],[1,"person-header-profile-img",3,"src","alt"],[1,"col-12","col-lg-10"],[3,"icon"],[4,"ngIf"]],template:function(e,n){e&1&&(a(0,"section",0)(1,"header")(2,"div",1)(3,"div",2),f(4,"img",3),s(),a(5,"div",4)(6,"h1"),f(7,"fa-icon",5),l(8),a(9,"small"),g(10,zt,4,2,"ng-container",6),s()(),a(11,"h2"),f(12,"fa-icon",5),l(13),s()()()()()),e&2&&(r(4),o("src",n.profileImg,G)("alt",n.profileImgAltText),r(3),o("icon",n.user),r(),h(" ",n.name," "),r(2),o("ngIf",n.person.birthday||n.person.deathday),r(2),o("icon",n.film),r(),h(" Known for: ",n.knownFor))},dependencies:[w,Y],styles:[".person-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{background-color:#ccc;padding:5rem 1rem 1rem}.person-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .person-header-profile-img[_ngcontent-%COMP%]{border:1px solid black;box-shadow:1px 1px 5px #000}@media screen and (max-width: 767px){.person-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .person-header-profile-img[_ngcontent-%COMP%]{margin-bottom:1rem}}"]})};var Ut=["personHeader"];function Qt(t,i){t&1&&(d(0),f(1,"app-loading-fullscreen",3),m())}function qt(t,i){t&1&&(d(0),f(1,"app-loading-fullscreen",4),m())}function Jt(t,i){t&1&&(d(0),f(1,"app-person-not-found"),m())}function Kt(t,i){if(t&1){let e=M();d(0),a(1,"app-person-error-fullscreen",5),P("reload",function(p){x(e);let u=c(4);return y(u.reloadPerson(p))}),s(),m()}if(t&2){let e=c(4);r(),o("errorMessage",e.errorMessage)}}function Wt(t,i){if(t&1&&(d(0),g(1,Jt,2,0,"ng-container",2)(2,Kt,2,1,"ng-container",2),m()),t&2){let e=c(3);r(),o("ngIf",e.personNotFound),r(),o("ngIf",!e.personNotFound)}}function Xt(t,i){if(t&1&&(d(0),f(1,"app-person-header",6,0),a(3,"main")(4,"nav",7)(5,"div",8)(6,"ul",9)(7,"li",10)(8,"a",11),l(9," Overview "),s()(),a(10,"li",10)(11,"a",12),l(12," Cast Credits "),s()(),a(13,"li",10)(14,"a",13),l(15," Crew Credits "),s()()()()(),a(16,"div",8)(17,"div",14)(18,"div",15),f(19,"router-outlet"),s()()()(),m()),t&2){let e=c(3);r(),o("id",e.id)("person",e.person)}}function Zt(t,i){if(t&1&&(d(0),g(1,Wt,3,2,"ng-container",2)(2,Xt,20,2,"ng-container",2),m()),t&2){let e=c(2);r(),o("ngIf",e.personError),r(),o("ngIf",!e.personError)}}function ei(t,i){if(t&1&&(d(0),g(1,qt,2,0,"ng-container",2)(2,Zt,3,2,"ng-container",2),m()),t&2){let e=c();r(),o("ngIf",e.loadingPerson),r(),o("ngIf",!e.loadingPerson)}}var De=class t{constructor(i,e,n,p,u){this.activatedRoute=i;this.titleService=e;this.personService=n;this.localStorageService=p;this.cd=u}id=0;person=new Q;loadingView=!0;loadingPerson=!1;personNotFound=!1;personError=!1;errorMessage="";personBiography="";routeSubscription;personHeader;ngOnInit(){this.cd.detectChanges(),this.routeSubscription=this.activatedRoute.params.subscribe(i=>{this.id=parseInt(i.id),this.getPerson()})}ngAfterContentInit(){this.loadingView=!1,this.cd.detectChanges()}getPerson(){this.personError=!1,this.loadingPerson=!0,this.personService.getPerson(this.id).then(i=>{this.person=i,this.localStorageService.setItem("person",i),this.setPersonTitle(),this.setPersonBiography()}).catch(i=>{this.handleError(i)}).finally(()=>{this.loadingPerson=!1})}setPersonBiography(){this.personBiography=this.person.biography}handleError(i){this.personError=!0,i.status&&i.status===404?(this.personNotFound=!0,this.titleService.setTitle("Person Not Found")):(this.errorMessage=this.errorMessage,this.titleService.setTitle("PersonService Error"))}reloadPerson(i){this.getPerson()}setPersonTitle(){this.titleService.setTitle(this.person.name)}ngOnDestroy(){this.routeSubscription&&this.routeSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||t)(b(U),b(lt),b(A),b(V),b(fe))};static \u0275cmp=C({type:t,selectors:[["app-person"]],viewQuery:function(e,n){if(e&1&&J(Ut,5),e&2){let p;K(p=W())&&(n.personHeader=p.first)}},standalone:!1,decls:3,vars:2,consts:[["personHeader",""],[1,"person"],[4,"ngIf"],["message","Loading view..."],["message","Loading person..."],[3,"reload","errorMessage"],[3,"id","person"],[1,"navbar","navbar-dark","bg-dark","navbar-expand-sm"],[1,"container-fluid"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page","routerLink","overview","routerLinkActive","active",1,"nav-link"],["routerLink","cast-credits","routerLinkActive","active",1,"nav-link"],["routerLink","crew-credits","routerLinkActive","active",1,"nav-link"],[1,"row"],[1,"col-12"]],template:function(e,n){e&1&&(a(0,"section",1),g(1,Qt,2,0,"ng-container",2)(2,ei,3,2,"ng-container",2),s()),e&2&&(r(),o("ngIf",n.loadingView),r(),o("ngIf",!n.loadingView))},dependencies:[w,at,F,st,mt,Ie,Ee,Me],styles:[".person[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   nav.navbar[_ngcontent-%COMP%]{margin-bottom:1rem;font-family:Oswald,Arial,sans-serif}"]})};var q=class t{repeat=ve;errorMessage="";reload=new O;ngOnInit(){}pressReload(){this.reload.emit(!0)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-person-error"]],inputs:{errorMessage:"errorMessage"},outputs:{reload:"reload"},standalone:!1,decls:9,vars:2,consts:[[1,"person-error"],["type","button",1,"btn","btn-primary",3,"click"],[3,"icon"]],template:function(e,n){e&1&&(a(0,"section",0)(1,"h1"),l(2,"Person Service Error"),s(),a(3,"p"),l(4," There was an error trying to get person info: "),a(5,"strong"),l(6),s()(),a(7,"button",1),P("click",function(){return n.pressReload()}),f(8,"fa-icon",2),s()()),e&2&&(r(6),v(n.errorMessage),r(2),o("icon",n.repeat))},dependencies:[Y],styles:[".person-error[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};var ti=t=>["/person",t,"cast-credits"],ii=t=>["/person",t,"crew-credits"];function ni(t,i){t&1&&(d(0),f(1,"app-loading-inline",2),m())}function ri(t,i){if(t&1){let e=M();d(0),a(1,"app-person-error",3),P("reload",function(p){x(e);let u=c(2);return y(u.reloadOverview(p))}),s(),m()}if(t&2){let e=c(2);r(),o("errorMessage",e.errorMessage)}}function oi(t,i){if(t&1&&(d(0),a(1,"section",10)(2,"h2"),l(3,"Biography"),s(),a(4,"p"),l(5),s()(),a(6,"section",11)(7,"div",4)(8,"div",12)(9,"div",13)(10,"a",14),l(11," View Cast Credits "),s()()(),a(12,"div",12)(13,"div",13)(14,"a",14),l(15," View Crew Credits "),s()()()()(),m()),t&2){let e=c(3);r(5),v(e.personBiography),r(5),o("routerLink",I(3,ti,e.id)),r(4),o("routerLink",I(5,ii,e.id))}}function ai(t,i){t&1&&(d(0),a(1,"section",15)(2,"p"),l(3,"No Biography Available"),s()(),m())}function si(t,i){if(t&1&&(d(0),f(1,"br"),l(2),m()),t&2){let e=c(4);r(2),h(" in ",e.personPlaceBirth," ")}}function li(t,i){if(t&1&&(d(0),a(1,"tr")(2,"td"),l(3,"Born:"),s(),a(4,"td"),l(5),L(6,"date"),g(7,si,3,1,"ng-container",1),s()(),m()),t&2){let e=c(3);r(5),h(" ",N(6,2,e.personBirthDay,"longDate")," "),r(2),o("ngIf",e.person.place_of_birth)}}function pi(t,i){if(t&1&&(d(0),a(1,"tr")(2,"td"),l(3,"Died:"),s(),a(4,"td"),l(5),L(6,"date"),s()(),m()),t&2){let e=c(3);r(5),h(" ",N(6,1,e.personDeathDay,"longDate")," ")}}function ci(t,i){if(t&1&&(d(0),a(1,"tr")(2,"td"),l(3,"Main occupation:"),s(),a(4,"td"),l(5),s()(),m()),t&2){let e=c(3);r(5),h(" ",e.personMainOccupation," ")}}function di(t,i){if(t&1&&(d(0),a(1,"div",16)(2,"a",17),f(3,"fa-icon",18),l(4," View IMDB "),s()(),m()),t&2){let e=c(3);r(2),o("href",e.personIMDBUrl,G),r(),o("icon",e.imdbIcon)}}function mi(t,i){if(t&1&&(d(0),a(1,"div",16)(2,"a",17),f(3,"fa-icon",18),l(4," View Homepage "),s()(),m()),t&2){let e=c(3);r(2),o("href",e.personHomepageUrl,G),r(),o("icon",e.globeIcon)}}function gi(t,i){if(t&1&&(d(0),a(1,"div",4)(2,"div",5),g(3,oi,16,7,"ng-container",1)(4,ai,4,0,"ng-container",1),s(),a(5,"div",6)(6,"section",7)(7,"h2"),l(8,"General Information"),s(),a(9,"div",8)(10,"table",9)(11,"tbody"),g(12,li,8,5,"ng-container",1)(13,pi,7,4,"ng-container",1)(14,ci,6,1,"ng-container",1),s()()(),g(15,di,5,2,"ng-container",1)(16,mi,5,2,"ng-container",1),s()()(),m()),t&2){let e=c(2);r(3),o("ngIf",e.person.biography),r(),o("ngIf",e.person.biography.length===0),r(8),o("ngIf",e.person.birthday),r(),o("ngIf",e.person.deathday),r(),o("ngIf",e.person.known_for_department),r(),o("ngIf",e.person.imdb_id),r(),o("ngIf",e.person.homepage)}}function ui(t,i){if(t&1&&(d(0),g(1,ri,2,1,"ng-container",1)(2,gi,17,7,"ng-container",1),m()),t&2){let e=c();r(),o("ngIf",e.personOverviewError),r(),o("ngIf",!e.personOverviewError)}}var Re=class t{constructor(i,e,n){this.activatedRoute=i;this.personService=e;this.localStorageService=n}imdbIcon=St;globeIcon=dt;id=0;person=new Q;activatedRouteParentSubscription;loadingPerson=!1;personBiography="";personBirthDay;personDeathDay;personPlaceBirth="";personMainOccupation="";personIMDBUrl="";personHomepageUrl="";personFound=!1;personOverviewError=!1;errorMessage="";ngOnInit(){this.setId()}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(i=>{this.id=parseInt(i.id),this.getPerson()})}getPerson(){this.personOverviewError=!1,this.loadingPerson=!0;let i=this.localStorageService.getItem("person");i?(this.person=i,this.loadingPerson=!1,this.setPersonBiography(),this.setPersonInfotable()):this.personService.getPerson(this.id).then(e=>{this.person=e,this.personFound=!0,this.setPersonBiography(),this.setPersonInfotable()}).catch(e=>{this.handleError(e)}).finally(()=>{this.loadingPerson=!1})}handleError(i){this.personOverviewError=!0,this.errorMessage=i.message}reloadOverview(i){this.getPerson()}setPersonBiography(){this.person.biography.length!==0&&(this.personBiography=this.person.biography)}setPersonInfotable(){this.person.birthday&&(this.personBirthDay=new Date(this.person.birthday)),this.person.place_of_birth&&(this.personPlaceBirth=this.person.place_of_birth),this.person.deathday&&(this.personDeathDay=new Date(this.person.deathday)),this.person.known_for_department&&(this.personMainOccupation=this.person.known_for_department),this.person.imdb_id&&(this.personIMDBUrl=`${D.imdbPersonUrl}${this.person.imdb_id}`),this.person.homepage&&(this.personHomepageUrl=`${this.person.homepage}`)}ngOnDestroy(){this.activatedRouteParentSubscription&&this.activatedRouteParentSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||t)(b(U),b(A),b(V))};static \u0275cmp=C({type:t,selectors:[["app-person-overview"]],standalone:!1,decls:3,vars:2,consts:[[1,"person-overview"],[4,"ngIf"],["message","Loading person..."],[3,"reload","errorMessage"],[1,"row"],[1,"col-12","col-lg-8"],[1,"col-12","col-lg-4"],[1,"person-infotable"],[1,"table","table-responsive"],[1,"table"],[1,"person-biography"],[1,"person-links"],[1,"col-12","col-lg-6"],[1,"d-grid"],[1,"btn","btn-primary","mb-2",3,"routerLink"],[1,"no-person-biography-available"],[1,"d-grid","mb-2"],["target","_blank",1,"btn","btn-primary",3,"href"],[3,"icon"]],template:function(e,n){e&1&&(a(0,"section",0),g(1,ni,2,0,"ng-container",1)(2,ui,3,2,"ng-container",1),s()),e&2&&(r(),o("ngIf",n.loadingPerson),r(),o("ngIf",!n.loadingPerson))},dependencies:[w,F,re,Y,q,nt],styles:[".person-overview[_ngcontent-%COMP%]   .person-biography[_ngcontent-%COMP%]{margin-bottom:1rem}.person-overview[_ngcontent-%COMP%]   .no-person-biography-available[_ngcontent-%COMP%]{font-style:italic;margin-bottom:1rem}.person-overview[_ngcontent-%COMP%]   .person-links[_ngcontent-%COMP%], .person-overview[_ngcontent-%COMP%]   .person-infotable[_ngcontent-%COMP%]{margin-bottom:1rem}"]})};var oe=class{id;cast;crew;constructor(){this.id=0,this.cast=[],this.crew=[]}};var Rt=t=>({"btn-primary":t}),ae=class t{gridIcon=be;listIcon=he;displayMode="grid";onDisplayChange=new O;ngOnInit(){}toggleDisplay(i){this.displayMode=i,this.onDisplayChange.emit(i)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-display-selector"]],outputs:{onDisplayChange:"onDisplayChange"},standalone:!1,decls:10,vars:8,consts:[[1,"credits-display"],[1,"form-group","mb-3"],[1,"btn-group"],["type","button","ngbTooltip","as Grid",1,"btn","border",3,"click","ngClass"],[3,"icon"],["type","button","ngbTooltip","as List",1,"btn","border",3,"click","ngClass"]],template:function(e,n){e&1&&(a(0,"section",0)(1,"div",1)(2,"label"),l(3,"Display:"),s(),f(4,"br"),a(5,"div",2)(6,"button",3),P("click",function(){return n.toggleDisplay("grid")}),f(7,"fa-icon",4),s(),a(8,"button",5),P("click",function(){return n.toggleDisplay("list")}),f(9,"fa-icon",4),s()()()()),e&2&&(r(6),o("ngClass",I(4,Rt,n.displayMode=="grid")),r(),o("icon",n.gridIcon),r(),o("ngClass",I(6,Rt,n.displayMode=="list")),r(),o("icon",n.listIcon))},dependencies:[it,Y,Et],encapsulation:2})};function fi(t,i){if(t&1&&(a(0,"option",7),l(1),s()),t&2){let e=i.$implicit;o("value",e.id),r(),h(" ",e.orderCriteriaName," ")}}var se=class t{constructor(i){this.fb=i}orderCriterias=[];orderForm=new ft({});onOrderCriteriaChange=new O;ngOnInit(){this.orderForm=this.fb.group({order:new _t(0)})}orderCriteriaChange(){let i=this.orderForm.controls.order.value;this.onOrderCriteriaChange.emit(i)}static \u0275fac=function(e){return new(e||t)(b(yt))};static \u0275cmp=C({type:t,selectors:[["app-order-select"]],inputs:{orderCriterias:"orderCriterias"},outputs:{onOrderCriteriaChange:"onOrderCriteriaChange"},standalone:!1,decls:9,vars:2,consts:[[1,"order-select"],[3,"formGroup"],[1,"form-group"],["for","order"],["id","order","name","order","formControlName","order",1,"form-control",3,"change"],["value","0","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,n){e&1&&(a(0,"section",0)(1,"form",1)(2,"div",2)(3,"label",3),l(4,"Order by:"),s(),a(5,"select",4),P("change",function(){return n.orderCriteriaChange()}),a(6,"option",5),l(7,"Select an order criteria"),s(),g(8,fi,2,2,"option",6),s()()()()),e&2&&(r(),o("formGroup",n.orderForm),r(7),o("ngForOf",n.orderCriterias))},dependencies:[$,Ct,Pt,xt,bt,gt,ut,vt,ht],encapsulation:2})};var le=class{adult;backdrop_path;genre_ids;id;original_language;original_title;overview;popularity;poster_path;release_date;title;video;vote_average;vote_count;character;credit_id;order;constructor(){this.adult=!1,this.backdrop_path="",this.genre_ids=[],this.id=0,this.original_language="",this.original_title="",this.overview="",this.popularity=0,this.poster_path="",this.release_date="",this.title="",this.video=!1,this.vote_average=0,this.vote_count=0,this.character="",this.credit_id="",this.order=0}};var _i=t=>["/movie",t],Ci=t=>({"background-image":t});function vi(t,i){if(t&1&&(d(0),l(1),m()),t&2){let e=c();r(),v(e.releaseYear)}}function hi(t,i){t&1&&(d(0),l(1,"No Release Year"),m())}function bi(t,i){if(t&1&&(d(0),l(1),m()),t&2){let e=c();r(),h("as ",e.castRole.character)}}function Pi(t,i){t&1&&(d(0),l(1,"No Role Defined"),m())}function xi(t,i){if(t&1&&(d(0),l(1),m()),t&2){let e=c(2);r(),v(e.releaseYear)}}function yi(t,i){t&1&&(d(0),l(1,"No Release Year"),m())}function wi(t,i){if(t&1&&(l(0),g(1,xi,2,1,"ng-container",8)(2,yi,2,0,"ng-container",8),l(3,") ")),t&2){let e=c();h(" ",e.castRole.title," ("),r(),o("ngIf",e.releaseYear),r(),o("ngIf",!e.releaseYear)}}function Ii(t,i){if(t&1&&(d(0),l(1),m()),t&2){let e=c(2);r(),h("as ",e.castRole.character)}}function Si(t,i){t&1&&(d(0),l(1,"No Role Defined"),m())}function Ei(t,i){if(t&1&&g(0,Ii,2,1,"ng-container",8)(1,Si,2,0,"ng-container",8),t&2){let e=c();o("ngIf",e.castRole.character),r(),o("ngIf",!e.castRole.character)}}var Oe=class t{castRole=new le;posterSizeSmall="";releaseYear=0;ngOnInit(){this.setPoster(),this.setYear()}setPoster(){this.posterSizeSmall=this.castRole.poster_path?`${D.imgUrl}${D.posterSizeSmall}${this.castRole.poster_path}`:"img/default-images/movie_poster_notavailable_w500.png"}setYear(){let i=new Date(this.castRole.release_date);this.releaseYear=i.getFullYear()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-person-cast-credit-grid"]],inputs:{castRole:"castRole"},standalone:!1,decls:18,vars:15,consts:[["castPopTitle",""],["castPopContent",""],[1,"person-cast-credit-grid"],["placement","bottom","triggers","hover",3,"routerLink","popoverTitle","ngbPopover","container","popoverClass"],[1,"person-link","person-cast-credit"],[1,"person-poster",3,"ngStyle"],[1,"person-info"],[1,"person-info-container"],[4,"ngIf"]],template:function(e,n){if(e&1&&(a(0,"section",2)(1,"a",3)(2,"section",4),f(3,"section",5),a(4,"section",6)(5,"section",7)(6,"span"),l(7),g(8,vi,2,1,"ng-container",8)(9,hi,2,0,"ng-container",8),l(10,") "),s(),a(11,"span"),g(12,bi,2,1,"ng-container",8)(13,Pi,2,0,"ng-container",8),s()()()()(),g(14,wi,4,3,"ng-template",null,0,ie)(16,Ei,2,2,"ng-template",null,1,ie),s()),e&2){let p=E(15),u=E(17);r(),o("routerLink",I(11,_i,n.castRole.id))("popoverTitle",p)("ngbPopover",u)("container","body")("popoverClass","person-popover"),r(2),o("ngStyle",I(13,Ci,"url("+n.posterSizeSmall+")")),r(4),h("",n.castRole.title," ("),r(),o("ngIf",n.releaseYear),r(),o("ngIf",!n.releaseYear),r(3),o("ngIf",n.castRole.character),r(),o("ngIf",!n.castRole.character)}},dependencies:[w,_e,F,xe],encapsulation:2})};var Di=t=>["/movie",t];function Ri(t,i){if(t&1&&(d(0),l(1),m()),t&2){let e=c();r(),v(e.releaseYear)}}function Oi(t,i){t&1&&(d(0),l(1,"No Release Year"),m())}function Ti(t,i){if(t&1&&(d(0),l(1),m()),t&2){let e=c();r(),h("as ",e.castRole.character)}}function ki(t,i){t&1&&(d(0),l(1,"No Role Defined"),m())}var Te=class t{castRole=new le;posterSizeSmall="";releaseYear=0;ngOnInit(){this.setPoster(),this.setYear()}setPoster(){this.posterSizeSmall=this.castRole.poster_path?`${D.imgUrl}${D.posterSizeSmall}${this.castRole.poster_path}`:"img/default-images/movie_poster_notavailable_w500.png"}setYear(){let i=new Date(this.castRole.release_date);this.releaseYear=i.getFullYear()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-person-cast-credit-list"]],inputs:{castRole:"castRole"},standalone:!1,decls:14,vars:10,consts:[[1,"person-cast-credit-list"],[3,"routerLink"],[1,"list-content"],[3,"src","alt"],[1,"list-detail"],[4,"ngIf"]],template:function(e,n){e&1&&(a(0,"section",0)(1,"a",1)(2,"div",2),f(3,"img",3),a(4,"div",4)(5,"span"),l(6),g(7,Ri,2,1,"ng-container",5)(8,Oi,2,0,"ng-container",5),l(9,") "),s(),f(10,"br"),a(11,"span"),g(12,Ti,2,1,"ng-container",5)(13,ki,2,0,"ng-container",5),s()()()()()),e&2&&(r(),o("routerLink",I(8,Di,n.castRole.id)),r(2),o("src",n.posterSizeSmall,G)("alt","Poster for "+n.castRole.title),r(3),h(" ",n.castRole.title," ("),r(),o("ngIf",n.releaseYear),r(),o("ngIf",!n.releaseYear),r(4),o("ngIf",n.castRole.character),r(),o("ngIf",!n.castRole.character))},dependencies:[w,F],encapsulation:2})};function Ni(t,i){if(t&1){let e=M();a(0,"a",12),P("keyup.enter",function(){x(e),c(3);let p=E(1);return y(p.previous())})("click",function(){x(e),c(3);let p=E(1);return y(p.previous())}),l(1),a(2,"span",13),l(3),s()()}if(t&2){let e=c(3);r(),h(" ",e.previousLabel," "),r(2),v(e.screenReaderPageLabel)}}function Fi(t,i){if(t&1&&(a(0,"span",14),l(1),a(2,"span",13),l(3),s()()),t&2){let e=c(3);r(),h(" ",e.previousLabel," "),r(2),v(e.screenReaderPageLabel)}}function Vi(t,i){if(t&1&&(a(0,"li",9),g(1,Ni,4,2,"a",10)(2,Fi,4,2,"span",11),s()),t&2){c(2);let e=E(1);ce("disabled",e.isFirstPage()),r(),o("ngIf",1<e.getCurrent()),r(),o("ngIf",e.isFirstPage())}}function Bi(t,i){if(t&1){let e=M();a(0,"a",12),P("keyup.enter",function(){x(e);let p=c().$implicit;c(2);let u=E(1);return y(u.setCurrent(p.value))})("click",function(){x(e);let p=c().$implicit;c(2);let u=E(1);return y(u.setCurrent(p.value))}),a(1,"span",13),l(2),s(),a(3,"span"),l(4),L(5,"number"),s()()}if(t&2){let e=c().$implicit,n=c(2);r(2),h("",n.screenReaderPageLabel," "),r(2),v(e.label==="..."?e.label:N(5,2,e.label,""))}}function Yi(t,i){if(t&1&&(d(0),a(1,"span",16)(2,"span",13),l(3),s(),a(4,"span"),l(5),L(6,"number"),s()(),m()),t&2){let e=c().$implicit,n=c(2);r(3),h("",n.screenReaderCurrentLabel," "),r(2),v(e.label==="..."?e.label:N(6,2,e.label,""))}}function Ai(t,i){if(t&1&&(a(0,"li"),g(1,Bi,6,5,"a",10)(2,Yi,7,5,"ng-container",15),s()),t&2){let e=i.$implicit;c(2);let n=E(1);ce("current",n.getCurrent()===e.value)("ellipsis",e.label==="..."),r(),o("ngIf",n.getCurrent()!==e.value),r(),o("ngIf",n.getCurrent()===e.value)}}function ji(t,i){if(t&1){let e=M();a(0,"a",12),P("keyup.enter",function(){x(e),c(3);let p=E(1);return y(p.next())})("click",function(){x(e),c(3);let p=E(1);return y(p.next())}),l(1),a(2,"span",13),l(3),s()()}if(t&2){let e=c(3);r(),h(" ",e.nextLabel," "),r(2),v(e.screenReaderPageLabel)}}function Gi(t,i){if(t&1&&(a(0,"span",14),l(1),a(2,"span",13),l(3),s()()),t&2){let e=c(3);r(),h(" ",e.nextLabel," "),r(2),v(e.screenReaderPageLabel)}}function Hi(t,i){if(t&1&&(a(0,"li",17),g(1,ji,4,2,"a",10)(2,Gi,4,2,"span",11),s()),t&2){c(2);let e=E(1);ce("disabled",e.isLastPage()),r(),o("ngIf",!e.isLastPage()),r(),o("ngIf",e.isLastPage())}}function zi(t,i){if(t&1&&(a(0,"ul",4),g(1,Vi,3,4,"li",5),a(2,"li",6),l(3),s(),g(4,Ai,3,6,"li",7)(5,Hi,3,4,"li",8),s()),t&2){let e=c(),n=E(1);ce("responsive",e.responsive),r(),o("ngIf",e.directionLinks),r(2),tt(" ",n.getCurrent()," / ",n.getLastPage()," "),r(),o("ngForOf",n.pages)("ngForTrackBy",e.trackByIndex),r(),o("ngIf",e.directionLinks)}}var me=class{constructor(){this.change=new O,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(i){return i.id==null&&(i.id=this.DEFAULT_ID),this.instances[i.id]?this.updateInstance(i):(this.instances[i.id]=i,!0)}updateInstance(i){let e=!1;for(let n in this.instances[i.id])i[n]!==this.instances[i.id][n]&&(this.instances[i.id][n]=i[n],e=!0);return e}getCurrentPage(i){return this.instances[i]?this.instances[i].currentPage:1}setCurrentPage(i,e){if(this.instances[i]){let n=this.instances[i],p=Math.ceil(n.totalItems/n.itemsPerPage);e<=p&&1<=e&&(this.instances[i].currentPage=e,this.change.emit(i))}}setTotalItems(i,e){this.instances[i]&&0<=e&&(this.instances[i].totalItems=e,this.change.emit(i))}setItemsPerPage(i,e){this.instances[i]&&(this.instances[i].itemsPerPage=e,this.change.emit(i))}getInstance(i=this.DEFAULT_ID){return this.instances[i]?this.clone(this.instances[i]):{}}clone(i){var e={};for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n]);return e}},$i=Number.MAX_SAFE_INTEGER,ke=(()=>{class t{constructor(e){this.service=e,this.state={}}transform(e,n){if(!(e instanceof Array)){let ee=n.id||this.service.defaultId();return this.state[ee]?this.state[ee].slice:e}let p=n.totalItems&&n.totalItems!==e.length,u=this.createInstance(e,n),_=u.id,k,B,j=u.itemsPerPage,ge=this.service.register(u);if(!p&&e instanceof Array){if(j=+j||$i,k=(u.currentPage-1)*j,B=k+j,this.stateIsIdentical(_,e,k,B))return this.state[_].slice;{let ue=e.slice(k,B);return this.saveState(_,e,ue,k,B),this.service.change.emit(_),ue}}else return ge&&this.service.change.emit(_),this.saveState(_,e,e,k,B),e}createInstance(e,n){return this.checkConfig(n),{id:n.id!=null?n.id:this.service.defaultId(),itemsPerPage:+n.itemsPerPage||0,currentPage:+n.currentPage||1,totalItems:+n.totalItems||e.length}}checkConfig(e){let p=["itemsPerPage","currentPage"].filter(u=>!(u in e));if(0<p.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${p.join(", ")}`)}saveState(e,n,p,u,_){this.state[e]={collection:n,size:n.length,slice:p,start:u,end:_}}stateIsIdentical(e,n,p,u){let _=this.state[e];return!_||!(_.size===n.length&&_.start===p&&_.end===u)?!1:_.slice.every((B,j)=>B===n[p+j])}}return t.\u0275fac=function(e){return new(e||t)(b(me,16))},t.\u0275pipe=Ze({name:"paginate",type:t,pure:!1,standalone:!1}),t})();var Ui=(()=>{class t{constructor(e,n){this.service=e,this.changeDetectorRef=n,this.maxSize=7,this.pageChange=new O,this.pageBoundsCorrection=new O,this.pages=[],this.changeSub=this.service.change.subscribe(p=>{this.id===p&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){this.id===void 0&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(e){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return this.getCurrent()===1}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(e){this.pageChange.emit(e)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let e=this.service.getInstance(this.id);return e.totalItems<1?1:Math.ceil(e.totalItems/e.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){this.service.getInstance(this.id).id==null&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let e=this.service.getInstance(this.id),n=this.outOfBoundCorrection(e);n!==e.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(n),this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}outOfBoundCorrection(e){let n=Math.ceil(e.totalItems/e.itemsPerPage);return n<e.currentPage&&0<n?n:e.currentPage<1?1:e.currentPage}createPageArray(e,n,p,u){u=+u;let _=[],k=Math.max(Math.ceil(p/n),1),B=Math.ceil(u/2),j=e<=B,ge=k-B<e,ee=!j&&!ge,ue=u<k,te=1;for(;te<=k&&te<=u;){let He,qe=this.calculatePageNumber(te,e,u,k),Yt=te===2&&(ee||ge),At=te===u-1&&(ee||j);ue&&(Yt||At)?He="...":He=qe,_.push({label:He,value:qe}),te++}return _}calculatePageNumber(e,n,p,u){let _=Math.ceil(p/2);return e===p?u:e===1?e:p<u?u-_<n?u-p+e:_<n?n-_+e:e:e}}return t.\u0275fac=function(e){return new(e||t)(b(me),b(fe))},t.\u0275dir=Xe({type:t,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],standalone:!1,features:[We]}),t})();function Qe(t){return!!t&&t!=="false"}var Le=(()=>{class t{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new O,this.pageBoundsCorrection=new O,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(e){this._directionLinks=Qe(e)}get autoHide(){return this._autoHide}set autoHide(e){this._autoHide=Qe(e)}get responsive(){return this._responsive}set responsive(e){this._responsive=Qe(e)}trackByIndex(e){return e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=C({type:t,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},standalone:!1,decls:4,vars:4,consts:[["p","paginationApi"],[3,"pageChange","pageBoundsCorrection","id","maxSize"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(e,n){if(e&1){let p=M();a(0,"pagination-template",1,0),P("pageChange",function(_){return x(p),y(n.pageChange.emit(_))})("pageBoundsCorrection",function(_){return x(p),y(n.pageBoundsCorrection.emit(_))}),a(2,"nav",2),g(3,zi,6,8,"ul",3),s()()}if(e&2){let p=E(1);o("id",n.id)("maxSize",n.maxSize),r(2),et("aria-label",n.screenReaderPaginationLabel),r(),o("ngIf",!(n.autoHide&&p.pages.length<=1))}},dependencies:[Ui,w,$,rt],styles:[`.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}
`],encapsulation:2,changeDetection:0}),t})(),Lt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=z({type:t}),t.\u0275inj=H({providers:[me],imports:[[ne]]}),t})();var Qi=["starringParagraph"],qi=["castCreditsList"],Ft=t=>({itemsPerPage:20,currentPage:t});function Ji(t,i){if(t&1&&(d(0),a(1,"div",15),f(2,"app-person-cast-credit-grid",16),s(),m()),t&2){let e=i.$implicit;r(2),o("castRole",e)}}function Ki(t,i){if(t&1&&(d(0),a(1,"section",13)(2,"div",3,1),g(4,Ji,3,1,"ng-container",14),L(5,"paginate"),s()(),m()),t&2){let e=c();r(4),o("ngForOf",N(5,1,e.filterCastCredits,I(4,Ft,e.page)))}}function Wi(t,i){if(t&1&&(d(0),f(1,"app-person-cast-credit-list",16),m()),t&2){let e=i.$implicit;r(),o("castRole",e)}}function Xi(t,i){if(t&1&&(d(0),a(1,"section",17),g(2,Wi,2,1,"ng-container",14),L(3,"paginate"),s(),m()),t&2){let e=c();r(2),o("ngForOf",N(3,1,e.filterCastCredits,I(4,Ft,e.page)))}}var Ne=class t{constructor(i){this.localStorageService=i}gridIcon=be;listIcon=he;castCredits=[];starringParagraph;castCreditsList;loadingPerson=!1;displayMode="grid";orderCriterias=[{id:1,orderCriteriaName:"Default Order"},{id:2,orderCriteriaName:"Title (ascending)"},{id:3,orderCriteriaName:"Title (descending)"},{id:4,orderCriteriaName:"Character Name (ascending)"},{id:5,orderCriteriaName:"Character Name (descending)"},{id:6,orderCriteriaName:"Release Date (ascending)"},{id:7,orderCriteriaName:"Release Date (descending)"}];currentPerson;filterCastCredits=[];page=1;ngOnInit(){this.filterCastCredits=structuredClone(this.castCredits),this.getPerson()}getPerson(){this.loadingPerson=!0,this.currentPerson=this.localStorageService.getItem("person")}changePage(i){this.page=i,this.starringParagraph.nativeElement.scrollIntoView({behavior:"smooth",block:"start"})}changeDisplay(i){this.displayMode=i}orderCriteriaChange(i){switch(i){case"1":{this.filterCastCredits=structuredClone(this.castCredits);break}case"2":{this.filterCastCredits.sort((e,n)=>e.title.localeCompare(n.title));break}case"3":{this.filterCastCredits.sort((e,n)=>n.title.localeCompare(e.title));break}case"4":{this.filterCastCredits.sort((e,n)=>e.character.localeCompare(n.character));break}case"5":{this.filterCastCredits.sort((e,n)=>n.character.localeCompare(e.character));break}case"6":{this.filterCastCredits.sort((e,n)=>{let p=new Date(e.release_date),u=new Date(n.release_date);return p.getTime()-u.getTime()});break}case"7":{this.filterCastCredits.sort((e,n)=>{let p=new Date(e.release_date);return new Date(n.release_date).getTime()-p.getTime()});break}}}static \u0275fac=function(e){return new(e||t)(b(V))};static \u0275cmp=C({type:t,selectors:[["app-person-movie-credits-cast"]],viewQuery:function(e,n){if(e&1&&(J(Qi,5),J(qi,5)),e&2){let p;K(p=W())&&(n.starringParagraph=p.first),K(p=W())&&(n.castCreditsList=p.first)}},inputs:{castCredits:"castCredits"},standalone:!1,decls:19,vars:4,consts:[["starringParagraph",""],["castCreditsList",""],[1,"person-movie-credits-cast"],[1,"row"],[1,"col-12"],[1,"col-12","col-lg-6"],[3,"onDisplayChange"],[3,"onOrderCriteriaChange","orderCriterias"],[1,"cast-credits"],[4,"ngIf"],[1,"cast-credits-pagination"],[1,"d-flex","justify-content-center"],[3,"pageChange"],[1,"cast-credits-display-grid"],[4,"ngFor","ngForOf"],[1,"col-12","col-lg-3"],[3,"castRole"],[1,"cast-credits-display-list"]],template:function(e,n){if(e&1){let p=M();a(0,"section",2)(1,"div",3)(2,"div",4)(3,"div",3)(4,"div",5)(5,"app-display-selector",6),P("onDisplayChange",function(_){return x(p),y(n.changeDisplay(_))}),s()(),a(6,"div",5)(7,"app-order-select",7),P("onOrderCriteriaChange",function(_){return x(p),y(n.orderCriteriaChange(_))}),s()()(),a(8,"section",8)(9,"p",null,0)(11,"strong"),l(12),s(),l(13," has starred in the following movies: "),s(),g(14,Ki,6,6,"ng-container",9)(15,Xi,4,6,"ng-container",9),a(16,"section",10)(17,"div",11)(18,"pagination-controls",12),P("pageChange",function(_){return x(p),y(n.changePage(_))}),s()()()()()()()}e&2&&(r(7),o("orderCriterias",n.orderCriterias),r(5),v(n.currentPerson.name),r(2),o("ngIf",n.displayMode=="grid"),r(),o("ngIf",n.displayMode=="list"))},dependencies:[$,w,ae,se,Oe,Te,Le,ke],styles:[".person-movie-credits-cast[_ngcontent-%COMP%]   .cast-credits-display-grid[_ngcontent-%COMP%], .person-movie-credits-cast[_ngcontent-%COMP%]   .cast-credits-display-list[_ngcontent-%COMP%]{margin-bottom:1rem}"]})};function en(t,i){t&1&&(d(0),f(1,"app-loading-inline",2),m())}function tn(t,i){if(t&1){let e=M();d(0),a(1,"app-person-error",3),P("reload",function(p){x(e);let u=c(2);return y(u.reloadMovieCredits(p))}),s(),m()}if(t&2){let e=c(2);r(),o("errorMessage",e.errorMessage)}}function nn(t,i){t&1&&(d(0),a(1,"p"),l(2,"This person has no acting roles in movies"),s(),m())}function rn(t,i){if(t&1&&(d(0),f(1,"app-person-movie-credits-cast",4),m()),t&2){let e=c(3);r(),o("castCredits",e.personMovieCredits.cast)}}function on(t,i){if(t&1&&(d(0),g(1,nn,3,0,"ng-container",1)(2,rn,2,1,"ng-container",1),m()),t&2){let e=c(2);r(),o("ngIf",e.personMovieCredits.cast.length===0),r(),o("ngIf",e.personMovieCredits.cast.length>0)}}function an(t,i){if(t&1&&(d(0),g(1,tn,2,1,"ng-container",1)(2,on,3,2,"ng-container",1),m()),t&2){let e=c();r(),o("ngIf",e.personMovieCreditsError),r(),o("ngIf",!e.personMovieCreditsError)}}var Fe=class t{constructor(i,e,n,p){this.activatedRoute=i;this.personService=e;this.localStorageService=n;this.router=p}id=0;personMovieCredits=new oe;loadingPersonMovieCredits=!1;activatedRouteParentSubscription;personMovieCreditsFound=!1;personMovieCreditsError=!1;errorMessage="";ngOnInit(){this.setId()}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(i=>{this.id=parseInt(i.id),this.getPersonMovieCredits()})}getPersonMovieCredits(){this.personMovieCreditsError=!1,this.loadingPersonMovieCredits=!0,this.personService.getCredits(this.id).then(i=>{this.personMovieCredits=i,this.personMovieCreditsFound=!0}).catch(i=>{this.handleError(i)}).finally(()=>{this.loadingPersonMovieCredits=!1})}handleError(i){this.personMovieCreditsError=!0,this.errorMessage=i.message}reloadMovieCredits(i){this.getPersonMovieCredits()}ngOnDestroy(){this.activatedRouteParentSubscription&&this.activatedRouteParentSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||t)(b(U),b(A),b(V),b(Ce))};static \u0275cmp=C({type:t,selectors:[["app-person-cast-credits"]],standalone:!1,decls:3,vars:2,consts:[[1,"person-cast-credits"],[4,"ngIf"],["message","Loading movie credits for this person..."],[3,"reload","errorMessage"],[3,"castCredits"]],template:function(e,n){e&1&&(a(0,"section",0),g(1,en,2,0,"ng-container",1)(2,an,3,2,"ng-container",1),s()),e&2&&(r(),o("ngIf",n.loadingPersonMovieCredits),r(),o("ngIf",!n.loadingPersonMovieCredits))},dependencies:[w,re,q,Ne],encapsulation:2})};var pe=class{adult;backdrop_path;genre_ids;id;original_language;original_title;overview;popularity;poster_path;release_date;title;video;vote_average;vote_count;character;department;job;constructor(){this.adult=!1,this.backdrop_path="",this.genre_ids=[],this.id=0,this.original_language="",this.original_title="",this.overview="",this.popularity=0,this.poster_path="",this.release_date="",this.title="",this.video=!1,this.vote_average=0,this.vote_count=0,this.character="",this.department="",this.job=""}};var sn=t=>["/movie",t],ln=t=>({"background-image":t});function pn(t,i){if(t&1&&(d(0),l(1),m()),t&2){let e=c();r(),v(e.releaseYear)}}function cn(t,i){t&1&&(d(0),l(1,"No Release Year"),m())}function dn(t,i){if(t&1&&(d(0),l(1),m()),t&2){let e=c(2);r(),v(e.releaseYear)}}function mn(t,i){t&1&&(d(0),l(1,"No Release Year"),m())}function gn(t,i){if(t&1&&(a(0,"span"),l(1),g(2,dn,2,1,"ng-container",8)(3,mn,2,0,"ng-container",8),l(4,") "),s()),t&2){let e=c();r(),h(" ",e.crewRole.title," ("),r(),o("ngIf",e.releaseYear),r(),o("ngIf",!e.releaseYear)}}function un(t,i){if(t&1&&(a(0,"span"),l(1),s()),t&2){let e=c();r(),v(e.crewRole.job)}}var Ve=class t{crewRole=new pe;posterSizeSmall="";releaseYear=0;ngOnInit(){this.setPoster(),this.setYear()}setPoster(){this.posterSizeSmall=this.crewRole.poster_path?`${D.imgUrl}${D.posterSizeSmall}${this.crewRole.poster_path}`:"img/default-images/movie_poster_notavailable_w500.png"}setYear(){let i=new Date(this.crewRole.release_date);this.releaseYear=i.getFullYear()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-person-crew-credit-grid"]],inputs:{crewRole:"crewRole"},standalone:!1,decls:17,vars:14,consts:[["crewPopTitle",""],["crewPopContent",""],[1,"person-crew-credit-grid"],["placement","bottom","triggers","hover",3,"routerLink","popoverTitle","ngbPopover","container","popoverClass"],[1,"person-link","person-crew-credit"],[1,"person-poster",3,"ngStyle"],[1,"person-info"],[1,"person-info-container"],[4,"ngIf"]],template:function(e,n){if(e&1&&(a(0,"section",2)(1,"a",3)(2,"section",4),f(3,"section",5),a(4,"section",6)(5,"section",7)(6,"span"),l(7),g(8,pn,2,1,"ng-container",8)(9,cn,2,0,"ng-container",8),l(10,") "),s(),a(11,"span"),l(12),s()()()()(),g(13,gn,5,3,"ng-template",null,0,ie)(15,un,2,1,"ng-template",null,1,ie),s()),e&2){let p=E(14),u=E(16);r(),o("routerLink",I(10,sn,n.crewRole.id))("popoverTitle",p)("ngbPopover",u)("container","body")("popoverClass","person-popover"),r(2),o("ngStyle",I(12,ln,"url("+n.posterSizeSmall+")")),r(4),h(" ",n.crewRole.title," ("),r(),o("ngIf",n.releaseYear),r(),o("ngIf",!n.releaseYear),r(3),v(n.crewRole.job)}},dependencies:[w,_e,F,xe],encapsulation:2})};var _n=t=>["/movie",t];function Cn(t,i){if(t&1&&(d(0),l(1),m()),t&2){let e=c();r(),v(e.releaseYear)}}function vn(t,i){t&1&&(d(0),l(1,"No Release Year"),m())}function hn(t,i){if(t&1&&(d(0),l(1),m()),t&2){let e=c();r(),v(e.crewRole.job)}}function bn(t,i){t&1&&(d(0),l(1,"No Job Defined"),m())}var Be=class t{crewRole=new pe;posterSizeSmall="";releaseYear=0;ngOnInit(){this.setPoster(),this.setYear()}setPoster(){this.posterSizeSmall=this.crewRole.poster_path?`${D.imgUrl}${D.posterSizeSmall}${this.crewRole.poster_path}`:"img/default-images/movie_poster_notavailable_w500.png"}setYear(){let i=new Date(this.crewRole.release_date);this.releaseYear=i.getFullYear()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-person-crew-credit-list"]],inputs:{crewRole:"crewRole"},standalone:!1,decls:14,vars:10,consts:[[1,"person-cast-credit-list"],[3,"routerLink"],[1,"list-content"],[3,"src","alt"],[1,"list-detail"],[4,"ngIf"]],template:function(e,n){e&1&&(a(0,"section",0)(1,"a",1)(2,"div",2),f(3,"img",3),a(4,"div",4)(5,"span"),l(6),g(7,Cn,2,1,"ng-container",5)(8,vn,2,0,"ng-container",5),l(9,") "),s(),f(10,"br"),a(11,"span"),g(12,hn,2,1,"ng-container",5)(13,bn,2,0,"ng-container",5),s()()()()()),e&2&&(r(),o("routerLink",I(8,_n,n.crewRole.id)),r(2),o("src",n.posterSizeSmall,G)("alt","Poster for "+n.crewRole.title),r(3),h(" ",n.crewRole.title," ("),r(),o("ngIf",n.releaseYear),r(),o("ngIf",!n.releaseYear),r(4),o("ngIf",n.crewRole.job),r(),o("ngIf",!n.crewRole.job))},dependencies:[w,F],encapsulation:2})};var xn=["crewParagraph"],Vt=t=>({itemsPerPage:20,currentPage:t});function yn(t,i){if(t&1&&(d(0),a(1,"div",15),f(2,"app-person-crew-credit-grid",16),s(),m()),t&2){let e=i.$implicit;r(2),o("crewRole",e)}}function wn(t,i){if(t&1&&(d(0),a(1,"section",13)(2,"div",3,1),g(4,yn,3,1,"ng-container",14),L(5,"paginate"),s()(),m()),t&2){let e=c();r(4),o("ngForOf",N(5,1,e.filterCrewCredits,I(4,Vt,e.page)))}}function In(t,i){if(t&1&&(d(0),f(1,"app-person-crew-credit-list",16),m()),t&2){let e=i.$implicit;r(),o("crewRole",e)}}function Sn(t,i){if(t&1&&(d(0),a(1,"section",17),g(2,In,2,1,"ng-container",14),L(3,"paginate"),s(),m()),t&2){let e=c();r(2),o("ngForOf",N(3,1,e.filterCrewCredits,I(4,Vt,e.page)))}}var Ye=class t{constructor(i){this.localStorageService=i}crewCredits=[];crewParagraph;loadingPerson=!1;displayMode="grid";orderCriterias=[{id:1,orderCriteriaName:"Default Order"},{id:2,orderCriteriaName:"Title (ascending)"},{id:3,orderCriteriaName:"Title (descending)"},{id:4,orderCriteriaName:"Job (ascending)"},{id:5,orderCriteriaName:"Job (descending)"},{id:6,orderCriteriaName:"Release Date (ascending)"},{id:7,orderCriteriaName:"Release Date (descending)"}];currentPerson;filterCrewCredits=[];page=1;ngOnInit(){this.filterCrewCredits=structuredClone(this.crewCredits),this.getPerson()}getPerson(){this.loadingPerson=!0,this.currentPerson=this.localStorageService.getItem("person")}changePage(i){this.page=i,this.crewParagraph.nativeElement.scrollIntoView({behaviour:"smooth",block:"start"})}changeDisplay(i){this.displayMode=i}orderCriteriaChange(i){switch(i){case"1":{this.filterCrewCredits=structuredClone(this.crewCredits);break}case"2":{this.filterCrewCredits.sort((e,n)=>e.title.localeCompare(n.title));break}case"3":{this.filterCrewCredits.sort((e,n)=>n.title.localeCompare(e.title));break}case"4":{this.filterCrewCredits.sort((e,n)=>e.job.localeCompare(n.job));break}case"5":{this.filterCrewCredits.sort((e,n)=>n.job.localeCompare(e.job));break}case"6":{this.filterCrewCredits.sort((e,n)=>{let p=new Date(e.release_date),u=new Date(n.release_date);return p.getTime()-u.getTime()});break}case"7":{this.filterCrewCredits.sort((e,n)=>{let p=new Date(e.release_date);return new Date(n.release_date).getTime()-p.getTime()});break}}}static \u0275fac=function(e){return new(e||t)(b(V))};static \u0275cmp=C({type:t,selectors:[["app-person-movie-credits-crew"]],viewQuery:function(e,n){if(e&1&&J(xn,5),e&2){let p;K(p=W())&&(n.crewParagraph=p.first)}},inputs:{crewCredits:"crewCredits"},standalone:!1,decls:19,vars:4,consts:[["crewParagraph",""],["crewCreditsGrid",""],[1,"person-movie-credits-crew"],[1,"row"],[1,"col-12"],[1,"col-12","col-lg-6"],[3,"onDisplayChange"],[3,"onOrderCriteriaChange","orderCriterias"],[1,"crew-credits"],[4,"ngIf"],[1,"crew-credits-pagination"],[1,"d-flex","justify-content-center"],[3,"pageChange"],[1,"crew-credits-display-grid"],[4,"ngFor","ngForOf"],[1,"col-12","col-lg-3"],[3,"crewRole"],[1,"crew-credits-display-list"]],template:function(e,n){if(e&1){let p=M();a(0,"section",2)(1,"div",3)(2,"div",4)(3,"div",3)(4,"div",5)(5,"app-display-selector",6),P("onDisplayChange",function(_){return x(p),y(n.changeDisplay(_))}),s()(),a(6,"div",5)(7,"app-order-select",7),P("onOrderCriteriaChange",function(_){return x(p),y(n.orderCriteriaChange(_))}),s()()(),a(8,"section",8)(9,"p",null,0)(11,"strong"),l(12),s(),l(13," has been part of the crew in the following movies: "),s(),g(14,wn,6,6,"ng-container",9)(15,Sn,4,6,"ng-container",9),s(),a(16,"section",10)(17,"div",11)(18,"pagination-controls",12),P("pageChange",function(_){return x(p),y(n.changePage(_))}),s()()()()()()}e&2&&(r(7),o("orderCriterias",n.orderCriterias),r(5),v(n.currentPerson.name),r(2),o("ngIf",n.displayMode=="grid"),r(),o("ngIf",n.displayMode=="list"))},dependencies:[$,w,ae,se,Ve,Be,Le,ke],encapsulation:2})};function Mn(t,i){t&1&&(d(0),f(1,"app-loading-inline",2),m())}function Dn(t,i){if(t&1){let e=M();d(0),a(1,"app-person-error",3),P("reload",function(p){x(e);let u=c(2);return y(u.reloadMovieCredits(p))}),s(),m()}if(t&2){let e=c(2);r(),o("errorMessage",e.errorMessage)}}function Rn(t,i){t&1&&(d(0),a(1,"p"),l(2,"This person has no technical or production roles in movies"),s(),m())}function On(t,i){if(t&1&&(d(0),f(1,"app-person-movie-credits-crew",4),m()),t&2){let e=c(3);r(),o("crewCredits",e.personMovieCredits.crew)}}function Tn(t,i){if(t&1&&(d(0),g(1,Rn,3,0,"ng-container",1)(2,On,2,1,"ng-container",1),m()),t&2){let e=c(2);r(),o("ngIf",e.personMovieCredits.crew.length===0),r(),o("ngIf",e.personMovieCredits.crew.length>0)}}function kn(t,i){if(t&1&&(d(0),g(1,Dn,2,1,"ng-container",1)(2,Tn,3,2,"ng-container",1),m()),t&2){let e=c();r(),o("ngIf",e.personMovieCreditsError),r(),o("ngIf",!e.personMovieCreditsError)}}var Ae=class t{constructor(i,e,n,p){this.activatedRoute=i;this.personService=e;this.localStorageService=n;this.router=p}id=0;personMovieCredits=new oe;loadingPersonMovieCredits=!1;activatedRouteParentSubscription;personMovieCreditsFound=!1;personMovieCreditsError=!1;errorMessage="";ngOnInit(){this.setId()}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(i=>{this.id=parseInt(i.id),this.getPersonMovieCredits()})}getPersonMovieCredits(){this.personMovieCreditsError=!1,this.loadingPersonMovieCredits=!0,this.personService.getCredits(this.id).then(i=>{this.personMovieCredits=i,this.personMovieCreditsFound=!0}).catch(i=>{this.handleError(i)}).finally(()=>{this.loadingPersonMovieCredits=!1})}handleError(i){this.personMovieCreditsError=!0,this.errorMessage=i.message}reloadMovieCredits(i){this.getPersonMovieCredits()}ngOnDestroy(){this.activatedRouteParentSubscription&&this.activatedRouteParentSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||t)(b(U),b(A),b(V),b(Ce))};static \u0275cmp=C({type:t,selectors:[["app-person-crew-credits"]],standalone:!1,decls:3,vars:2,consts:[[1,"person-crew-credits"],[4,"ngIf"],["message","Loading movie credits for this person..."],[3,"reload","errorMessage"],[3,"crewCredits"]],template:function(e,n){e&1&&(a(0,"section",0),g(1,Mn,2,0,"ng-container",1)(2,kn,3,2,"ng-container",1),s()),e&2&&(r(),o("ngIf",n.loadingPersonMovieCredits),r(),o("ngIf",!n.loadingPersonMovieCredits))},dependencies:[w,re,q,Ye],encapsulation:2})};var Ln=[{path:":id",component:De,children:[{path:"overview",component:Re,pathMatch:"full"},{path:"cast-credits",component:Fe,pathMatch:"full"},{path:"crew-credits",component:Ae,pathMatch:"full"},{path:"",redirectTo:"overview",pathMatch:"full"}]}],je=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=z({type:t});static \u0275inj=H({imports:[X.forChild(Ln),X]})};var Ge=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=z({type:t});static \u0275inj=H({imports:[ne,Pe,X,ye]})};var Bt=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=z({type:t});static \u0275inj=H({imports:[ne,je,Mt,ye,Pe,Ge,X,Lt,wt,It]})};export{Bt as PersonModule};

import{a as le,b as me,c as de}from"./chunk-AWQ2T2LM.js";import{$ as ie,A as b,B as d,C as Z,D as ee,E as te,G as p,H as P,I,Ja as fe,O as ne,Q as x,T,W as re,_ as w,a as q,aa as oe,b as G,ba as se,ca as U,d as J,da as ae,e as C,ea as z,f as W,g as O,h as D,ha as N,k as X,l as r,la as pe,m as g,ma as ce,n as f,o as y,pa as E,q as u,qa as k,r as R,s as a,t as i,u as s,v as m,w as c,x as l,z as F}from"./chunk-LA4O2RWI.js";var v=class{adult;also_known_as;biography;birthday;deathday;gender;homepage;id;imdb_id;known_for_department;name;place_of_birth;popularity;profile_path;constructor(){this.adult=!1,this.also_known_as=[],this.biography="",this.birthday="",this.deathday="",this.gender=1,this.homepage=null,this.id=0,this.imdb_id="",this.known_for_department="",this.name="",this.place_of_birth="",this.popularity=0,this.profile_path=""}};var M=class t{constructor(n){this.http=n}getPerson(n){return q(this,null,function*(){return yield G(this.http.get(`/person/${n}`))})}static \u0275fac=function(e){return new(e||t)(W(re))};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})};var A=class t{repeat=N;errorMessage="";reload=new R;ngOnInit(){}pressReload(){this.reload.emit(!0)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=f({type:t,selectors:[["app-person-error-fullscreen"]],inputs:{errorMessage:"errorMessage"},outputs:{reload:"reload"},standalone:!1,decls:11,vars:2,consts:[[1,"person-error-fullscreen"],[1,"person-error-description"],["type","button",1,"btn","btn-primary",3,"click"],[3,"icon"]],template:function(e,o){e&1&&(i(0,"section",0)(1,"div",1)(2,"h1"),p(3,"Person Service Error"),s(),i(4,"p"),p(5,"There was an error trying to get person info: "),i(6,"strong"),p(7),s()(),i(8,"button",2),b("click",function(){return o.pressReload()}),m(9,"fa-icon",3),p(10," Reload "),s()()()),e&2&&(r(7),P(o.errorMessage),r(2),a("icon",o.repeat))},dependencies:[E],styles:[".person-error-fullscreen[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}.person-error-fullscreen[_ngcontent-%COMP%]   .person-error-description[_ngcontent-%COMP%]{text-align:center;border:1px solid black;padding:1rem 2rem}.person-error-fullscreen[_ngcontent-%COMP%]   .person-error-description[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};var H=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=f({type:t,selectors:[["app-person-not-found"]],standalone:!1,decls:6,vars:0,consts:[[1,"person-not-found"],[1,"person-not-found-description"]],template:function(e,o){e&1&&(i(0,"section",0)(1,"div",1)(2,"h1"),p(3,"Person Not Found"),s(),i(4,"p"),p(5,"No person was found with this ID. Try another one :)"),s()()())},styles:[".person-not-found[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}.person-not-found[_ngcontent-%COMP%]   .person-not-found-description[_ngcontent-%COMP%]{text-align:center;border:1px solid black;padding:1rem 2rem}"]})};function Ce(t,n){if(t&1&&(c(0),p(1),l()),t&2){let e=d(2);r(),P(e.deathYear)}}function ye(t,n){if(t&1&&(c(0),p(1),u(2,Ce,2,1,"ng-container",6),p(3,") "),l()),t&2){let e=d();r(),I(" (",e.birthYear," - "),r(),a("ngIf",e.person.deathday)}}var j=class t{user=pe;film=ce;id=0;person=new v;name="";birthYear=0;deathYear=0;knownFor="";profileImg="";profileImgAltText="";constructor(){}ngOnInit(){this.setName(),this.setBirthYear(),this.setDeathDay(),this.setKnownFor(),this.setProfileImg()}setName(){this.person.name&&(this.name=this.person.name)}setBirthYear(){if(this.person.birthday){let n=new Date(this.person.birthday);this.birthYear=n.getFullYear()}}setDeathDay(){if(this.person.deathday){let n=new Date(this.person.deathday);this.deathYear=n.getFullYear()}}setKnownFor(){this.person.known_for_department&&(this.knownFor=this.person.known_for_department)}setProfileImg(){this.profileImg=this.person.profile_path?`${z.imgUrl}${z.profileSizeSmall}${this.person.profile_path}`:"img/default-images/profile_image_notavailable_w185.png",this.profileImgAltText=this.person.profile_path?`Profile path for ${this.person.name}`:`Profile path for ${this.person.name} is not available`}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=f({type:t,selectors:[["app-person-header"]],inputs:{id:"id",person:"person"},standalone:!1,decls:14,vars:7,consts:[[1,"person-header"],[1,"row","align-items-lg-center"],[1,"col-12","col-lg-2"],[1,"person-header-profile-img",3,"src","alt"],[1,"col-12","col-lg-10"],[3,"icon"],[4,"ngIf"]],template:function(e,o){e&1&&(i(0,"section",0)(1,"header")(2,"div",1)(3,"div",2),m(4,"img",3),s(),i(5,"div",4)(6,"h1"),m(7,"fa-icon",5),p(8),i(9,"small"),u(10,ye,4,2,"ng-container",6),s()(),i(11,"h2"),m(12,"fa-icon",5),p(13),s()()()()()),e&2&&(r(4),a("src",o.profileImg,X)("alt",o.profileImgAltText),r(3),a("icon",o.user),r(),I(" ",o.name," "),r(2),a("ngIf",o.person.birthday||o.person.deathday),r(2),a("icon",o.film),r(),I(" Known for: ",o.knownFor))},dependencies:[x,E],styles:[".person-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{background-color:#ccc;padding:5rem 1rem 1rem}.person-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .person-header-profile-img[_ngcontent-%COMP%]{border:1px solid black;box-shadow:1px 1px 5px #000}@media screen and (max-width: 767px){.person-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .person-header-profile-img[_ngcontent-%COMP%]{margin-bottom:1rem}}"]})};var xe=["personHeader"];function we(t,n){t&1&&(c(0),m(1,"app-loading-fullscreen",3),l())}function Ee(t,n){t&1&&(c(0),m(1,"app-loading-fullscreen",4),l())}function Me(t,n){t&1&&(c(0),m(1,"app-person-not-found"),l())}function Se(t,n){if(t&1){let e=F();c(0),i(1,"app-person-error-fullscreen",5),b("reload",function(h){O(e);let K=d(4);return D(K.reloadPerson(h))}),s(),l()}if(t&2){let e=d(4);r(),a("errorMessage",e.errorMessage)}}function Oe(t,n){if(t&1&&(c(0),u(1,Me,2,0,"ng-container",2)(2,Se,2,1,"ng-container",2),l()),t&2){let e=d(3);r(),a("ngIf",e.personNotFound),r(),a("ngIf",!e.personNotFound)}}function De(t,n){if(t&1&&(c(0),m(1,"app-person-header",6,0),i(3,"main")(4,"nav",7)(5,"div",8)(6,"ul",9)(7,"li",10)(8,"a",11),p(9," Overview "),s()(),i(10,"li",10)(11,"a",12),p(12,"Movie Credits"),s()()()()(),i(13,"div",8)(14,"div",13)(15,"div",14),m(16,"router-outlet"),s(),i(17,"div",15)(18,"aside",16),p(19,"Aside 2"),s()()()()(),l()),t&2){let e=d(3);r(),a("id",e.id)("person",e.person)}}function Re(t,n){if(t&1&&(c(0),u(1,Oe,3,2,"ng-container",2)(2,De,20,2,"ng-container",2),l()),t&2){let e=d(2);r(),a("ngIf",e.personError),r(),a("ngIf",!e.personError)}}function Fe(t,n){if(t&1&&(c(0),u(1,Ee,2,0,"ng-container",2)(2,Re,3,2,"ng-container",2),l()),t&2){let e=d();r(),a("ngIf",e.loadingPerson),r(),a("ngIf",!e.loadingPerson)}}var B=class t{constructor(n,e,o,h){this.activatedRoute=n;this.titleService=e;this.personService=o;this.cd=h}id=0;person=new v;loadingView=!0;loadingPerson=!1;personNotFound=!1;personError=!1;errorMessage="";personBiography="";personHeader;ngOnInit(){this.cd.detectChanges(),this.id=parseInt(this.activatedRoute.snapshot.params.id),this.getPerson()}ngAfterContentInit(){this.loadingView=!1,this.cd.detectChanges()}getPerson(){this.personError=!1,this.loadingPerson=!0,this.personService.getPerson(this.id).then(n=>{this.person=n,this.setPersonTitle(),this.setPersonBiography()}).catch(n=>{this.handleError(n)}).finally(()=>{this.loadingPerson=!1})}setPersonBiography(){this.personBiography=this.person.biography}handleError(n){this.personError=!0,n.status&&n.status===404?(this.personNotFound=!0,this.titleService.setTitle("Person Not Found")):(this.errorMessage=this.errorMessage,this.titleService.setTitle("PersonService Error"))}reloadPerson(n){this.getPerson()}setPersonTitle(){this.titleService.setTitle(this.person.name)}static \u0275fac=function(e){return new(e||t)(g(w),g(ae),g(M),g(ne))};static \u0275cmp=f({type:t,selectors:[["app-person"]],viewQuery:function(e,o){if(e&1&&Z(xe,5),e&2){let h;ee(h=te())&&(o.personHeader=h.first)}},standalone:!1,decls:3,vars:2,consts:[["personHeader",""],[1,"person"],[4,"ngIf"],["message","Loading view..."],["message","Loading person..."],[3,"reload","errorMessage"],[3,"id","person"],[1,"navbar","navbar-dark","bg-dark","navbar-expand-sm"],[1,"container-fluid"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page","routerLink","overview","routerLinkActive","active",1,"nav-link"],["routerLink","movie-credits","routerLinkActive","active",1,"nav-link"],[1,"row"],[1,"col-12","col-lg-8"],[1,"col-12","col-lg-4"],[1,"aside-1"]],template:function(e,o){e&1&&(i(0,"section",1),u(1,we,2,0,"ng-container",2)(2,Fe,3,2,"ng-container",2),s()),e&2&&(r(),a("ngIf",o.loadingView),r(),a("ngIf",!o.loadingView))},dependencies:[x,ie,oe,se,le,A,H,j],styles:[".person[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   nav.navbar[_ngcontent-%COMP%]{margin-bottom:1rem;font-family:Oswald,Arial,sans-serif}"]})};var V=class t{repeat=N;errorMessage="";reload=new R;ngOnInit(){}pressReload(){this.reload.emit(!0)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=f({type:t,selectors:[["app-person-error"]],inputs:{errorMessage:"errorMessage"},outputs:{reload:"reload"},standalone:!1,decls:9,vars:2,consts:[[1,"person-error"],["type","button",1,"btn","btn-primary",3,"click"],[3,"icon"]],template:function(e,o){e&1&&(i(0,"section",0)(1,"h1"),p(2,"Person Service Error"),s(),i(3,"p"),p(4," There was an error trying to get person info: "),i(5,"strong"),p(6),s()(),i(7,"button",1),b("click",function(){return o.pressReload()}),m(8,"fa-icon",2),s()()),e&2&&(r(6),P(o.errorMessage),r(2),a("icon",o.repeat))},dependencies:[E],styles:[".person-error[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};function Ne(t,n){t&1&&(c(0),m(1,"app-loading-inline",2),l())}function ke(t,n){if(t&1){let e=F();c(0),i(1,"app-person-error",3),b("reload",function(h){O(e);let K=d(2);return D(K.reloadOverview(h))}),s(),l()}if(t&2){let e=d(2);r(),a("errorMessage",e.errorMessage)}}function Ae(t,n){if(t&1&&(c(0),i(1,"p"),p(2),s(),l()),t&2){let e=d(3);r(2),P(e.personBiography)}}function He(t,n){t&1&&(c(0),i(1,"p",4),p(2,"No Biography Available"),s(),l())}function je(t,n){if(t&1&&(c(0),u(1,Ae,3,1,"ng-container",1)(2,He,3,0,"ng-container",1),l()),t&2){let e=d(2);r(),a("ngIf",e.person.biography),r(),a("ngIf",e.person.biography.length===0)}}function Be(t,n){if(t&1&&(c(0),u(1,ke,2,1,"ng-container",1)(2,je,3,2,"ng-container",1),l()),t&2){let e=d();r(),a("ngIf",e.personOverviewError),r(),a("ngIf",!e.personOverviewError)}}var L=class t{constructor(n,e){this.activatedRoute=n;this.personService=e}id=0;person=new v;activatedRouteParentSubscription;loadingPerson=!1;personBiography="";personFound=!1;personOverviewError=!1;errorMessage="";ngOnInit(){this.setId()}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(n=>{this.id=parseInt(n.id),this.getPerson()})}getPerson(){this.personOverviewError=!1,this.loadingPerson=!0,this.personService.getPerson(this.id).then(n=>{this.person=n,this.personFound=!0,this.setPersonBiography()}).catch(n=>{this.handleError(n)}).finally(()=>{this.loadingPerson=!1})}handleError(n){this.personOverviewError=!0,this.errorMessage=n.message}reloadOverview(n){this.getPerson()}setPersonBiography(){this.person.biography.length!==0&&(this.personBiography=this.person.biography)}ngOnDestroy(){this.activatedRouteParentSubscription&&this.activatedRouteParentSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||t)(g(w),g(M))};static \u0275cmp=f({type:t,selectors:[["app-person-overview"]],standalone:!1,decls:3,vars:2,consts:[[1,"person-overview"],[4,"ngIf"],["message","Loading person..."],[3,"reload","errorMessage"],[1,"no-biography"]],template:function(e,o){e&1&&(i(0,"section",0),u(1,Ne,2,0,"ng-container",1)(2,Be,3,2,"ng-container",1),s()),e&2&&(r(),a("ngIf",o.loadingPerson),r(),a("ngIf",!o.loadingPerson))},dependencies:[x,me,V],styles:[".person-overview[_ngcontent-%COMP%]   .no-biography[_ngcontent-%COMP%]{font-style:italic}"]})};var Y=class t{constructor(n){this.activatedRoute=n}id=0;person=new v;loadingPerson=!1;activatedRouteParentSubscription;personFound=!1;personMovieCreditsError=!1;errorMessage="";ngOnInit(){this.setId()}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(n=>{this.id=parseInt(n.id)})}ngOnDestroy(){this.activatedRouteParentSubscription&&this.activatedRouteParentSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||t)(g(w))};static \u0275cmp=f({type:t,selectors:[["app-person-movie-credits"]],standalone:!1,decls:5,vars:1,consts:[[1,"person-movie-credits"]],template:function(e,o){e&1&&(i(0,"section",0)(1,"p"),p(2,"person-movie-credits works!"),s(),i(3,"p"),p(4),s()()),e&2&&(r(4),I("ID: ",o.id))},encapsulation:2})};var Ve=[{path:":id",component:B,children:[{path:"overview",component:L,pathMatch:"full"},{path:"movie-credits",component:Y,pathMatch:"full"},{path:"",redirectTo:"overview",pathMatch:"full"}]}],$=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=y({type:t});static \u0275inj=C({imports:[U.forChild(Ve),U]})};var Q=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=y({type:t});static \u0275inj=C({imports:[T,k]})};var he=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=y({type:t});static \u0275inj=C({imports:[T,$,de,fe,k,Q]})};export{he as PersonModule};

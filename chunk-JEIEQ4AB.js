import{a as H,b as Ye,c as W,d as Le,e as Be}from"./chunk-YHB76SJE.js";import{$ as z,$a as G,A as T,Aa as I,B as y,Ba as K,C as m,D as be,E as Ce,F as Pe,G as S,H as o,I as v,J as u,L as xe,M as ye,N as Se,O as k,P as ge,R as _e,T as Y,U as Ie,Ua as He,V as we,Va as je,W as C,Wa as Ae,X as $,Xa as Ve,Ya as Ue,Z as Ee,Za as $e,_a as ze,a as me,ab as q,b as de,ca as Me,d as ve,e as N,f as he,g as R,h as O,ha as L,ia as Re,ja as Oe,k as A,ka as B,la as Te,m as i,ma as D,n as h,na as De,o as f,oa as x,p as F,r as d,ra as Q,s as U,t as r,u as a,v as s,va as Ne,w as g,wa as Fe,x as c,xa as ke,y as l}from"./chunk-L6BKWK55.js";var w=class{adult;also_known_as;biography;birthday;deathday;gender;homepage;id;imdb_id;known_for_department;name;place_of_birth;popularity;profile_path;constructor(){this.adult=!1,this.also_known_as=[],this.biography="",this.birthday="",this.deathday="",this.gender=1,this.homepage=null,this.id=0,this.imdb_id="",this.known_for_department="",this.name="",this.place_of_birth="",this.popularity=0,this.profile_path=""}};var E=class e{constructor(n){this.http=n}getPerson(n){return me(this,null,function*(){return yield de(this.http.get(`/person/${n}`))})}getCredits(n){return me(this,null,function*(){return yield de(this.http.get(`/person/${n}/movie_credits`))})}static \u0275fac=function(t){return new(t||e)(he(Me))};static \u0275prov=ve({token:e,factory:e.\u0275fac,providedIn:"root"})};var J=class e{repeat=Q;errorMessage="";reload=new U;ngOnInit(){}pressReload(){this.reload.emit(!0)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["app-person-error-fullscreen"]],inputs:{errorMessage:"errorMessage"},outputs:{reload:"reload"},standalone:!1,decls:11,vars:2,consts:[[1,"person-error-fullscreen"],[1,"person-error-description"],["type","button",1,"btn","btn-primary",3,"click"],[3,"icon"]],template:function(t,p){t&1&&(a(0,"section",0)(1,"div",1)(2,"h1"),o(3,"Person Service Error"),s(),a(4,"p"),o(5,"There was an error trying to get person info: "),a(6,"strong"),o(7),s()(),a(8,"button",2),y("click",function(){return p.pressReload()}),g(9,"fa-icon",3),o(10," Reload "),s()()()),t&2&&(i(7),v(p.errorMessage),i(2),r("icon",p.repeat))},dependencies:[I],styles:[".person-error-fullscreen[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}.person-error-fullscreen[_ngcontent-%COMP%]   .person-error-description[_ngcontent-%COMP%]{text-align:center;border:1px solid black;padding:1rem 2rem}.person-error-fullscreen[_ngcontent-%COMP%]   .person-error-description[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};var X=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["app-person-not-found"]],standalone:!1,decls:6,vars:0,consts:[[1,"person-not-found"],[1,"person-not-found-description"]],template:function(t,p){t&1&&(a(0,"section",0)(1,"div",1)(2,"h1"),o(3,"Person Not Found"),s(),a(4,"p"),o(5,"No person was found with this ID. Try another one :)"),s()()())},styles:[".person-not-found[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}.person-not-found[_ngcontent-%COMP%]   .person-not-found-description[_ngcontent-%COMP%]{text-align:center;border:1px solid black;padding:1rem 2rem}"]})};function Xe(e,n){if(e&1&&(c(0),o(1),l()),e&2){let t=m(2);i(),v(t.deathYear)}}function Ze(e,n){if(e&1&&(c(0),o(1),d(2,Xe,2,1,"ng-container",6),o(3,") "),l()),e&2){let t=m();i(),u(" (",t.birthYear," - "),i(),r("ngIf",t.person.deathday)}}var Z=class e{user=Ne;film=Fe;id=0;person=new w;name="";birthYear=0;deathYear=0;knownFor="";profileImg="";profileImgAltText="";constructor(){}ngOnInit(){this.setName(),this.setBirthYear(),this.setDeathDay(),this.setKnownFor(),this.setProfileImg()}setName(){this.person.name&&(this.name=this.person.name)}setBirthYear(){if(this.person.birthday){let n=new Date(this.person.birthday);this.birthYear=n.getFullYear()}}setDeathDay(){if(this.person.deathday){let n=new Date(this.person.deathday);this.deathYear=n.getFullYear()}}setKnownFor(){this.person.known_for_department&&(this.knownFor=this.person.known_for_department)}setProfileImg(){this.profileImg=this.person.profile_path?`${x.imgUrl}${x.profileSizeSmall}${this.person.profile_path}`:"img/default-images/profile_image_notavailable_w185.png",this.profileImgAltText=this.person.profile_path?`Profile path for ${this.person.name}`:`Profile path for ${this.person.name} is not available`}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["app-person-header"]],inputs:{id:"id",person:"person"},standalone:!1,decls:14,vars:7,consts:[[1,"person-header"],[1,"row","align-items-lg-center"],[1,"col-12","col-lg-2"],[1,"person-header-profile-img",3,"src","alt"],[1,"col-12","col-lg-10"],[3,"icon"],[4,"ngIf"]],template:function(t,p){t&1&&(a(0,"section",0)(1,"header")(2,"div",1)(3,"div",2),g(4,"img",3),s(),a(5,"div",4)(6,"h1"),g(7,"fa-icon",5),o(8),a(9,"small"),d(10,Ze,4,2,"ng-container",6),s()(),a(11,"h2"),g(12,"fa-icon",5),o(13),s()()()()()),t&2&&(i(4),r("src",p.profileImg,A)("alt",p.profileImgAltText),i(3),r("icon",p.user),i(),u(" ",p.name," "),i(2),r("ngIf",p.person.birthday||p.person.deathday),i(2),r("icon",p.film),i(),u(" Known for: ",p.knownFor))},dependencies:[C,I],styles:[".person-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{background-color:#ccc;padding:5rem 1rem 1rem}.person-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .person-header-profile-img[_ngcontent-%COMP%]{border:1px solid black;box-shadow:1px 1px 5px #000}@media screen and (max-width: 767px){.person-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .person-header-profile-img[_ngcontent-%COMP%]{margin-bottom:1rem}}"]})};var tt=["personHeader"];function nt(e,n){e&1&&(c(0),g(1,"app-loading-fullscreen",3),l())}function it(e,n){e&1&&(c(0),g(1,"app-loading-fullscreen",4),l())}function rt(e,n){e&1&&(c(0),g(1,"app-person-not-found"),l())}function ot(e,n){if(e&1){let t=T();c(0),a(1,"app-person-error-fullscreen",5),y("reload",function(_){R(t);let b=m(4);return O(b.reloadPerson(_))}),s(),l()}if(e&2){let t=m(4);i(),r("errorMessage",t.errorMessage)}}function at(e,n){if(e&1&&(c(0),d(1,rt,2,0,"ng-container",2)(2,ot,2,1,"ng-container",2),l()),e&2){let t=m(3);i(),r("ngIf",t.personNotFound),i(),r("ngIf",!t.personNotFound)}}function st(e,n){if(e&1&&(c(0),g(1,"app-person-header",6,0),a(3,"main")(4,"nav",7)(5,"div",8)(6,"ul",9)(7,"li",10)(8,"a",11),o(9," Overview "),s()(),a(10,"li",10)(11,"a",12),o(12,"Movie Credits"),s()()()()(),a(13,"div",8)(14,"div",13)(15,"div",14),g(16,"router-outlet"),s()()()(),l()),e&2){let t=m(3);i(),r("id",t.id)("person",t.person)}}function pt(e,n){if(e&1&&(c(0),d(1,at,3,2,"ng-container",2)(2,st,17,2,"ng-container",2),l()),e&2){let t=m(2);i(),r("ngIf",t.personError),i(),r("ngIf",!t.personError)}}function ct(e,n){if(e&1&&(c(0),d(1,it,2,0,"ng-container",2)(2,pt,3,2,"ng-container",2),l()),e&2){let t=m();i(),r("ngIf",t.loadingPerson),i(),r("ngIf",!t.loadingPerson)}}var ee=class e{constructor(n,t,p,_,b){this.activatedRoute=n;this.titleService=t;this.personService=p;this.localStorageService=_;this.cd=b}id=0;person=new w;loadingView=!0;loadingPerson=!1;personNotFound=!1;personError=!1;errorMessage="";personBiography="";routeSubscription;personHeader;ngOnInit(){this.cd.detectChanges(),this.routeSubscription=this.activatedRoute.params.subscribe(n=>{this.id=parseInt(n.id),this.getPerson()})}ngAfterContentInit(){this.loadingView=!1,this.cd.detectChanges()}getPerson(){this.personError=!1,this.loadingPerson=!0,this.personService.getPerson(this.id).then(n=>{this.person=n,this.localStorageService.setItem("person",n),this.setPersonTitle(),this.setPersonBiography()}).catch(n=>{this.handleError(n)}).finally(()=>{this.loadingPerson=!1})}setPersonBiography(){this.personBiography=this.person.biography}handleError(n){this.personError=!0,n.status&&n.status===404?(this.personNotFound=!0,this.titleService.setTitle("Person Not Found")):(this.errorMessage=this.errorMessage,this.titleService.setTitle("PersonService Error"))}reloadPerson(n){this.getPerson()}setPersonTitle(){this.titleService.setTitle(this.person.name)}ngOnDestroy(){this.routeSubscription&&this.routeSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||e)(h(L),h(De),h(E),h(H),h(Ie))};static \u0275cmp=f({type:e,selectors:[["app-person"]],viewQuery:function(t,p){if(t&1&&be(tt,5),t&2){let _;Ce(_=Pe())&&(p.personHeader=_.first)}},standalone:!1,decls:3,vars:2,consts:[["personHeader",""],[1,"person"],[4,"ngIf"],["message","Loading view..."],["message","Loading person..."],[3,"reload","errorMessage"],[3,"id","person"],[1,"navbar","navbar-dark","bg-dark","navbar-expand-sm"],[1,"container-fluid"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page","routerLink","overview","routerLinkActive","active",1,"nav-link"],["routerLink","movie-credits","routerLinkActive","active",1,"nav-link"],[1,"row"],[1,"col-12"]],template:function(t,p){t&1&&(a(0,"section",1),d(1,nt,2,0,"ng-container",2)(2,ct,3,2,"ng-container",2),s()),t&2&&(i(),r("ngIf",p.loadingView),i(),r("ngIf",!p.loadingView))},dependencies:[C,Re,B,Te,Ye,J,X,Z],styles:[".person[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   nav.navbar[_ngcontent-%COMP%]{margin-bottom:1rem;font-family:Oswald,Arial,sans-serif}"]})};var j=class e{repeat=Q;errorMessage="";reload=new U;ngOnInit(){}pressReload(){this.reload.emit(!0)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["app-person-error"]],inputs:{errorMessage:"errorMessage"},outputs:{reload:"reload"},standalone:!1,decls:9,vars:2,consts:[[1,"person-error"],["type","button",1,"btn","btn-primary",3,"click"],[3,"icon"]],template:function(t,p){t&1&&(a(0,"section",0)(1,"h1"),o(2,"Person Service Error"),s(),a(3,"p"),o(4," There was an error trying to get person info: "),a(5,"strong"),o(6),s()(),a(7,"button",1),y("click",function(){return p.pressReload()}),g(8,"fa-icon",2),s()()),t&2&&(i(6),v(p.errorMessage),i(2),r("icon",p.repeat))},dependencies:[I],styles:[".person-error[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};function mt(e,n){e&1&&(c(0),g(1,"app-loading-inline",2),l())}function dt(e,n){if(e&1){let t=T();c(0),a(1,"app-person-error",3),y("reload",function(_){R(t);let b=m(2);return O(b.reloadOverview(_))}),s(),l()}if(e&2){let t=m(2);i(),r("errorMessage",t.errorMessage)}}function gt(e,n){if(e&1&&(c(0),a(1,"section",10)(2,"h2"),o(3,"Biography"),s(),a(4,"p"),o(5),s()(),l()),e&2){let t=m(3);i(5),v(t.personBiography)}}function _t(e,n){e&1&&(c(0),a(1,"section",11)(2,"p"),o(3,"No Biography Available"),s()(),l())}function ft(e,n){if(e&1&&(c(0),g(1,"br"),o(2),l()),e&2){let t=m(4);i(2),u(" in ",t.personPlaceBirth," ")}}function ut(e,n){if(e&1&&(c(0),a(1,"tr")(2,"td"),o(3,"Born:"),s(),a(4,"td"),o(5),ge(6,"date"),d(7,ft,3,1,"ng-container",1),s()(),l()),e&2){let t=m(3);i(5),u(" ",_e(6,2,t.personBirthDay,"longDate")," "),i(2),r("ngIf",t.person.place_of_birth)}}function vt(e,n){if(e&1&&(c(0),a(1,"tr")(2,"td"),o(3,"Died:"),s(),a(4,"td"),o(5),ge(6,"date"),s()(),l()),e&2){let t=m(3);i(5),u(" ",_e(6,1,t.personDeathDay,"longDate")," ")}}function ht(e,n){if(e&1&&(c(0),a(1,"tr")(2,"td"),o(3,"Main occupation:"),s(),a(4,"td"),o(5),s()(),l()),e&2){let t=m(3);i(5),u(" ",t.personMainOccupation," ")}}function bt(e,n){if(e&1&&(c(0),a(1,"div",12)(2,"a",13),g(3,"fa-icon",14),o(4," View IMDB "),s()(),l()),e&2){let t=m(3);i(2),r("href",t.personIMDBUrl,A),i(),r("icon",t.imdbIcon)}}function Ct(e,n){if(e&1&&(c(0),a(1,"div",12)(2,"a",13),g(3,"fa-icon",14),o(4," View Homepage "),s()(),l()),e&2){let t=m(3);i(2),r("href",t.personHomepageUrl,A),i(),r("icon",t.globeIcon)}}function Pt(e,n){if(e&1&&(c(0),a(1,"div",4)(2,"div",5),d(3,gt,6,1,"ng-container",1)(4,_t,4,0,"ng-container",1),s(),a(5,"div",6)(6,"section",7)(7,"h2"),o(8,"General Information"),s(),a(9,"div",8)(10,"table",9)(11,"tbody"),d(12,ut,8,5,"ng-container",1)(13,vt,7,4,"ng-container",1)(14,ht,6,1,"ng-container",1),s()()(),d(15,bt,5,2,"ng-container",1)(16,Ct,5,2,"ng-container",1),s()()(),l()),e&2){let t=m(2);i(3),r("ngIf",t.person.biography),i(),r("ngIf",t.person.biography.length===0),i(8),r("ngIf",t.person.birthday),i(),r("ngIf",t.person.deathday),i(),r("ngIf",t.person.known_for_department),i(),r("ngIf",t.person.imdb_id),i(),r("ngIf",t.person.homepage)}}function xt(e,n){if(e&1&&(c(0),d(1,dt,2,1,"ng-container",1)(2,Pt,17,7,"ng-container",1),l()),e&2){let t=m();i(),r("ngIf",t.personOverviewError),i(),r("ngIf",!t.personOverviewError)}}var ne=class e{constructor(n,t,p){this.activatedRoute=n;this.personService=t;this.localStorageService=p}imdbIcon=Le;globeIcon=ke;id=0;person=new w;activatedRouteParentSubscription;loadingPerson=!1;personBiography="";personBirthDay;personDeathDay;personPlaceBirth="";personMainOccupation="";personIMDBUrl="";personHomepageUrl="";personFound=!1;personOverviewError=!1;errorMessage="";ngOnInit(){this.setId()}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(n=>{this.id=parseInt(n.id),this.getPerson()})}getPerson(){this.personOverviewError=!1,this.loadingPerson=!0;let n=this.localStorageService.getItem("person");n?(this.person=n,this.loadingPerson=!1,this.setPersonBiography(),this.setPersonInfotable()):this.personService.getPerson(this.id).then(t=>{this.person=t,this.personFound=!0,this.setPersonBiography(),this.setPersonInfotable()}).catch(t=>{this.handleError(t)}).finally(()=>{this.loadingPerson=!1})}handleError(n){this.personOverviewError=!0,this.errorMessage=n.message}reloadOverview(n){this.getPerson()}setPersonBiography(){this.person.biography.length!==0&&(this.personBiography=this.person.biography)}setPersonInfotable(){this.person.birthday&&(this.personBirthDay=new Date(this.person.birthday)),this.person.place_of_birth&&(this.personPlaceBirth=this.person.place_of_birth),this.person.deathday&&(this.personDeathDay=new Date(this.person.deathday)),this.person.known_for_department&&(this.personMainOccupation=this.person.known_for_department),this.person.imdb_id&&(this.personIMDBUrl=`${x.imdbPersonUrl}${this.person.imdb_id}`),this.person.homepage&&(this.personHomepageUrl=`${this.person.homepage}`)}ngOnDestroy(){this.activatedRouteParentSubscription&&this.activatedRouteParentSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||e)(h(L),h(E),h(H))};static \u0275cmp=f({type:e,selectors:[["app-person-overview"]],standalone:!1,decls:3,vars:2,consts:[[1,"person-overview"],[4,"ngIf"],["message","Loading person..."],[3,"reload","errorMessage"],[1,"row"],[1,"col-12","col-lg-8"],[1,"col-12","col-lg-4"],[1,"person-infotable"],[1,"table","table-responsive"],[1,"table"],[1,"person-biography"],[1,"no-person-biography-available"],[1,"d-grid","mb-2"],["target","_blank",1,"btn","btn-primary",3,"href"],[3,"icon"]],template:function(t,p){t&1&&(a(0,"section",0),d(1,mt,2,0,"ng-container",1)(2,xt,3,2,"ng-container",1),s()),t&2&&(i(),r("ngIf",p.loadingPerson),i(),r("ngIf",!p.loadingPerson))},dependencies:[C,W,I,j,Ee],styles:[".person-overview[_ngcontent-%COMP%]   .person-biography[_ngcontent-%COMP%]{margin-bottom:1rem}.person-overview[_ngcontent-%COMP%]   .no-person-biography-available[_ngcontent-%COMP%]{font-style:italic;margin-bottom:1rem}.person-overview[_ngcontent-%COMP%]   .person-infotable[_ngcontent-%COMP%]{margin-bottom:1rem}"]})};var ie=class{id;cast;crew;constructor(){this.id=0,this.cast=[],this.crew=[]}};var re=class{adult;backdrop_path;genre_ids;id;original_language;original_title;overview;popularity;poster_path;release_date;title;video;vote_average;vote_count;character;credit_id;order;constructor(){this.adult=!1,this.backdrop_path="",this.genre_ids=[],this.id=0,this.original_language="",this.original_title="",this.overview="",this.popularity=0,this.poster_path="",this.release_date="",this.title="",this.video=!1,this.vote_average=0,this.vote_count=0,this.character="",this.credit_id="",this.order=0}};var yt=e=>["/movie",e],St=e=>({"background-image":e});function It(e,n){if(e&1&&(c(0),o(1),l()),e&2){let t=m();i(),v(t.releaseYear)}}function wt(e,n){e&1&&(c(0),o(1,"No Release Year"),l())}function Et(e,n){if(e&1&&(c(0),o(1),l()),e&2){let t=m();i(),u("as ",t.castRole.character)}}function Mt(e,n){e&1&&(c(0),o(1,"No Role Defined"),l())}function Rt(e,n){if(e&1&&(c(0),o(1),l()),e&2){let t=m(2);i(),v(t.releaseYear)}}function Ot(e,n){e&1&&(c(0),o(1,"No Release Year"),l())}function Tt(e,n){if(e&1&&(o(0),d(1,Rt,2,1,"ng-container",8)(2,Ot,2,0,"ng-container",8),o(3,") ")),e&2){let t=m();u(" ",t.castRole.title," ("),i(),r("ngIf",t.releaseYear),i(),r("ngIf",!t.releaseYear)}}function Dt(e,n){if(e&1&&(c(0),o(1),l()),e&2){let t=m(2);i(),u("as ",t.castRole.character)}}function Nt(e,n){e&1&&(c(0),o(1,"No Role Defined"),l())}function Ft(e,n){if(e&1&&d(0,Dt,2,1,"ng-container",8)(1,Nt,2,0,"ng-container",8),e&2){let t=m();r("ngIf",t.castRole.character),i(),r("ngIf",!t.castRole.character)}}var oe=class e{castRole=new re;posterSizeSmall="";releaseYear=0;ngOnInit(){this.setPoster(),this.setYear()}setPoster(){this.posterSizeSmall=this.castRole.poster_path?`${x.imgUrl}${x.posterSizeSmall}${this.castRole.poster_path}`:"img/default-images/movie_poster_notavailable_w500.png"}setYear(){let n=new Date(this.castRole.release_date);this.releaseYear=n.getFullYear()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["app-person-cast-credit"]],inputs:{castRole:"castRole"},standalone:!1,decls:18,vars:15,consts:[["castPopTitle",""],["castPopContent",""],[1,"person-credit"],["placement","bottom","triggers","hover",3,"routerLink","popoverTitle","ngbPopover","container","popoverClass"],[1,"person-link","person-cast-credit"],[1,"person-poster",3,"ngStyle"],[1,"person-info"],[1,"person-info-container"],[4,"ngIf"]],template:function(t,p){if(t&1&&(a(0,"section",2)(1,"a",3)(2,"section",4),g(3,"section",5),a(4,"section",6)(5,"section",7)(6,"span"),o(7),d(8,It,2,1,"ng-container",8)(9,wt,2,0,"ng-container",8),o(10,") "),s(),a(11,"span"),d(12,Et,2,1,"ng-container",8)(13,Mt,2,0,"ng-container",8),s()()()()(),d(14,Tt,4,3,"ng-template",null,0,Y)(16,Ft,2,2,"ng-template",null,1,Y),s()),t&2){let _=S(15),b=S(17);i(),r("routerLink",k(11,yt,p.castRole.id))("popoverTitle",_)("ngbPopover",b)("container","body")("popoverClass","person-popover"),i(2),r("ngStyle",k(13,St,"url("+p.posterSizeSmall+")")),i(4),u("",p.castRole.title," ("),i(),r("ngIf",p.releaseYear),i(),r("ngIf",!p.releaseYear),i(3),r("ngIf",p.castRole.character),i(),r("ngIf",!p.castRole.character)}},dependencies:[C,$,B,G],encapsulation:2})};var ae=class{adult;backdrop_path;genre_ids;id;original_language;original_title;overview;popularity;poster_path;release_date;title;video;vote_average;vote_count;character;department;job;constructor(){this.adult=!1,this.backdrop_path="",this.genre_ids=[],this.id=0,this.original_language="",this.original_title="",this.overview="",this.popularity=0,this.poster_path="",this.release_date="",this.title="",this.video=!1,this.vote_average=0,this.vote_count=0,this.character="",this.department="",this.job=""}};var Yt=e=>["/movie",e],Lt=e=>({"background-image":e});function Bt(e,n){if(e&1&&(c(0),o(1),l()),e&2){let t=m();i(),v(t.releaseYear)}}function Ht(e,n){e&1&&(c(0),o(1,"No Release Year"),l())}function jt(e,n){if(e&1&&(c(0),o(1),l()),e&2){let t=m(2);i(),v(t.releaseYear)}}function At(e,n){e&1&&(c(0),o(1,"No Release Year"),l())}function Vt(e,n){if(e&1&&(a(0,"span"),o(1),d(2,jt,2,1,"ng-container",8)(3,At,2,0,"ng-container",8),o(4,") "),s()),e&2){let t=m();i(),u(" ",t.crewRole.title," ("),i(),r("ngIf",t.releaseYear),i(),r("ngIf",!t.releaseYear)}}function Ut(e,n){if(e&1&&(a(0,"span"),o(1),s()),e&2){let t=m();i(),v(t.crewRole.job)}}var se=class e{crewRole=new ae;posterSizeSmall="";releaseYear=0;ngOnInit(){this.setPoster(),this.setYear()}setPoster(){this.posterSizeSmall=this.crewRole.poster_path?`${x.imgUrl}${x.posterSizeSmall}${this.crewRole.poster_path}`:"img/default-images/movie_poster_notavailable_w500.png",console.log(this.posterSizeSmall)}setYear(){let n=new Date(this.crewRole.release_date);this.releaseYear=n.getFullYear()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["app-person-crew-credit"]],inputs:{crewRole:"crewRole"},standalone:!1,decls:17,vars:14,consts:[["crewPopTitle",""],["crewPopContent",""],[1,"person-credit"],["placement","bottom","triggers","hover",3,"routerLink","popoverTitle","ngbPopover","container","popoverClass"],[1,"person-link","person-crew-credit"],[1,"person-poster",3,"ngStyle"],[1,"person-info"],[1,"person-info-container"],[4,"ngIf"]],template:function(t,p){if(t&1&&(a(0,"section",2)(1,"a",3)(2,"section",4),g(3,"section",5),a(4,"section",6)(5,"section",7)(6,"span"),o(7),d(8,Bt,2,1,"ng-container",8)(9,Ht,2,0,"ng-container",8),o(10,") "),s(),a(11,"span"),o(12),s()()()()(),d(13,Vt,5,3,"ng-template",null,0,Y)(15,Ut,2,1,"ng-template",null,1,Y),s()),t&2){let _=S(14),b=S(16);i(),r("routerLink",k(10,Yt,p.crewRole.id))("popoverTitle",_)("ngbPopover",b)("container","body")("popoverClass","person-popover"),i(2),r("ngStyle",k(12,Lt,"url("+p.posterSizeSmall+")")),i(4),u(" ",p.crewRole.title," ("),i(),r("ngIf",p.releaseYear),i(),r("ngIf",!p.releaseYear),i(3),v(p.crewRole.job)}},dependencies:[C,$,B,G],encapsulation:2})};function zt(e,n){e&1&&(c(0),g(1,"app-loading-inline",3),l())}function Qt(e,n){if(e&1){let t=T();c(0),a(1,"app-person-error",4),y("reload",function(_){R(t);let b=m(2);return O(b.reloadMovieCredits(_))}),s(),l()}if(e&2){let t=m(2);i(),r("errorMessage",t.errorMessage)}}function Kt(e,n){e&1&&(c(0),a(1,"p"),o(2,"This person has no acting roles in movies"),s(),l())}function Wt(e,n){if(e&1&&(c(0),a(1,"div",12),g(2,"app-person-cast-credit",13),s(),l()),e&2){let t=n.$implicit;i(2),r("castRole",t)}}function Gt(e,n){if(e&1&&(c(0),a(1,"div",10),d(2,Wt,3,1,"ng-container",11),s(),l()),e&2){let t=m(4);i(2),r("ngForOf",t.personMovieCredits.cast)}}function qt(e,n){if(e&1&&d(0,Kt,3,0,"ng-container",2)(1,Gt,3,1,"ng-container",2),e&2){let t=m(3);r("ngIf",t.personMovieCredits.cast.length===0),i(),r("ngIf",t.personMovieCredits.cast.length>0)}}function Jt(e,n){e&1&&(c(0),a(1,"p"),o(2,"This person has no technical or production roles in movies"),s(),l())}function Xt(e,n){if(e&1&&(c(0),a(1,"div",12),g(2,"app-person-crew-credit",14),s(),l()),e&2){let t=n.$implicit;i(2),r("crewRole",t)}}function Zt(e,n){if(e&1&&(c(0),a(1,"div",10),d(2,Xt,3,1,"ng-container",11),s(),l()),e&2){let t=m(4);i(2),r("ngForOf",t.personMovieCredits.crew)}}function en(e,n){if(e&1&&d(0,Jt,3,0,"ng-container",2)(1,Zt,3,1,"ng-container",2),e&2){let t=m(3);r("ngIf",t.personMovieCredits.crew.length===0),i(),r("ngIf",t.personMovieCredits.crew.length>0)}}function tn(e,n){if(e&1){let t=T();c(0),a(1,"ul",5,0),Se("activeIdChange",function(_){R(t);let b=m(2);return ye(b.activeTab,_)||(b.activeTab=_),O(_)}),a(3,"li",6)(4,"button",7),o(5,"As Cast"),s(),d(6,qt,2,2,"ng-template",8),s(),a(7,"li",6)(8,"button",7),o(9,"As Crew"),s(),d(10,en,2,2,"ng-template",8),s()(),g(11,"div",9),l()}if(e&2){let t=S(2),p=m(2);i(),xe("activeId",p.activeTab),i(2),r("ngbNavItem",1),i(4),r("ngbNavItem",2),i(4),r("ngbNavOutlet",t)}}function nn(e,n){if(e&1&&(c(0),d(1,Qt,2,1,"ng-container",2)(2,tn,12,4,"ng-container",2),l()),e&2){let t=m();i(),r("ngIf",t.personMovieCreditsError),i(),r("ngIf",!t.personMovieCreditsError)}}var pe=class e{constructor(n,t,p,_){this.activatedRoute=n;this.personService=t;this.localStorageService=p;this.router=_}id=0;activeTab=1;personMovieCredits=new ie;loadingPersonMovieCredits=!1;activatedRouteParentSubscription;personMovieCreditsFound=!1;personMovieCreditsError=!1;errorMessage="";ngOnInit(){this.setId()}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(n=>{this.id=parseInt(n.id),this.getPersonMovieCredits()})}getPersonMovieCredits(){this.personMovieCreditsError=!1,this.loadingPersonMovieCredits=!0,this.personService.getCredits(this.id).then(n=>{this.personMovieCredits=n,this.personMovieCreditsFound=!0}).catch(n=>{this.handleError(n)}).finally(()=>{this.loadingPersonMovieCredits=!1})}handleError(n){this.personMovieCreditsError=!0,this.errorMessage=n.message}reloadMovieCredits(n){this.getPersonMovieCredits()}foo(){this.router.navigateByUrl("/person/18",{replaceUrl:!0})}ngOnDestroy(){this.activatedRouteParentSubscription&&this.activatedRouteParentSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||e)(h(L),h(E),h(H),h(Oe))};static \u0275cmp=f({type:e,selectors:[["app-person-movie-credits"]],standalone:!1,decls:3,vars:2,consts:[["nav","ngbNav"],[1,"person-movie-credits"],[4,"ngIf"],["message","Loading movie credits for this person..."],[3,"reload","errorMessage"],["ngbNav","",1,"nav-tabs",3,"activeIdChange","activeId"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-2","my-5",3,"ngbNavOutlet"],[1,"row"],[4,"ngFor","ngForOf"],[1,"col-12","col-lg-3"],[3,"castRole"],[3,"crewRole"]],template:function(t,p){t&1&&(a(0,"section",1),d(1,zt,2,0,"ng-container",2)(2,nn,3,2,"ng-container",2),s()),t&2&&(i(),r("ngIf",p.loadingPersonMovieCredits),i(),r("ngIf",!p.loadingPersonMovieCredits))},dependencies:[we,C,W,He,Ve,Ae,je,$e,Ue,ze,j,oe,se],styles:[".person-movie-credits[_ngcontent-%COMP%]   ul.nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};var rn=[{path:":id",component:ee,children:[{path:"overview",component:ne,pathMatch:"full"},{path:"movie-credits",component:pe,pathMatch:"full"},{path:"",redirectTo:"overview",pathMatch:"full"}]}],ce=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=F({type:e});static \u0275inj=N({imports:[D.forChild(rn),D]})};var le=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=F({type:e});static \u0275inj=N({imports:[z,K,D,q]})};var Ge=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=F({type:e});static \u0275inj=N({imports:[z,ce,Be,q,K,le,D]})};export{Ge as PersonModule};

import{a as c1,b as n1,c as D,d as l2}from"./chunk-GM7J7G56.js";import{$ as W,A as N,Aa as O,B as g,Ba as i1,C as f,Ca as a1,D as B1,Da as t1,E as G1,Ea as l1,F as j1,Fa as r1,Ga as o1,H as r,Ha as m1,I as b,Ia as f1,J as v,Ja as s1,Ka as p1,La as z1,Ma as v1,Na as a2,O as d,Oa as t2,P as B,Q,R as V1,S as P1,U as Z,V as q,W as y,X as H1,Z as W1,_ as $1,a as j,ab as r2,b as V,c as O1,ca as U1,d as D1,e as P,f as R1,g as h,ga as Y1,h as L,ha as k,ia as J1,k as H,ka as I,l as A1,la as K1,m as n,ma as T1,n as _,na as X1,o as u,oa as F,p as T,q as K,qa as Q1,r as s,ra as e1,s as X,sa as Z1,t as a,ta as e2,u as t,v as l,w as p,wa as c2,x as o,xa as i2,y as m,ya as n2}from"./chunk-E2WR4S65.js";var R=class{adult;backdrop_path;belongs_to_collection;budget;genres;homepage;id;imdb_id;origin_country;original_language;original_title;overview;popularity;poster_path;production_companies;production_countries;release_date;revenue;runtime;spoken_languages;status;tagline;title;video;vote_average;vote_count;constructor(){this.adult=!1,this.backdrop_path="",this.belongs_to_collection=!1,this.budget=0,this.genres=[],this.homepage="",this.id=0,this.imdb_id="",this.origin_country=[],this.original_language="",this.original_title="",this.overview="",this.popularity=0,this.poster_path="",this.production_companies=[],this.production_countries=[],this.release_date="",this.revenue=0,this.runtime=0,this.spoken_languages=[],this.status="",this.tagline="",this.title="",this.video=!1,this.vote_average=0,this.vote_count=0}};var w=class c{constructor(i){this.http=i}getMovie(i){return j(this,null,function*(){return yield V(this.http.get(`/movie/${i}`))})}getMovieCredits(i){return j(this,null,function*(){return yield V(this.http.get(`/movie/${i}/credits`))})}getMovieCast(i){return j(this,null,function*(){return yield V(this.http.get(`/movie/${i}/credits`).pipe(O1(e=>e.cast)))})}getMovieCrew(i){return j(this,null,function*(){return yield V(this.http.get(`/movie/${i}/credits`).pipe(O1(e=>e.crew)))})}getMovieVideos(i){return j(this,null,function*(){return yield V(this.http.get(`/movie/${i}/videos`))})}getFormattedMovieTitle(i,e,z){let M=i,J=new Date(z).getFullYear(),F1="";return M==e?F1=`${M}`:F1=`${e} (${M})`,`${F1} ${J?"(":""}${J||""}${J?")":""}`}static \u0275fac=function(e){return new(e||c)(R1(U1))};static \u0275prov=D1({token:c,factory:c.\u0275fac,providedIn:"root"})};var d1=class c{static \u0275fac=function(e){return new(e||c)};static \u0275cmp=u({type:c,selectors:[["app-movie-not-found"]],standalone:!1,decls:6,vars:0,consts:[[1,"movie-not-found"],[1,"movie-not-found-description"]],template:function(e,z){e&1&&(t(0,"section",0)(1,"div",1)(2,"h1"),r(3,"Movie Not Found"),l(),t(4,"p"),r(5,"No movie was found with this ID. Try another one :)"),l()()())},styles:[".movie-not-found[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}.movie-not-found[_ngcontent-%COMP%]   .movie-not-found-description[_ngcontent-%COMP%]{text-align:center;border:1px solid black;padding:1rem 2rem}"]})};var E=class c{repeat=e1;errorMessage="";reload=new X;ngOnInit(){}pressReload(){this.reload.emit(!0)}static \u0275fac=function(e){return new(e||c)};static \u0275cmp=u({type:c,selectors:[["app-movie-error"]],inputs:{errorMessage:"errorMessage"},outputs:{reload:"reload"},standalone:!1,decls:10,vars:2,consts:[[1,"movie-error"],["type","button",1,"btn","btn-primary",3,"click"],[3,"icon"]],template:function(e,z){e&1&&(t(0,"section",0)(1,"h1"),r(2,"Movie Service Error"),l(),t(3,"p"),r(4,"There was an error getting info for the movie: "),t(5,"strong"),r(6),l()(),t(7,"button",1),g("click",function(){return z.pressReload()}),p(8,"fa-icon",2),r(9," Reload "),l()()),e&2&&(n(6),b(z.errorMessage),n(2),a("icon",z.repeat))},dependencies:[O],styles:[".movie-error[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};var _1=class c{repeat=e1;errorMessage="";reload=new X;ngOnInit(){}pressReload(){this.reload.emit(!0)}static \u0275fac=function(e){return new(e||c)};static \u0275cmp=u({type:c,selectors:[["app-movie-error-fullscreen"]],inputs:{errorMessage:"errorMessage"},outputs:{reload:"reload"},standalone:!1,decls:11,vars:2,consts:[[1,"movie-error-fullscreen"],[1,"movie-error-description"],["type","button",1,"btn","btn-primary",3,"click"],[3,"icon"]],template:function(e,z){e&1&&(t(0,"section",0)(1,"div",1)(2,"h1"),r(3,"Movie Service Error"),l(),t(4,"p"),r(5,"There was an error getting info for the movie: "),t(6,"strong"),r(7),l()(),t(8,"button",2),g("click",function(){return z.pressReload()}),p(9,"fa-icon",3),r(10," Reload "),l()()()),e&2&&(n(7),b(z.errorMessage),n(2),a("icon",z.repeat))},dependencies:[O],styles:[".movie-error-fullscreen[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}.movie-error-fullscreen[_ngcontent-%COMP%]   .movie-error-description[_ngcontent-%COMP%]{text-align:center;border:1px solid black;padding:1rem 2rem}.movie-error-fullscreen[_ngcontent-%COMP%]   .movie-error-description[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};var u1=class c{transform(i){let e=Math.floor(i/60),z=i%60,M=e>0?`${e}h`:"",S=z>0?`${z}min`:"";return e==0&&z==0?"":e==0&&z>0?`${S}`:e>0&&z==0?`${M}`:`${M} ${S}`}static \u0275fac=function(e){return new(e||c)};static \u0275pipe=K({name:"runtime",type:c,pure:!0,standalone:!1})};var z2=c=>({"background-image":c});function v2(c,i){if(c&1&&(o(0),r(1),m()),c&2){let e=f();n(),v(" ",e.movie.title," ")}}function d2(c,i){if(c&1&&(o(0),r(1),t(2,"small"),r(3),l(),m()),c&2){let e=f();n(),v(" ",e.movie.original_title," "),n(2),v("(",e.movie.title,")")}}function M2(c,i){if(c&1&&(o(0),p(1,"fa-icon",4),r(2),m()),c&2){let e=f();n(),a("icon",e.calendar)("fixedWidth",!0),n(),v(" ",e.year," ")}}function _2(c,i){c&1&&(o(0),r(1," No Release Date "),m())}function u2(c,i){if(c&1&&(o(0),p(1,"fa-icon",4),r(2),B(3,"runtime"),m()),c&2){let e=f();n(),a("icon",e.clock)("fixedWidth",!0),n(),v(" ",Q(3,3,e.movie.runtime)," ")}}var g1=class c{constructor(i){this.cd=i}film=c2;circleSeparator=Z1;calendar=e2;clock=Q1;id=0;movie=new R;year=0;backdropImg="";ngOnInit(){this.setYear(),this.setBackdrop()}setYear(){let i=new Date(this.movie.release_date);this.year=i.getFullYear()}setBackdrop(){this.backdropImg=this.movie.backdrop_path?`${F.imgUrl}${F.backdropSize}${this.movie.backdrop_path}`:"img/default-images/movie_backdrop_notavailable_w1280.png"}static \u0275fac=function(e){return new(e||c)(_(Z))};static \u0275cmp=u({type:c,selectors:[["app-movie-header"]],inputs:{id:"id",movie:"movie"},standalone:!1,decls:13,vars:10,consts:[[1,"movie-header"],[1,"header-backdrop",3,"ngStyle"],[1,"header-movie-container"],[1,"header-movie-info"],[3,"icon","fixedWidth"],[4,"ngIf"]],template:function(e,z){e&1&&(t(0,"section",0)(1,"header"),p(2,"div",1),t(3,"div",2)(4,"div",3)(5,"h1"),p(6,"fa-icon",4),s(7,v2,2,1,"ng-container",5)(8,d2,4,2,"ng-container",5),l(),t(9,"h2"),s(10,M2,3,3,"ng-container",5)(11,_2,2,0,"ng-container",5)(12,u2,4,5,"ng-container",5),l()()()()()),e&2&&(n(2),a("ngStyle",d(8,z2,"url("+z.backdropImg+")")),n(4),a("icon",z.film)("fixedWidth",!0),n(),a("ngIf",z.movie.title==z.movie.original_title),n(),a("ngIf",z.movie.title!=z.movie.original_title),n(2),a("ngIf",z.year),n(),a("ngIf",!z.year),n(),a("ngIf",z.movie.runtime>0))},dependencies:[y,H1,O,u1],styles:[".movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{height:50vh;position:relative}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-backdrop[_ngcontent-%COMP%]{position:absolute;height:inherit;width:100%;background-size:cover}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]{position:absolute;height:inherit;width:100%;display:flex;flex-direction:column;justify-content:flex-end}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]   .header-movie-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end;background-color:#00000080}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]   .header-movie-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]   .header-movie-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:100%;color:#fff;margin:0}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]   .header-movie-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding:1rem 1rem 0rem}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]   .header-movie-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding:1rem}"]})};var x2=["movieHeader"];function S2(c,i){c&1&&(o(0),p(1,"app-loading-fullscreen",3),m())}function h2(c,i){c&1&&(o(0),p(1,"app-loading-fullscreen",4),m())}function L2(c,i){c&1&&(o(0),p(1,"app-movie-not-found"),m())}function N2(c,i){if(c&1){let e=N();o(0),t(1,"app-movie-error-fullscreen",5),g("reload",function(M){h(e);let S=f(4);return L(S.reloadMovie(M))}),l(),m()}if(c&2){let e=f(4);n(),a("errorMessage",e.errorMessage)}}function y2(c,i){if(c&1&&(o(0),s(1,L2,2,0,"ng-container",2)(2,N2,2,1,"ng-container",2),m()),c&2){let e=f(3);n(),a("ngIf",e.movieNotFound),n(),a("ngIf",!e.movieNotFound)}}function w2(c,i){if(c&1&&(o(0),p(1,"app-movie-error",6),m()),c&2){let e=f(4);n(),a("errorMessage",e.errorMessage)}}function E2(c,i){if(c&1&&(o(0),t(1,"div",21)(2,"a",22),p(3,"fa-icon",23),r(4," Open Poster in New Tab "),l()(),m()),c&2){let e=f(5);n(2),a("href",e.posterSizeOriginal,H),n(),a("icon",e.imagePortrait)}}function k2(c,i){if(c&1&&(o(0),p(1,"app-movie-header",7,0),t(3,"main")(4,"nav",8)(5,"div",9)(6,"ul",10)(7,"li",11)(8,"a",12),r(9," Overview "),l()(),t(10,"li",11)(11,"a",13),r(12," Cast "),l()(),t(13,"li",11)(14,"a",14),r(15," Featured Crew "),l()(),t(16,"li",11)(17,"a",15),r(18," Full Crew "),l()()()()(),t(19,"div",9)(20,"div",16)(21,"div",17)(22,"aside",18),p(23,"img",19),s(24,E2,5,2,"ng-container",2),l()(),t(25,"div",20),p(26,"router-outlet"),l()()()(),m()),c&2){let e=f(4);n(),a("id",e.id)("movie",e.movie),n(22),a("src",e.posterSizeSmall,H)("alt",e.altPosterText),n(),a("ngIf",e.movie.poster_path)}}function I2(c,i){if(c&1&&(o(0),s(1,w2,2,1,"ng-container",2)(2,k2,27,5,"ng-container",2),m()),c&2){let e=f(3);n(),a("ngIf",e.movie.id==0),n(),a("ngIf",e.movie.id!=0)}}function F2(c,i){if(c&1&&(o(0),s(1,y2,3,2,"ng-container",2)(2,I2,3,2,"ng-container",2),m()),c&2){let e=f(2);n(),a("ngIf",e.movieError),n(),a("ngIf",!e.movieError)}}function O2(c,i){if(c&1&&(o(0),s(1,h2,2,0,"ng-container",2)(2,F2,3,2,"ng-container",2),m()),c&2){let e=f();n(),a("ngIf",e.loadingMovie),n(),a("ngIf",!e.loadingMovie)}}var b1=class c{constructor(i,e,z,M,S){this.activatedRoute=i;this.movieService=e;this.titleService=z;this.localStorageService=M;this.cd=S}imagePortrait=n2;id=0;movie=new R;formattedTitle="";altPosterText="";posterSizeSmall="";posterSizeOriginal="";loadingView=!0;loadingMovie=!1;movieNotFound=!1;movieError=!1;errorMessage="";routeSubscription;movieHeader;ngOnInit(){this.cd.detectChanges(),this.routeSubscription=this.activatedRoute.params.subscribe(i=>{this.id=parseInt(this.activatedRoute.snapshot.params.id),this.getMovie()})}ngAfterContentInit(){this.loadingView=!1,this.cd.detectChanges()}getMovie(){this.movieError=!1,this.loadingMovie=!0,this.movieService.getMovie(this.id).then(i=>{this.movie=i,this.localStorageService.setItem("movie",i),this.setTitle(),this.setMoviePoster()}).catch(i=>{this.handleError(i)}).finally(()=>{this.loadingMovie=!1})}handleError(i){this.movieError=!0,i.status&&i.status===404?(this.movieNotFound=!0,this.titleService.setTitle("Movie Not Found")):(this.errorMessage=i.message,this.titleService.setTitle("Movie Service Error"))}reloadMovie(i){this.getMovie()}setTitle(){this.formattedTitle=this.movieService.getFormattedMovieTitle(this.movie.title,this.movie.original_title,this.movie.release_date),this.titleService.setTitle(this.formattedTitle)}setMoviePoster(){this.posterSizeSmall=this.movie.poster_path?`${F.imgUrl}${F.posterSizeSmall}${this.movie.poster_path}`:"img/default-images/movie_poster_notavailable_w500.png",this.posterSizeOriginal=this.movie.poster_path?`${F.imgUrl}${F.posterSizeOriginal}${this.movie.poster_path}`:"",this.altPosterText=this.movie.poster_path?`Poster from the movie ${this.formattedTitle}`:`Poster from the movie ${this.formattedTitle} is not available`}ngOnDestroy(){this.routeSubscription&&this.routeSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||c)(_(k),_(w),_(X1),_(c1),_(Z))};static \u0275cmp=u({type:c,selectors:[["app-movie"]],viewQuery:function(e,z){if(e&1&&B1(x2,5),e&2){let M;G1(M=j1())&&(z.movieHeader=M.first)}},standalone:!1,decls:3,vars:2,consts:[["movieHeader",""],[1,"movie"],[4,"ngIf"],["message","Loading view..."],["message","Loading movie..."],[3,"reload","errorMessage"],[3,"errorMessage"],[3,"id","movie"],[1,"navbar","navbar-dark","bg-dark","navbar-expand-sm"],[1,"container-fluid"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page","routerLink","overview","routerLinkActive","active",1,"nav-link"],["routerLink","cast","routerLinkActive","active",1,"nav-link"],["routerLink","crew","routerLinkActive","active",1,"nav-link"],["routerLink","full-crew","routerLinkActive","active",1,"nav-link"],[1,"row"],[1,"col-12","col-lg-2"],[1,"aside-1"],[1,"w-100",3,"src","alt"],[1,"col-12","col-lg-10"],[1,"d-grid"],["target","_blank",1,"btn","btn-outline-primary","btn-poster","mb-2",3,"href"],[3,"icon"]],template:function(e,z){e&1&&(t(0,"section",1),s(1,S2,2,0,"ng-container",2)(2,O2,3,2,"ng-container",2),l()),e&2&&(n(),a("ngIf",z.loadingView),n(),a("ngIf",!z.loadingView))},dependencies:[y,J1,I,K1,n1,d1,E,_1,O,g1],styles:[".movie[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   nav.navbar[_ngcontent-%COMP%]{margin-bottom:1rem;font-family:Oswald,Arial,sans-serif}.movie[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .aside-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:1rem}.movie[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .aside-1[_ngcontent-%COMP%]   .btn-poster[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};var T2=c=>["/person",c];function q2(c,i){c&1&&(o(0),p(1,"app-loading-inline",2),m())}function D2(c,i){if(c&1){let e=N();o(0),t(1,"app-movie-error",3),g("reload",function(M){h(e);let S=f(2);return L(S.reloadCast(M))}),l(),m()}if(c&2){let e=f(2);n(),a("errorMessage",e.errorMessage)}}function R2(c,i){if(c&1&&(t(0,"tr")(1,"td")(2,"a",20),r(3),l()(),t(4,"td"),r(5,"as"),l(),t(6,"td"),r(7),l()()),c&2){let e=i.$implicit;n(2),a("routerLink",d(3,T2,e.id)),n(),v(" ",e.name," "),n(4),b(e.character)}}function A2(c,i){if(c&1){let e=N();o(0),t(1,"form",4)(2,"div",5)(3,"label",6),r(4,"Order by"),l(),t(5,"div",7)(6,"select",8),g("change",function(){h(e);let M=f(3);return L(M.changeCastOrder())}),t(7,"option",9),r(8,"Select an order criteria"),l(),t(9,"option",10),r(10,"Default Order (ascending)"),l(),t(11,"option",11),r(12,"Default Order (descending)"),l(),t(13,"option",12),r(14,"Name (ascending)"),l(),t(15,"option",13),r(16,"Name (descending)"),l(),t(17,"option",14),r(18,"Character (ascending)"),l(),t(19,"option",15),r(20,"Character (descending)"),l()()()()(),t(21,"div",16)(22,"table",17)(23,"thead")(24,"tr")(25,"th",18),r(26,"Actor"),l(),t(27,"th"),r(28,"Character"),l()()(),t(29,"tbody"),s(30,R2,8,5,"tr",19),l()()(),m()}if(c&2){let e=f(3);n(),a("formGroup",e.orderCastForm),n(29),a("ngForOf",e.movieCast)}}function B2(c,i){c&1&&(o(0),t(1,"p"),r(2,"This movie has no recognizable cast"),l(),m())}function G2(c,i){if(c&1&&(o(0),t(1,"h2"),r(2,"Cast"),l(),s(3,A2,31,2,"ng-container",1)(4,B2,3,0,"ng-container",1),m()),c&2){let e=f(2);n(3),a("ngIf",e.movieCast.length>0),n(),a("ngIf",e.movieCast.length==0)}}function j2(c,i){if(c&1&&(o(0),s(1,D2,2,1,"ng-container",1)(2,G2,5,2,"ng-container",1),m()),c&2){let e=f();n(),a("ngIf",e.movieCastError),n(),a("ngIf",!e.movieCastError)}}var x1=class c{constructor(i,e,z){this.activatedRoute=i;this.movieService=e;this.fb=z}id=0;movieCast=[];loadingCast=!1;orderCastForm=new l1({});activatedRouteParentSubscription;castFound=!1;movieCastError=!1;errorMessage="";ngOnInit(){this.setId(),this.orderCastForm=this.fb.group({orderCast:new r1("1")})}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(i=>{this.id=parseInt(i.id),this.getCast()})}getCast(){this.movieCastError=!1,this.loadingCast=!0,this.movieService.getMovieCast(this.id).then(i=>{this.movieCast=i,this.castFound=!0}).catch(i=>{this.handleError(i)}).finally(()=>{this.loadingCast=!1})}handleError(i){this.movieCastError=!0,this.errorMessage=i.message}reloadCast(i){this.getCast()}changeCastOrder(){switch(this.orderCastForm.value.orderCast){case"1":{this.movieCast.sort((i,e)=>i.order-e.order);break}case"2":{this.movieCast.sort((i,e)=>e.order-i.order);break}case"3":{this.movieCast.sort((i,e)=>i.name.localeCompare(e.name));break}case"4":{this.movieCast.sort((i,e)=>e.name.localeCompare(i.name));break}case"5":{this.movieCast.sort((i,e)=>i.character.localeCompare(e.character));break}case"6":{this.movieCast.sort((i,e)=>e.character.localeCompare(i.character));break}default:break}}ngOnDestroy(){this.activatedRouteParentSubscription?.unsubscribe()}static \u0275fac=function(e){return new(e||c)(_(k),_(w),_(v1))};static \u0275cmp=u({type:c,selectors:[["app-movie-cast"]],standalone:!1,decls:3,vars:2,consts:[[1,"movie-cast"],[4,"ngIf"],["message","Loading cast..."],[3,"reload","errorMessage"],[3,"formGroup"],[1,"row","align-items-center"],["for","orderCast",1,"col-3"],[1,"col-9"],["formControlName","orderCast","id","orderCast","name","orderCast",1,"form-control",3,"change"],["value","0","selected","","disabled",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],[1,"table-responsive"],[1,"table"],["colspan","2"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,z){e&1&&(t(0,"section",0),s(1,q2,2,0,"ng-container",1)(2,j2,3,2,"ng-container",1),l()),e&2&&(n(),a("ngIf",z.loadingCast),n(),a("ngIf",!z.loadingCast))},dependencies:[q,y,I,D,E,o1,p1,z1,s1,a1,t1,m1,f1],encapsulation:2})};var x=c=>["/person",c];function V2(c,i){c&1&&(o(0),p(1,"app-loading-inline",2),m())}function H2(c,i){if(c&1){let e=N();o(0),t(1,"app-movie-error",3),g("reload",function(M){h(e);let S=f(2);return L(S.reloadCrew(M))}),l(),m()}if(c&2){let e=f(2);n(),a("errorMessage",e.errorMessage)}}function W2(c,i){if(c&1&&(o(0),t(1,"a",9),r(2),l(),p(3,"br"),m()),c&2){let e=i.$implicit;n(),a("routerLink",d(2,x,e.id)),n(),v(" ",e.name," ")}}function $2(c,i){if(c&1&&(o(0),t(1,"tr")(2,"td"),r(3,"Directed By:"),l(),t(4,"td"),s(5,W2,4,4,"ng-container",8),l()(),m()),c&2){let e=f(3);n(5),a("ngForOf",e.direction)}}function U2(c,i){if(c&1&&(o(0),t(1,"a",9),r(2),l(),p(3,"br"),m()),c&2){let e=i.$implicit;n(),a("routerLink",d(2,x,e.id)),n(),v(" ",e.name," ")}}function Y2(c,i){if(c&1&&(o(0),t(1,"tr")(2,"td"),r(3,"Screenplay By:"),l(),t(4,"td"),s(5,U2,4,4,"ng-container",8),l()(),m()),c&2){let e=f(3);n(5),a("ngForOf",e.writing)}}function J2(c,i){if(c&1&&(o(0),t(1,"a",9),r(2),l(),p(3,"br"),m()),c&2){let e=i.$implicit;n(),a("routerLink",d(2,x,e.id)),n(),v(" ",e.name," ")}}function K2(c,i){if(c&1&&(o(0),t(1,"tr")(2,"td"),r(3,"Story By:"),l(),t(4,"td"),s(5,J2,4,4,"ng-container",8),l()(),m()),c&2){let e=f(3);n(5),a("ngForOf",e.story)}}function X2(c,i){if(c&1&&(o(0),t(1,"a",9),r(2),l(),p(3,"br"),m()),c&2){let e=i.$implicit;n(),a("routerLink",d(2,x,e.id)),n(),v(" ",e.name," ")}}function Q2(c,i){if(c&1&&(o(0),t(1,"tr")(2,"td"),r(3,"Based on Work By:"),l(),t(4,"td"),s(5,X2,4,4,"ng-container",8),l()(),m()),c&2){let e=f(3);n(5),a("ngForOf",e.basedOnWorkBy)}}function Z2(c,i){if(c&1&&(o(0),t(1,"a",9),r(2),l(),p(3,"br"),m()),c&2){let e=i.$implicit;n(),a("routerLink",d(2,x,e.id)),n(),v(" ",e.name," ")}}function e3(c,i){if(c&1&&(o(0),t(1,"tr")(2,"td"),r(3,"Produced By:"),l(),t(4,"td"),s(5,Z2,4,4,"ng-container",8),l()(),m()),c&2){let e=f(3);n(5),a("ngForOf",e.producing)}}function c3(c,i){c&1&&(o(0),r(1,"s"),m())}function i3(c,i){if(c&1&&(o(0),t(1,"a",9),r(2),l(),p(3,"br"),m()),c&2){let e=i.$implicit;n(),a("routerLink",d(2,x,e.id)),n(),v(" ",e.name," ")}}function n3(c,i){if(c&1&&(o(0),t(1,"tr")(2,"td"),r(3," Executive Producer"),s(4,c3,2,0,"ng-container",1),r(5,": "),l(),t(6,"td"),s(7,i3,4,4,"ng-container",8),l()(),m()),c&2){let e=f(3);n(4),a("ngIf",e.executiveProducing.length>1),n(3),a("ngForOf",e.executiveProducing)}}function a3(c,i){c&1&&(o(0),r(1,"s"),m())}function t3(c,i){if(c&1&&(o(0),t(1,"a",9),r(2),l(),p(3,"br"),m()),c&2){let e=i.$implicit;n(),a("routerLink",d(2,x,e.id)),n(),v(" ",e.name," ")}}function l3(c,i){if(c&1&&(o(0),t(1,"tr")(2,"td"),r(3,"Co-Producer"),s(4,a3,2,0,"ng-container",1),r(5,":"),l(),t(6,"td"),s(7,t3,4,4,"ng-container",8),l()(),m()),c&2){let e=f(3);n(4),a("ngIf",e.coProducing.length>1),n(3),a("ngForOf",e.coProducing)}}function r3(c,i){c&1&&(o(0),r(1,"s"),m())}function o3(c,i){if(c&1&&(o(0),t(1,"a",9),r(2),l(),p(3,"br"),m()),c&2){let e=i.$implicit;n(),a("routerLink",d(2,x,e.id)),n(),v(" ",e.name," ")}}function m3(c,i){if(c&1&&(o(0),t(1,"tr")(2,"td"),r(3," Director"),s(4,r3,2,0,"ng-container",1),r(5," of Photography: "),l(),t(6,"td"),s(7,o3,4,4,"ng-container",8),l()(),m()),c&2){let e=f(3);n(4),a("ngIf",e.directorsOfPhotography.length>1),n(3),a("ngForOf",e.directorsOfPhotography)}}function f3(c,i){c&1&&(o(0),r(1,"s"),m())}function s3(c,i){if(c&1&&(o(0),t(1,"a",9),r(2),l(),p(3,"br"),m()),c&2){let e=i.$implicit;n(),a("routerLink",d(2,x,e.id)),n(),v(" ",e.name," ")}}function p3(c,i){if(c&1&&(o(0),t(1,"tr")(2,"td"),r(3," Production Designer"),s(4,f3,2,0,"ng-container",1),r(5,": "),l(),t(6,"td"),s(7,s3,4,4,"ng-container",8),l()(),m()),c&2){let e=f(3);n(4),a("ngIf",e.productionDesigners.length>1),n(3),a("ngForOf",e.productionDesigners)}}function z3(c,i){c&1&&(o(0),r(1,"s"),m())}function v3(c,i){if(c&1&&(o(0),t(1,"a",9),r(2),l(),p(3,"br"),m()),c&2){let e=i.$implicit;n(),a("routerLink",d(2,x,e.id)),n(),v(" ",e.name," ")}}function d3(c,i){if(c&1&&(o(0),t(1,"tr")(2,"td"),r(3,"Editor"),s(4,z3,2,0,"ng-container",1),r(5,":"),l(),t(6,"td"),s(7,v3,4,4,"ng-container",8),l()(),m()),c&2){let e=f(3);n(4),a("ngIf",e.editors.length>1),n(3),a("ngForOf",e.editors)}}function M3(c,i){if(c&1&&(o(0),t(1,"a",9),r(2),l(),p(3,"br"),m()),c&2){let e=i.$implicit;n(),a("routerLink",d(2,x,e.id)),n(),v(" ",e.name," ")}}function _3(c,i){if(c&1&&(o(0),t(1,"tr")(2,"td"),r(3,"Music By:"),l(),t(4,"td"),s(5,M3,4,4,"ng-container",8),l()(),m()),c&2){let e=f(3);n(5),a("ngForOf",e.musicComposers)}}function u3(c,i){if(c&1&&(o(0),t(1,"a",9),r(2),l(),p(3,"br"),m()),c&2){let e=i.$implicit;n(),a("routerLink",d(2,x,e.id)),n(),v(" ",e.name," ")}}function g3(c,i){if(c&1&&(o(0),t(1,"tr")(2,"td"),r(3,"Additional Music By:"),l(),t(4,"td"),s(5,u3,4,4,"ng-container",8),l()(),m()),c&2){let e=f(3);n(5),a("ngForOf",e.additionalMusicComposers)}}function b3(c,i){c&1&&(o(0),r(1,"s"),m())}function C3(c,i){if(c&1&&(o(0),t(1,"a",9),r(2),l(),p(3,"br"),m()),c&2){let e=i.$implicit;n(),a("routerLink",d(2,x,e.id)),n(),v(" ",e.name," ")}}function x3(c,i){if(c&1&&(o(0),t(1,"tr")(2,"td"),r(3," Visual Effects Supervisor"),s(4,b3,2,0,"ng-container",1),r(5,": "),l(),t(6,"td"),s(7,C3,4,4,"ng-container",8),l()(),m()),c&2){let e=f(3);n(4),a("ngIf",e.visualEffectsSupervisors.length>1),n(3),a("ngForOf",e.visualEffectsSupervisors)}}function S3(c,i){c&1&&(o(0),r(1,"s"),m())}function h3(c,i){if(c&1&&(o(0),t(1,"a",9),r(2),l(),p(3,"br"),m()),c&2){let e=i.$implicit;n(),a("routerLink",d(2,x,e.id)),n(),v(" ",e.name," ")}}function L3(c,i){if(c&1&&(o(0),t(1,"tr")(2,"td"),r(3," Costume Designer"),s(4,S3,2,0,"ng-container",1),r(5,": "),l(),t(6,"td"),s(7,h3,4,4,"ng-container",8),l()(),m()),c&2){let e=f(3);n(4),a("ngIf",e.costumeDesigners.length>1),n(3),a("ngForOf",e.costumeDesigners)}}function N3(c,i){if(c&1&&(o(0),t(1,"a",9),r(2),l(),p(3,"br"),m()),c&2){let e=i.$implicit;n(),a("routerLink",d(2,x,e.id)),n(),v(" ",e.name," ")}}function y3(c,i){if(c&1&&(o(0),t(1,"tr")(2,"td"),r(3,"Casting By:"),l(),t(4,"td"),s(5,N3,4,4,"ng-container",8),l()(),m()),c&2){let e=f(3);n(5),a("ngForOf",e.castingCrew)}}function w3(c,i){if(c&1&&(o(0),t(1,"h2"),r(2,"Featured Crew"),l(),t(3,"div",4)(4,"table",5)(5,"tbody"),s(6,$2,6,1,"ng-container",1)(7,Y2,6,1,"ng-container",1)(8,K2,6,1,"ng-container",1)(9,Q2,6,1,"ng-container",1)(10,e3,6,1,"ng-container",1)(11,n3,8,2,"ng-container",1)(12,l3,8,2,"ng-container",1)(13,m3,8,2,"ng-container",1)(14,p3,8,2,"ng-container",1)(15,d3,8,2,"ng-container",1)(16,_3,6,1,"ng-container",1)(17,g3,6,1,"ng-container",1)(18,x3,8,2,"ng-container",1)(19,L3,8,2,"ng-container",1)(20,y3,6,1,"ng-container",1),l()()(),t(21,"div",6)(22,"a",7),r(23," See Full Crew "),l()(),m()),c&2){let e=f(2);n(6),a("ngIf",e.direction.length>0),n(),a("ngIf",e.writing.length>0),n(),a("ngIf",e.story.length>0),n(),a("ngIf",e.basedOnWorkBy.length>0),n(),a("ngIf",e.producing.length>0),n(),a("ngIf",e.executiveProducing.length>0),n(),a("ngIf",e.coProducing.length>0),n(),a("ngIf",e.directorsOfPhotography.length>0),n(),a("ngIf",e.productionDesigners.length>0),n(),a("ngIf",e.editors.length>0),n(),a("ngIf",e.musicComposers.length>0),n(),a("ngIf",e.additionalMusicComposers.length>0),n(),a("ngIf",e.visualEffectsSupervisors.length>0),n(),a("ngIf",e.costumeDesigners.length>0),n(),a("ngIf",e.castingCrew.length>0)}}function E3(c,i){if(c&1&&(o(0),s(1,H2,2,1,"ng-container",1)(2,w3,24,15,"ng-container",1),m()),c&2){let e=f();n(),a("ngIf",e.movieCrewError),n(),a("ngIf",!e.movieCrewError)}}var S1=class c{constructor(i,e){this.activatedRoute=i;this.movieService=e}id=0;movieCrew=[];direction=[];writing=[];story=[];basedOnWorkBy=[];producing=[];executiveProducing=[];coProducing=[];directorsOfPhotography=[];productionDesigners=[];editors=[];musicComposers=[];additionalMusicComposers=[];visualEffectsSupervisors=[];costumeDesigners=[];castingCrew=[];loadingCrew=!1;activatedRouteParentSubscription;crewFound=!1;movieCrewError=!1;errorMessage="";ngOnInit(){this.setId()}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(i=>{this.id=parseInt(i.id),this.getCrew()})}getCrew(){this.movieCrewError=!1,this.loadingCrew=!0,this.movieService.getMovieCrew(this.id).then(i=>{this.movieCrew=i,this.filterCrew()}).catch(i=>{this.handleError(i)}).finally(()=>{this.loadingCrew=!1})}handleError(i){this.movieCrewError=!0,this.errorMessage=i.message}reloadCrew(i){this.getCrew()}filterCrew(){this.direction=this.movieCrew.filter(i=>i.job=="Director"),this.writing=this.movieCrew.filter(i=>i.job=="Screenplay"||i.job=="Writer"),this.story=this.movieCrew.filter(i=>i.job=="Story"),this.basedOnWorkBy=this.movieCrew.filter(i=>i.job=="Novel"),this.producing=this.movieCrew.filter(i=>i.job=="Producer"),this.executiveProducing=this.movieCrew.filter(i=>i.job=="Executive Producer"),this.coProducing=this.movieCrew.filter(i=>i.job=="Co-Producer"),this.directorsOfPhotography=this.movieCrew.filter(i=>i.job=="Director of Photography"),this.productionDesigners=this.movieCrew.filter(i=>i.job=="Production Design"),this.editors=this.movieCrew.filter(i=>i.job=="Editor"),this.musicComposers=this.movieCrew.filter(i=>i.job=="Original Music Composer"),this.additionalMusicComposers=this.movieCrew.filter(i=>i.job=="Additional Music"),this.visualEffectsSupervisors=this.movieCrew.filter(i=>i.job=="Visual Effects Supervisor"),this.costumeDesigners=this.movieCrew.filter(i=>i.job=="Costume Design"),this.castingCrew=this.movieCrew.filter(i=>i.job=="Casting")}ngOnDestroy(){this.activatedRouteParentSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||c)(_(k),_(w))};static \u0275cmp=u({type:c,selectors:[["app-movie-crew"]],standalone:!1,decls:3,vars:2,consts:[[1,"movie-crew"],[4,"ngIf"],["message","Loading crew..."],[3,"reload","errorMessage"],[1,"table-responsive"],[1,"table"],[1,"d-grid"],["routerLink","../full-crew",1,"btn","btn-primary","mb-2"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,z){e&1&&(t(0,"section",0),s(1,V2,2,0,"ng-container",1)(2,E3,3,2,"ng-container",1),l()),e&2&&(n(),a("ngIf",z.loadingCrew),n(),a("ngIf",!z.loadingCrew))},dependencies:[q,y,I,D,E],encapsulation:2})};var k3=c=>["/person",c];function I3(c,i){c&1&&(o(0),p(1,"app-loading-inline",2),m())}function F3(c,i){if(c&1){let e=N();o(0),t(1,"app-movie-error",3),g("reload",function(M){h(e);let S=f(2);return L(S.reloadFullCrew(M))}),l(),m()}if(c&2){let e=f(2);n(),a("errorMessage",e.errorMessage)}}function O3(c,i){if(c&1&&(t(0,"tr")(1,"td")(2,"a",17),r(3),l()(),t(4,"td"),r(5),l()()),c&2){let e=i.$implicit;n(2),a("routerLink",d(3,k3,e.id)),n(),v(" ",e.name," "),n(2),b(e.job)}}function P3(c,i){if(c&1){let e=N();o(0),t(1,"h2"),r(2,"Full Crew"),l(),t(3,"form",4)(4,"div",5)(5,"label",6),r(6,"Order by"),l(),t(7,"div",7)(8,"select",8),g("change",function(){h(e);let M=f(2);return L(M.changeCrewOrder())}),t(9,"option",9),r(10,"Select an order criteria"),l(),t(11,"option",10),r(12,"Name (ascending)"),l(),t(13,"option",11),r(14,"Name (descending)"),l(),t(15,"option",12),r(16,"Role (ascending)"),l(),t(17,"option",13),r(18,"Role (descending)"),l()()()()(),p(19,"hr"),t(20,"div",14)(21,"table",15)(22,"thead")(23,"tr")(24,"th"),r(25,"Name"),l(),t(26,"th"),r(27,"Role"),l()()(),t(28,"tbody"),s(29,O3,6,5,"tr",16),l()()(),m()}if(c&2){let e=f(2);n(3),a("formGroup",e.orderForm),n(26),a("ngForOf",e.movieFullCrew)}}function T3(c,i){if(c&1&&(o(0),s(1,F3,2,1,"ng-container",1)(2,P3,30,2,"ng-container",1),m()),c&2){let e=f();n(),a("ngIf",e.movieFullCrewError),n(),a("ngIf",!e.movieFullCrewError)}}var h1=class c{constructor(i,e,z){this.activatedRoute=i;this.movieService=e;this.fb=z}id=0;originalMovieFullCrew=[];movieFullCrew=[];loadingFullCrew=!1;activatedRouteParentSubscription;orderForm=new l1({});fullCrewFound=!1;movieFullCrewError=!1;errorMessage="";ngOnInit(){this.setId(),this.orderForm=this.fb.group({orderCrew:new r1("0")})}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(i=>{this.id=parseInt(i.id),this.getFullCrew()})}getFullCrew(){this.movieFullCrewError=!1,this.loadingFullCrew=!0,this.movieService.getMovieCrew(this.id).then(i=>{this.originalMovieFullCrew=i,this.movieFullCrew=i}).catch(i=>{this.handleError(i)}).finally(()=>{this.loadingFullCrew=!1})}handleError(i){this.movieFullCrewError=!0,this.errorMessage=i.message}reloadFullCrew(i){this.getFullCrew()}changeCrewOrder(){switch(this.orderForm.value.orderCrew){case"1":{this.movieFullCrew.sort((i,e)=>i.name.localeCompare(e.name));break}case"2":{this.movieFullCrew.sort((i,e)=>e.name.localeCompare(i.name));break}case"3":{this.movieFullCrew.sort((i,e)=>i.job.localeCompare(e.job));break}case"4":{this.movieFullCrew.sort((i,e)=>e.job.localeCompare(i.job));break}}}ngOnDestroy(){this.activatedRouteParentSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||c)(_(k),_(w),_(v1))};static \u0275cmp=u({type:c,selectors:[["app-movie-full-crew"]],standalone:!1,decls:3,vars:2,consts:[[1,"movie-full-crew"],[4,"ngIf"],["message","Loading full crew..."],[3,"reload","errorMessage"],[3,"formGroup"],[1,"row","align-items-center"],["for","orderCrew",1,"col-3"],[1,"col-9"],["formControlName","orderCrew","id","orderCrew","name","orderCrew",1,"form-control",3,"change"],["value","0","selected","","disabled",""],["value","1"],["value","2"],["value","3"],["value","4"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],["href","",3,"routerLink"]],template:function(e,z){e&1&&(t(0,"section",0),s(1,I3,2,0,"ng-container",1)(2,T3,3,2,"ng-container",1),l()),e&2&&(n(),a("ngIf",z.loadingFullCrew),n(),a("ngIf",!z.loadingFullCrew))},dependencies:[q,y,I,D,E,o1,p1,z1,s1,a1,t1,m1,f1],encapsulation:2})};var L1=class{id;cast;crew;constructor(){this.id=0,this.cast=[],this.crew=[]}};var N1=class{id;results;constructor(){this.id=0,this.results=[]}};var o2={prefix:"fab",iconName:"imdb",icon:[448,512,[],"f2d8","M89.5 323.6l-35.6 0 0-137.4 35.6 0 0 137.4zm66.6-73.1l9.1-64.3 46.3 0 0 137.4-31 0 0-92.7-13.4 92.7-21.3 0-13-90.7-.1 90.7-31.2 0 0-137.4 46.1 0c.5 8.3 2.8 18.1 4.3 29.4l4.2 34.9zm67.6 73.1l0-137.4 26.6 0c17 0 27 .9 33 2.4 6.1 1.7 10.7 4.2 13.9 7.9 3.1 3.3 5.1 6.6 5.8 12 .9 4.4 1.4 13.1 1.4 26.2l0 48.2c0 12.3-.7 20.5-1.9 24.7-1.1 4.1-3.1 7.4-6 9.7-2.8 2.4-6.4 4.1-10.7 5-4.2 .8-10.6 1.3-19.1 1.3l-43 0zm35.5-113.9l0 89.4c5.1 0 8.3-1 9.4-2.3 1.1-2 1.8-7.6 1.8-16.7l0-53.3c0-6.2-.1-10.2-.7-12-.3-1.8-1.2-3-2.6-4.7-1.4 0-4.1-.4-7.9-.4zm57.3 113.9l0-137.4 34.1 0 0 43.9c2.9-2.4 6.1-4.9 9.5-6.6 3.6-1.5 8.8-2.4 12.8-2.4 4.8 0 8.9 .8 12.3 2.2 3.4 1.5 6 3.5 8 6.2 1.7 2.6 2.7 5.3 3.1 7.8 .4 2.6-.2 8-.2 16.2l0 38.6c0 8.2 .2 14.3-.8 18.4-1.1 4-3.8 7.6-7.8 9.6-4.1 3.9-8.9 5.3-14.6 5.3-4 0-9.2-.9-12.7-2.5-3.5-1.8-6.7-4.5-9.6-8l-2.1 8.7-32 0zm45.1-20.7c.7-1.8 1-6 1-12.5l0-35.4c0-5.6-.3-9.5-1.1-11.2-.7-1.9-3.7-2.7-5.8-2.7-2 0-3.4 .8-4.1 2.3-.6 1.5-1 5.4-1 11.6l0 36.4c0 6.1 .4 10 1.2 11.6 .6 1.7 2.1 2.5 4.1 2.5 2.2 0 4.2-.8 5.7-2.6zM418.4 32c15.7 1.2 28.7 15.2 28.7 31.9l0 384.2c0 16.4-11.9 30.4-28.2 31-.3 0-.5 .9-.8 .9L29.9 480c-.3 0-.6-.9-.8-.1-15.7-1.4-27.9-13.8-29-30.2L0 61.8C1.1 45.9 13.8 33.1 30.3 31.1l387.4 0c.2 0 .5 .9 .7 .9zM30.3 41.3C19 42 10 51 9.3 62.4l0 387.3c.4 5.4 2.7 10.5 6.4 14.3 3.8 3.9 8.8 6.3 14.2 6.7l388.2 0c11.5-1 20.6-11.6 20.6-22.6l0-384.2c0-5.7-2.1-11.3-6-15.5s-9.3-6.8-15-7.2l-387.4 0z"]};var y1=class c{constructor(i){this.sanitizer=i}transform(i){return this.sanitizer.bypassSecurityTrustResourceUrl(i)}static \u0275fac=function(e){return new(e||c)(_(Y1,16))};static \u0275pipe=K({name:"safeUrl",type:c,pure:!0,standalone:!1})};var D3=c=>["/movie",c,"cast"],R3=c=>["/movie",c,"crew"],A3=c=>["/movie",c,"full-crew"],G=c=>["/person",c];function B3(c,i){c&1&&(o(0),p(1,"app-loading-fullscreen",2),m())}function G3(c,i){if(c&1){let e=N();o(0),t(1,"app-movie-error",3),g("reload",function(M){h(e);let S=f(2);return L(S.reloadMovieOverview(M))}),l(),m()}if(c&2){let e=f(2);n(),a("errorMessage",e.errorMessage)}}function j3(c,i){if(c&1&&(o(0),t(1,"section",9)(2,"p"),r(3),l()(),m()),c&2){let e=f(3);n(3),b(e.movie.tagline)}}function V3(c,i){if(c&1&&(o(0),t(1,"section",0)(2,"p"),r(3),l()(),p(4,"hr"),m()),c&2){let e=f(3);n(3),b(e.movie.overview)}}function H3(c,i){c&1&&(o(0),p(1,"app-loading-inline",10),m())}function W3(c,i){if(c&1&&(o(0),t(1,"a",20),r(2),l(),p(3,"br"),m()),c&2){let e=i.$implicit;n(),a("routerLink",d(2,G,e.id)),n(),v(" ",e.name," ")}}function $3(c,i){if(c&1&&(o(0),t(1,"div",15)(2,"table",8)(3,"tbody")(4,"tr")(5,"td"),r(6,"Starring:"),l(),t(7,"td",18),s(8,W3,4,4,"ng-container",19),l()()()()(),m()),c&2){let e=f(5);n(8),a("ngForOf",e.mainCast)}}function U3(c,i){c&1&&(o(0),t(1,"p"),r(2,"This movie has no recongizable cast"),l(),m())}function Y3(c,i){if(c&1&&(o(0),t(1,"a",20),r(2),l(),p(3,"br"),m()),c&2){let e=i.$implicit;n(),a("routerLink",d(2,G,e.id)),n(),v(" ",e.name," ")}}function J3(c,i){if(c&1&&(o(0),t(1,"tr")(2,"td"),r(3,"Directed By:"),l(),t(4,"td",18),s(5,Y3,4,4,"ng-container",19),l()(),m()),c&2){let e=f(5);n(5),a("ngForOf",e.direction)}}function K3(c,i){if(c&1&&(o(0),t(1,"a",20),r(2),l(),p(3,"br"),m()),c&2){let e=i.$implicit;n(),a("routerLink",d(2,G,e.id)),n(),v(" ",e.name," ")}}function X3(c,i){if(c&1&&(o(0),t(1,"tr")(2,"td"),r(3,"Written By:"),l(),t(4,"td",18),s(5,K3,4,4,"ng-container",19),l()(),m()),c&2){let e=f(5);n(5),a("ngForOf",e.writing)}}function Q3(c,i){if(c&1&&(o(0),t(1,"a",20),r(2),l(),p(3,"br"),m()),c&2){let e=i.$implicit;n(),a("routerLink",d(2,G,e.id)),n(),v(" ",e.name," ")}}function Z3(c,i){if(c&1&&(o(0),t(1,"tr")(2,"td"),r(3,"Story By:"),l(),t(4,"td",18),s(5,Q3,4,4,"ng-container",19),l()(),m()),c&2){let e=f(5);n(5),a("ngForOf",e.story)}}function e4(c,i){if(c&1&&(o(0),t(1,"a",20),r(2),l(),p(3,"br"),m()),c&2){let e=i.$implicit;n(),a("routerLink",d(2,G,e.id)),n(),v(" ",e.name," ")}}function c4(c,i){if(c&1&&(o(0),t(1,"tr")(2,"td"),r(3,"Based on the Work By:"),l(),t(4,"td",18),s(5,e4,4,4,"ng-container",19),l()(),m()),c&2){let e=f(5);n(5),a("ngForOf",e.basedOnWorkBy)}}function i4(c,i){if(c&1&&(o(0),t(1,"a",20),r(2),l(),p(3,"br"),m()),c&2){let e=i.$implicit;n(),a("routerLink",d(2,G,e.id)),n(),v(" ",e.name," ")}}function n4(c,i){if(c&1&&(o(0),t(1,"tr")(2,"td"),r(3,"Produced By:"),l(),t(4,"td",18),s(5,i4,4,4,"ng-container",19),l()(),m()),c&2){let e=f(5);n(5),a("ngForOf",e.producing)}}function a4(c,i){c&1&&(o(0),r(1,"s"),m())}function t4(c,i){if(c&1&&(o(0),t(1,"a",20),r(2),l(),p(3,"br"),m()),c&2){let e=i.$implicit;n(),a("routerLink",d(2,G,e.id)),n(),v(" ",e.name," ")}}function l4(c,i){if(c&1&&(o(0),t(1,"tr")(2,"td"),r(3," Executive Producer"),s(4,a4,2,0,"ng-container",1),r(5,": "),l(),t(6,"td",18),s(7,t4,4,4,"ng-container",19),l()(),m()),c&2){let e=f(5);n(4),a("ngIf",e.executiveProducing.length>1),n(3),a("ngForOf",e.executiveProducing)}}function r4(c,i){if(c&1&&(o(0),t(1,"section",11)(2,"div",4)(3,"div",12)(4,"h3"),r(5,"Main Cast"),l(),s(6,$3,9,1,"ng-container",1)(7,U3,3,0,"ng-container",1),l(),t(8,"div",13)(9,"section",14)(10,"h3"),r(11,"Main Crew"),l(),t(12,"div",15)(13,"table",8)(14,"tbody"),s(15,J3,6,1,"ng-container",1)(16,X3,6,1,"ng-container",1)(17,Z3,6,1,"ng-container",1)(18,c4,6,1,"ng-container",1)(19,n4,6,1,"ng-container",1)(20,l4,8,2,"ng-container",1),l()()()()()(),t(21,"div",4)(22,"div",12)(23,"div",16)(24,"a",17),r(25," See Full Cast "),l()()(),t(26,"div",12)(27,"div",16)(28,"a",17),r(29," See Featured Crew "),l()()(),t(30,"div",12)(31,"div",16)(32,"a",17),r(33," See Full Crew "),l()()()()(),m()),c&2){let e=f(4);n(6),a("ngIf",e.mainCast.length>1),n(),a("ngIf",e.mainCast.length==0),n(8),a("ngIf",e.direction.length>0),n(),a("ngIf",e.writing.length>0),n(),a("ngIf",e.story.length>0),n(),a("ngIf",e.basedOnWorkBy.length>0),n(),a("ngIf",e.producing.length>0),n(),a("ngIf",e.executiveProducing.length>0),n(4),a("routerLink",d(11,D3,e.movie.id)),n(4),a("routerLink",d(13,R3,e.movie.id)),n(4),a("routerLink",d(15,A3,e.movie.id))}}function o4(c,i){if(c&1&&(o(0),t(1,"section",21)(2,"p"),r(3," Error showing credits: "),t(4,"strong"),r(5),l()()(),m()),c&2){let e=f(4);n(5),b(e.movieCreditsErrorMessage)}}function m4(c,i){if(c&1&&(o(0),s(1,r4,34,17,"ng-container",1)(2,o4,6,1,"ng-container",1),p(3,"hr"),m()),c&2){let e=f(3);n(),a("ngIf",e.movieCreditsFound),n(),a("ngIf",!e.movieCreditsFound)}}function f4(c,i){if(c&1&&(o(0),t(1,"div",4)(2,"div",23),p(3,"iframe",24),B(4,"safeUrl"),l()(),m()),c&2){let e=f(5);n(3),a("src",Q(4,1,e.movieTrailerUrl),A1)}}function s4(c,i){c&1&&(o(0),t(1,"p"),r(2,"No trailer found"),l(),m())}function p4(c,i){if(c&1&&(o(0),t(1,"p"),r(2," Error showing trailer: "),t(3,"strong"),r(4),l()(),m()),c&2){let e=f(6);n(4),b(e.movieTrailerErrorMessage)}}function z4(c,i){if(c&1&&(o(0),s(1,s4,3,0,"ng-container",1)(2,p4,5,1,"ng-container",1),m()),c&2){let e=f(5);n(),a("ngIf",!e.movieTrailerError),n(),a("ngIf",e.movieTrailerError)}}function v4(c,i){if(c&1&&(o(0),t(1,"section",22)(2,"h3"),r(3,"Trailer"),l(),s(4,f4,5,3,"ng-container",1)(5,z4,3,2,"ng-container",1),l(),m()),c&2){let e=f(4);n(4),a("ngIf",e.movieTrailerFound),n(),a("ngIf",!e.movieTrailerFound)}}function d4(c,i){if(c&1&&(o(0),t(1,"section",25)(2,"p"),r(3," Error showing trailer: "),t(4,"strong"),r(5),l()()(),m()),c&2){let e=f(5);n(5),b(e.movieTrailerErrorMessage)}}function M4(c,i){c&1&&(o(0),t(1,"section",26)(2,"h3"),r(3,"Trailer"),l(),t(4,"p"),r(5,"No trailer available"),l()(),m())}function _4(c,i){if(c&1&&(o(0),s(1,d4,6,1,"ng-container",1)(2,M4,6,0,"ng-container",1),m()),c&2){let e=f(4);n(),a("ngIf",e.movieTrailerError),n(),a("ngIf",!e.movieTrailerError)}}function u4(c,i){if(c&1&&(o(0),s(1,v4,6,2,"ng-container",1)(2,_4,3,2,"ng-container",1),m()),c&2){let e=f(3);n(),a("ngIf",e.movieTrailerFound),n(),a("ngIf",!e.movieTrailerFound)}}function g4(c,i){c&1&&(o(0),r(1,"s"),m())}function b4(c,i){if(c&1&&(o(0),r(1),p(2,"br"),m()),c&2){let e=i.$implicit;n(),v(" ",e.name," ")}}function C4(c,i){if(c&1&&(o(0),t(1,"tr")(2,"td"),r(3,"Genre"),s(4,g4,2,0,"ng-container",1),r(5,":"),l(),t(6,"td"),s(7,b4,3,1,"ng-container",19),l()(),m()),c&2){let e=f(3);n(4),a("ngIf",e.movie.genres.length>1),n(3),a("ngForOf",e.movie.genres)}}function x4(c,i){c&1&&(o(0),r(1,"y"),m())}function S4(c,i){c&1&&(o(0),r(1,"ies"),m())}function h4(c,i){if(c&1&&(o(0),r(1),p(2,"br"),m()),c&2){let e=i.$implicit;n(),v(" ",e.name," ")}}function L4(c,i){if(c&1&&(o(0),t(1,"tr")(2,"td"),r(3," Production Compan"),s(4,x4,2,0,"ng-container",1)(5,S4,2,0,"ng-container",1),r(6,": "),l(),t(7,"td"),s(8,h4,3,1,"ng-container",19),l()(),m()),c&2){let e=f(3);n(4),a("ngIf",e.movie.production_companies.length==1),n(),a("ngIf",e.movie.production_companies.length>1),n(3),a("ngForOf",e.movie.production_companies)}}function N4(c,i){c&1&&(o(0),r(1,"y"),m())}function y4(c,i){c&1&&(o(0),r(1,"ies"),m())}function w4(c,i){if(c&1&&(o(0),r(1),p(2,"br"),m()),c&2){let e=i.$implicit;n(),v(" ",e.name," ")}}function E4(c,i){if(c&1&&(o(0),t(1,"tr")(2,"td"),r(3," Production Countr"),s(4,N4,2,0,"ng-container",1)(5,y4,2,0,"ng-container",1),r(6,": "),l(),t(7,"td"),s(8,w4,3,1,"ng-container",19),l()(),m()),c&2){let e=f(3);n(4),a("ngIf",e.movie.production_countries.length==1),n(),a("ngIf",e.movie.production_countries.length>1),n(3),a("ngForOf",e.movie.production_countries)}}function k4(c,i){if(c&1&&(o(0),t(1,"tr")(2,"td"),r(3,"Runtime:"),l(),t(4,"td"),r(5),l()(),m()),c&2){let e=f(3);n(5),v("",e.movie.runtime," min")}}function I4(c,i){if(c&1&&(o(0),t(1,"tr")(2,"td"),r(3,"Budget:"),l(),t(4,"td"),r(5),B(6,"currency"),l()(),m()),c&2){let e=f(3);n(5),v("USD ",P1(6,1,e.movie.budget,"USD","symbol","1.0"))}}function F4(c,i){if(c&1&&(o(0),t(1,"tr")(2,"td"),r(3,"Box Office:"),l(),t(4,"td"),r(5),B(6,"currency"),l()(),m()),c&2){let e=f(3);n(5),v("USD ",P1(6,1,e.movie.revenue,"USD","symbol","1.0"))}}function O4(c,i){if(c&1&&(o(0),t(1,"div",16)(2,"a",28),p(3,"fa-icon",29),r(4," View IMDB "),l()(),m()),c&2){let e=f(4);n(2),a("href",e.movieIMDB,H),n(),a("icon",e.imdbIcon)}}function P4(c,i){if(c&1&&(o(0),t(1,"div",16)(2,"a",28),p(3,"fa-icon",29),r(4," View Homepage "),l()(),m()),c&2){let e=f(4);n(2),a("href",e.movieHomepage,H),n(),a("icon",e.globeIcon)}}function T4(c,i){if(c&1&&(o(0),t(1,"section",27)(2,"h3"),r(3,"External Links"),l(),s(4,O4,5,2,"ng-container",1)(5,P4,5,2,"ng-container",1),l(),m()),c&2){let e=f(3);n(4),a("ngIf",e.movie.imdb_id),n(),a("ngIf",e.movie.homepage)}}function q4(c,i){if(c&1&&(o(0),s(1,j3,4,1,"ng-container",1)(2,V3,5,1,"ng-container",1)(3,H3,2,0,"ng-container",1)(4,m4,4,2,"ng-container",1),t(5,"div",4)(6,"div",5),s(7,u4,3,2,"ng-container",1),l(),t(8,"div",5)(9,"section",6)(10,"h3"),r(11,"Movie Info"),l(),t(12,"div",7)(13,"table",8)(14,"tbody"),s(15,C4,8,2,"ng-container",1)(16,L4,9,3,"ng-container",1)(17,E4,9,3,"ng-container",1),o(18),t(19,"tr")(20,"td"),r(21,"Release Date:"),l(),t(22,"td"),r(23),B(24,"date"),l()(),m(),s(25,k4,6,1,"ng-container",1)(26,I4,7,6,"ng-container",1)(27,F4,7,6,"ng-container",1),l()()()()()(),p(28,"hr"),s(29,T4,6,2,"ng-container",1),m()),c&2){let e=f(2);n(),a("ngIf",e.movie.tagline),n(),a("ngIf",e.movie.overview),n(),a("ngIf",e.loadingCredits),n(),a("ngIf",!e.loadingCredits),n(3),a("ngIf",!e.loadingTrailer),n(8),a("ngIf",e.movie.genres.length>0),n(),a("ngIf",e.movie.production_companies.length>0),n(),a("ngIf",e.movie.production_countries.length>0),n(6),b(V1(24,13,e.movieReleaseDate,"longDate")),n(2),a("ngIf",e.movie.runtime&&e.movie.runtime>0),n(),a("ngIf",e.movie.budget&&e.movie.budget>0),n(),a("ngIf",e.movie.revenue&&e.movie.revenue>0),n(2),a("ngIf",e.movie.imdb_id||e.movie.homepage)}}function D4(c,i){if(c&1&&(o(0),s(1,G3,2,1,"ng-container",1)(2,q4,30,16,"ng-container",1),m()),c&2){let e=f();n(),a("ngIf",e.movieOverviewError),n(),a("ngIf",!e.movieOverviewError)}}var w1=class c{constructor(i,e,z){this.activatedRoute=i;this.movieService=e;this.localStorageService=z}imdbIcon=o2;globeIcon=i2;id=0;movie=new R;credits=new L1;responseVideo=new N1;movieReleaseDate=new Date;movieIMDB="";movieHomepage="";mainCast=[];direction=[];writing=[];story=[];basedOnWorkBy=[];producing=[];executiveProducing=[];movieTrailerUrl="";movieDefaultUrl="https://www.youtube.com/embed/ohkW_xbPl9A";loadingMovie=!1;movieFound=!1;movieOverviewError=!1;errorMessage="";loadingCredits=!1;movieCreditsFound=!1;movieCreditsError=!1;movieCreditsErrorMessage="";loadingTrailer=!1;movieTrailerFound=!1;movieTrailerError=!1;movieTrailerErrorMessage="";activatedRouteParentSubscription;ngOnInit(){this.setId()}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(i=>{this.id=parseInt(i.id),this.getMovie(),this.getCredits(),this.getVideo()})}getMovie(){this.movieOverviewError=!1,this.loadingMovie=!0;let i=this.localStorageService.getItem("movie");i?(this.movie=i,this.loadingMovie=!1,this.setReleaseDate(),this.setMovieIMDB(),this.setMovieHomepage()):this.movieService.getMovie(this.id).then(e=>{this.movie=e,this.movieFound=!0,this.setReleaseDate(),this.setMovieIMDB(),this.setMovieHomepage()}).catch(e=>{this.handleError(e)}).finally(()=>{this.loadingMovie=!1})}getCredits(){this.loadingCredits=!0,this.movieService.getMovieCredits(this.id).then(i=>{this.credits=i,this.movieCreditsFound=!0,this.setMainCast(),this.setAndFilterMainCrew()}).catch(i=>{this.handleCreditsError(i)}).finally(()=>{this.loadingCredits=!1})}getVideo(){this.loadingTrailer=!0,this.movieService.getMovieVideos(this.id).then(i=>{this.responseVideo=i,this.setMovieTrailer()}).catch(i=>{this.handleTrailerError(i)}).finally(()=>{this.loadingTrailer=!1})}setReleaseDate(){this.movie.release_date&&(this.movieReleaseDate=new Date(this.movie.release_date))}setMovieIMDB(){this.movie.imdb_id&&(this.movieIMDB=`https://www.imdb.com/title/${this.movie.imdb_id}/`)}setMovieHomepage(){this.movie.homepage&&(this.movieHomepage=`${this.movie.homepage}`)}setMainCast(){this.credits&&(this.mainCast=this.credits.cast.slice(0,7))}setAndFilterMainCrew(){this.credits&&(this.direction=this.credits.crew.filter(i=>i.job=="Director"),this.writing=this.credits.crew.filter(i=>i.job=="Screenplay"||i.job=="Writer"),this.story=this.credits.crew.filter(i=>i.job=="Story"),this.basedOnWorkBy=this.credits.crew.filter(i=>i.job=="Novel"),this.producing=this.credits.crew.filter(i=>i.job=="Producer"),this.executiveProducing=this.credits.crew.filter(i=>i.job=="Executive Producer"))}setMovieTrailer(){if(this.responseVideo.results.length>0)this.movieTrailerFound=!0;else return;let e=this.responseVideo.results.filter(z=>z.type=="Trailer").slice(0,1)[0].key;this.movieTrailerUrl=`${F.youtubeEmbedUrl}${e}`}handleError(i){this.movieOverviewError=!0,this.errorMessage=i.message}handleCreditsError(i){this.movieCreditsError=!0,this.movieCreditsErrorMessage=i.message}handleTrailerError(i){this.movieTrailerError=!0,this.movieTrailerErrorMessage=i.message}reloadMovieOverview(i){this.getMovie()}ngOnDestroy(){this.activatedRouteParentSubscription?.unsubscribe()}static \u0275fac=function(e){return new(e||c)(_(k),_(w),_(c1))};static \u0275cmp=u({type:c,selectors:[["app-movie-overview"]],standalone:!1,decls:3,vars:2,consts:[[1,"movie-overview"],[4,"ngIf"],["message","Loading movie..."],[3,"reload","errorMessage"],[1,"row"],[1,"col-12","col-lg-6"],[1,"movie-info"],[1,"table","table-responsive"],[1,"table"],[1,"movie-tagline"],["message","Loading credits"],[1,"movie-main-credits"],[1,"col-12","col-lg-4"],[1,"col-12","col-lg-8"],[1,"movie-main-crew"],[1,"table-responsive"],[1,"d-grid","mb-2"],[1,"btn","btn-primary",3,"routerLink"],[1,"text-end"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"error-credits"],[1,"movie-video"],[1,"col-12"],[3,"src"],[1,"error-trailer"],[1,"no-trailer-available"],[1,"movie-external-links"],["target","_blank",1,"btn","btn-primary",3,"href"],[3,"icon"]],template:function(e,z){e&1&&(t(0,"section",0),s(1,B3,2,0,"ng-container",1)(2,D4,3,2,"ng-container",1),l()),e&2&&(n(),a("ngIf",z.loadingMovie),n(),a("ngIf",!z.loadingMovie))},dependencies:[q,y,I,n1,D,E,O,$1,W1,y1],styles:[".movie-overview[_ngcontent-%COMP%]   .movie-tagline[_ngcontent-%COMP%]{font-style:italic;margin-bottom:1rem}.movie-overview[_ngcontent-%COMP%]   .movie-overview[_ngcontent-%COMP%], .movie-overview[_ngcontent-%COMP%]   .movie-main-cast[_ngcontent-%COMP%], .movie-overview[_ngcontent-%COMP%]   .movie-main-crew[_ngcontent-%COMP%]{margin-bottom:1rem}.movie-overview[_ngcontent-%COMP%]   .movie-video[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:inherit;height:325px}.movie-overview[_ngcontent-%COMP%]   .movie-info[_ngcontent-%COMP%]{margin-bottom:1rem}"]})};var R4=[{path:":id",component:b1,children:[{path:"overview",component:w1,pathMatch:"full"},{path:"cast",component:x1,pathMatch:"full"},{path:"crew",component:S1,pathMatch:"full"},{path:"full-crew",component:h1,pathMatch:"full"},{path:"",redirectTo:"overview",pathMatch:"full"}]}],E1=class c{static \u0275fac=function(e){return new(e||c)};static \u0275mod=T({type:c});static \u0275inj=P({imports:[T1.forChild(R4),T1]})};var k1=class c{static \u0275fac=function(e){return new(e||c)};static \u0275mod=T({type:c});static \u0275inj=P({imports:[W,i1]})};var I1=class c{static \u0275fac=function(e){return new(e||c)};static \u0275mod=T({type:c});static \u0275inj=P({imports:[W]})};var m2=class c{static \u0275fac=function(e){return new(e||c)};static \u0275mod=T({type:c});static \u0275inj=P({imports:[W,E1,l2,k1,r2,a2,t2,I1,i1]})};export{m2 as MovieModule};

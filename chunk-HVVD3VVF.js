import{a as Z,b as L,c as it}from"./chunk-F46J6ZGM.js";import{a as P,b as te,c as rt}from"./chunk-6QJPHB5H.js";import{$ as He,A as l,B as m,Ca as Je,D as O,E as M,Ea as Xe,F as s,Fa as Ze,G as je,H as Be,I as $e,Ia as N,Ja as ee,L as c,La as ie,M as w,Ma as ne,N as _,Na as re,Oa as oe,Pa as ae,Q as g,Qa as ce,Ra as le,S as H,Sa as me,T as q,Ta as se,U as Ve,Ua as pe,V as Re,Va as de,Wa as et,X as J,Xa as tt,Z as T,_ as h,ba as Ae,da as ze,db as nt,e as $,ea as U,g as y,h as I,l as z,la as Ue,m as Le,ma as R,n,na as Ge,o as u,p as f,pa as S,q as V,qa as We,ra as Ne,s as Q,sa as Ke,t as p,ta as F,u as Y,w as r,wa as Qe,x as o,xa as X,y as a,ya as Ye,z as v,za as qe}from"./chunk-OHTB3ODO.js";var j=class{adult;backdrop_path;belongs_to_collection;budget;genres;homepage;id;imdb_id;origin_country;original_language;original_title;overview;popularity;poster_path;production_companies;production_countries;release_date;revenue;runtime;spoken_languages;status;tagline;title;video;vote_average;vote_count;constructor(){this.adult=!1,this.backdrop_path="",this.belongs_to_collection=!1,this.budget=0,this.genres=[],this.homepage="",this.id=0,this.imdb_id="",this.origin_country=[],this.original_language="",this.original_title="",this.overview="",this.popularity=0,this.poster_path="",this.production_companies=[],this.production_countries=[],this.release_date="",this.revenue=0,this.runtime=0,this.spoken_languages=[],this.status="",this.tagline="",this.title="",this.video=!1,this.vote_average=0,this.vote_count=0}};var ve=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["app-movie-not-found"]],standalone:!1,decls:6,vars:0,consts:[[1,"movie-not-found"],[1,"movie-not-found-description"]],template:function(t,d){t&1&&(o(0,"section",0)(1,"div",1)(2,"h1"),c(3,"Movie Not Found"),a(),o(4,"p"),c(5,"No movie was found with this ID. Try another one :)"),a()()())},styles:[".movie-not-found[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}.movie-not-found[_ngcontent-%COMP%]   .movie-not-found-description[_ngcontent-%COMP%]{text-align:center;border:1px solid black;padding:1rem 2rem}"]})};var k=class e{repeat=X;errorMessage="";reload=new Y;ngOnInit(){}pressReload(){this.reload.emit(!0)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["app-movie-error"]],inputs:{errorMessage:"errorMessage"},outputs:{reload:"reload"},standalone:!1,decls:10,vars:2,consts:[[1,"movie-error"],["type","button",1,"btn","btn-primary",3,"click"],[3,"icon"]],template:function(t,d){t&1&&(o(0,"section",0)(1,"h1"),c(2,"Movie Service Error"),a(),o(3,"p"),c(4,"There was an error getting info for the movie: "),o(5,"strong"),c(6),a()(),o(7,"button",1),M("click",function(){return d.pressReload()}),v(8,"fa-icon",2),c(9," Reload "),a()()),t&2&&(n(6),w(d.errorMessage),n(2),r("icon",d.repeat))},dependencies:[N],styles:[".movie-error[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};var ge=class e{repeat=X;errorMessage="";reload=new Y;ngOnInit(){}pressReload(){this.reload.emit(!0)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["app-movie-error-fullscreen"]],inputs:{errorMessage:"errorMessage"},outputs:{reload:"reload"},standalone:!1,decls:11,vars:2,consts:[[1,"movie-error-fullscreen"],[1,"movie-error-description"],["type","button",1,"btn","btn-primary",3,"click"],[3,"icon"]],template:function(t,d){t&1&&(o(0,"section",0)(1,"div",1)(2,"h1"),c(3,"Movie Service Error"),a(),o(4,"p"),c(5,"There was an error getting info for the movie: "),o(6,"strong"),c(7),a()(),o(8,"button",2),M("click",function(){return d.pressReload()}),v(9,"fa-icon",3),c(10," Reload "),a()()()),t&2&&(n(7),w(d.errorMessage),n(2),r("icon",d.repeat))},dependencies:[N],styles:[".movie-error-fullscreen[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}.movie-error-fullscreen[_ngcontent-%COMP%]   .movie-error-description[_ngcontent-%COMP%]{text-align:center;border:1px solid black;padding:1rem 2rem}.movie-error-fullscreen[_ngcontent-%COMP%]   .movie-error-description[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};var ue=class e{transform(i){let t=Math.floor(i/60),d=i%60,C=t>0?`${t}h`:"",E=d>0?`${d}min`:"";return t==0&&d==0?"":t==0&&d>0?`${E}`:t>0&&d==0?`${C}`:`${C} ${E}`}static \u0275fac=function(t){return new(t||e)};static \u0275pipe=Q({name:"runtime",type:e,pure:!0,standalone:!1})};var mt=e=>({"background-image":e});function st(e,i){if(e&1&&(l(0),c(1),m()),e&2){let t=s();n(),_(" ",t.movie.title," ")}}function pt(e,i){if(e&1&&(l(0),c(1),o(2,"small"),c(3),a(),m()),e&2){let t=s();n(),_(" ",t.movie.original_title," "),n(2),_("(",t.movie.title,")")}}function dt(e,i){if(e&1&&(l(0),v(1,"fa-icon",4),c(2),m()),e&2){let t=s();n(),r("icon",t.calendar)("fixedWidth",!0),n(),_(" ",t.year," ")}}function vt(e,i){e&1&&(l(0),c(1," No Release Date "),m())}function _t(e,i){if(e&1&&(l(0),v(1,"fa-icon",4),c(2),H(3,"runtime"),m()),e&2){let t=s();n(),r("icon",t.clock)("fixedWidth",!0),n(),_(" ",q(3,3,t.movie.runtime)," ")}}var fe=class e{constructor(i){this.cd=i}film=Je;circleSeparator=Ye;calendar=qe;clock=Qe;id=0;movie=new j;year=0;backdropImg="";ngOnInit(){this.setYear(),this.setBackdrop()}setYear(){let i=new Date(this.movie.release_date);this.year=i.getFullYear()}setBackdrop(){this.backdropImg=this.movie.backdrop_path?`${F.imgUrl}${F.backdropSize}${this.movie.backdrop_path}`:"img/default-images/movie_backdrop_notavailable_w1280.png"}static \u0275fac=function(t){return new(t||e)(u(J))};static \u0275cmp=f({type:e,selectors:[["app-movie-header"]],inputs:{id:"id",movie:"movie"},standalone:!1,decls:13,vars:10,consts:[[1,"movie-header"],[1,"header-backdrop",3,"ngStyle"],[1,"header-movie-container"],[1,"header-movie-info"],[3,"icon","fixedWidth"],[4,"ngIf"]],template:function(t,d){t&1&&(o(0,"section",0)(1,"header"),v(2,"div",1),o(3,"div",2)(4,"div",3)(5,"h1"),v(6,"fa-icon",4),p(7,st,2,1,"ng-container",5)(8,pt,4,2,"ng-container",5),a(),o(9,"h2"),p(10,dt,3,3,"ng-container",5)(11,vt,2,0,"ng-container",5)(12,_t,4,5,"ng-container",5),a()()()()()),t&2&&(n(2),r("ngStyle",g(8,mt,"url("+d.backdropImg+")")),n(4),r("icon",d.film)("fixedWidth",!0),n(),r("ngIf",d.movie.title==d.movie.original_title),n(),r("ngIf",d.movie.title!=d.movie.original_title),n(2),r("ngIf",d.year),n(),r("ngIf",!d.year),n(),r("ngIf",d.movie.runtime>0))},dependencies:[h,He,N,ue],styles:[".movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{height:50vh;position:relative}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-backdrop[_ngcontent-%COMP%]{position:absolute;height:inherit;width:100%;background-size:cover}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]{position:absolute;height:inherit;width:100%;display:flex;flex-direction:column;justify-content:flex-end}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]   .header-movie-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end;background-color:#00000080}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]   .header-movie-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]   .header-movie-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:100%;color:#fff;margin:0}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]   .header-movie-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding:1rem 1rem 0rem}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]   .header-movie-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding:1rem}"]})};var Ct=["movieHeader"];function ht(e,i){e&1&&(l(0),v(1,"app-loading-fullscreen",3),m())}function xt(e,i){e&1&&(l(0),v(1,"app-loading-fullscreen",4),m())}function bt(e,i){e&1&&(l(0),v(1,"app-movie-not-found"),m())}function Mt(e,i){if(e&1){let t=O();l(0),o(1,"app-movie-error-fullscreen",5),M("reload",function(C){y(t);let E=s(4);return I(E.reloadMovie(C))}),a(),m()}if(e&2){let t=s(4);n(),r("errorMessage",t.errorMessage)}}function wt(e,i){if(e&1&&(l(0),p(1,bt,2,0,"ng-container",2)(2,Mt,2,1,"ng-container",2),m()),e&2){let t=s(3);n(),r("ngIf",t.movieNotFound),n(),r("ngIf",!t.movieNotFound)}}function St(e,i){if(e&1&&(l(0),v(1,"app-movie-error",6),m()),e&2){let t=s(4);n(),r("errorMessage",t.errorMessage)}}function Et(e,i){if(e&1&&(l(0),o(1,"div",21)(2,"a",22),v(3,"fa-icon",23),c(4," Open Poster in New Tab "),a()(),m()),e&2){let t=s(5);n(2),r("href",t.posterSizeOriginal,z),n(),r("icon",t.imagePortrait)}}function yt(e,i){if(e&1&&(l(0),v(1,"app-movie-header",7,0),o(3,"main")(4,"nav",8)(5,"div",9)(6,"ul",10)(7,"li",11)(8,"a",12),c(9," Overview "),a()(),o(10,"li",11)(11,"a",13),c(12," Cast "),a()(),o(13,"li",11)(14,"a",14),c(15," Featured Crew "),a()(),o(16,"li",11)(17,"a",15),c(18," Full Crew "),a()()()()(),o(19,"div",9)(20,"div",16)(21,"div",17)(22,"aside",18),v(23,"img",19),p(24,Et,5,2,"ng-container",2),a()(),o(25,"div",20),v(26,"router-outlet"),a()()()(),m()),e&2){let t=s(4);n(),r("id",t.id)("movie",t.movie),n(22),r("src",t.posterSizeSmall,z)("alt",t.altPosterText),n(),r("ngIf",t.movie.poster_path)}}function It(e,i){if(e&1&&(l(0),p(1,St,2,1,"ng-container",2)(2,yt,27,5,"ng-container",2),m()),e&2){let t=s(3);n(),r("ngIf",t.movie.id==0),n(),r("ngIf",t.movie.id!=0)}}function Ot(e,i){if(e&1&&(l(0),p(1,wt,3,2,"ng-container",2)(2,It,3,2,"ng-container",2),m()),e&2){let t=s(2);n(),r("ngIf",t.movieError),n(),r("ngIf",!t.movieError)}}function Tt(e,i){if(e&1&&(l(0),p(1,xt,2,0,"ng-container",2)(2,Ot,3,2,"ng-container",2),m()),e&2){let t=s();n(),r("ngIf",t.loadingMovie),n(),r("ngIf",!t.loadingMovie)}}var Ce=class e{constructor(i,t,d,C,E){this.activatedRoute=i;this.movieService=t;this.titleService=d;this.localStorageService=C;this.cd=E}imagePortrait=Ze;id=0;movie=new j;formattedTitle="";altPosterText="";posterSizeSmall="";posterSizeOriginal="";loadingView=!0;loadingMovie=!1;movieNotFound=!1;movieError=!1;errorMessage="";routeSubscription;movieHeader;ngOnInit(){this.cd.detectChanges(),this.routeSubscription=this.activatedRoute.params.subscribe(i=>{this.id=parseInt(this.activatedRoute.snapshot.params.id),this.getMovie()})}ngAfterContentInit(){this.loadingView=!1,this.cd.detectChanges()}getMovie(){this.movieError=!1,this.loadingMovie=!0,this.movieService.getMovie(this.id).then(i=>{this.movie=i,this.localStorageService.setItem("movie",i),this.setTitle(),this.setMoviePoster()}).catch(i=>{this.handleError(i)}).finally(()=>{this.loadingMovie=!1})}handleError(i){this.movieError=!0,i.status&&i.status===404?(this.movieNotFound=!0,this.titleService.setTitle("Movie Not Found")):(this.errorMessage=i.message,this.titleService.setTitle("Movie Service Error"))}reloadMovie(i){this.getMovie()}setTitle(){this.formattedTitle=this.movieService.getFormattedMovieTitle(this.movie.title,this.movie.original_title,this.movie.release_date),this.titleService.setTitle(this.formattedTitle)}setMoviePoster(){this.posterSizeSmall=this.movie.poster_path?`${F.imgUrl}${F.posterSizeSmall}${this.movie.poster_path}`:"img/default-images/movie_poster_notavailable_w500.png",this.posterSizeOriginal=this.movie.poster_path?`${F.imgUrl}${F.posterSizeOriginal}${this.movie.poster_path}`:"",this.altPosterText=this.movie.poster_path?`Poster from the movie ${this.formattedTitle}`:`Poster from the movie ${this.formattedTitle} is not available`}ngOnDestroy(){this.routeSubscription&&this.routeSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||e)(u(R),u(P),u(Ke),u(Z),u(J))};static \u0275cmp=f({type:e,selectors:[["app-movie"]],viewQuery:function(t,d){if(t&1&&je(Ct,5),t&2){let C;Be(C=$e())&&(d.movieHeader=C.first)}},standalone:!1,decls:3,vars:2,consts:[["movieHeader",""],[1,"movie"],[4,"ngIf"],["message","Loading view..."],["message","Loading movie..."],[3,"reload","errorMessage"],[3,"errorMessage"],[3,"id","movie"],[1,"navbar","navbar-dark","bg-dark","navbar-expand-sm"],[1,"container-fluid"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page","routerLink","overview","routerLinkActive","active",1,"nav-link"],["routerLink","cast","routerLinkActive","active",1,"nav-link"],["routerLink","crew","routerLinkActive","active",1,"nav-link"],["routerLink","full-crew","routerLinkActive","active",1,"nav-link"],[1,"row"],[1,"col-12","col-lg-2"],[1,"aside-1"],[1,"w-100",3,"src","alt"],[1,"col-12","col-lg-10"],[1,"d-grid"],["target","_blank",1,"btn","btn-outline-primary","btn-poster","mb-2",3,"href"],[3,"icon"]],template:function(t,d){t&1&&(o(0,"section",1),p(1,ht,2,0,"ng-container",2)(2,Tt,3,2,"ng-container",2),a()),t&2&&(n(),r("ngIf",d.loadingView),n(),r("ngIf",!d.loadingView))},dependencies:[h,Ge,S,We,te,ve,k,ge,N,fe],styles:[".movie[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   nav.navbar[_ngcontent-%COMP%]{margin-bottom:1rem;font-family:Oswald,Arial,sans-serif}.movie[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .aside-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:1rem}.movie[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .aside-1[_ngcontent-%COMP%]   .btn-poster[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};var Pt=e=>["/person",e];function Dt(e,i){e&1&&(l(0),v(1,"app-loading-inline",2),m())}function kt(e,i){if(e&1){let t=O();l(0),o(1,"app-movie-error",3),M("reload",function(C){y(t);let E=s(2);return I(E.reloadCast(C))}),a(),m()}if(e&2){let t=s(2);n(),r("errorMessage",t.errorMessage)}}function Rt(e,i){if(e&1&&(o(0,"tr")(1,"td")(2,"a",20),c(3),a()(),o(4,"td"),c(5,"as"),a(),o(6,"td"),c(7),a()()),e&2){let t=i.$implicit;n(2),r("routerLink",g(3,Pt,t.id)),n(),_(" ",t.name," "),n(4),w(t.character)}}function Nt(e,i){if(e&1){let t=O();l(0),o(1,"form",4)(2,"div",5)(3,"label",6),c(4,"Order by"),a(),o(5,"div",7)(6,"select",8),M("change",function(){y(t);let C=s(3);return I(C.changeCastOrder())}),o(7,"option",9),c(8,"Select an order criteria"),a(),o(9,"option",10),c(10,"Default Order (ascending)"),a(),o(11,"option",11),c(12,"Default Order (descending)"),a(),o(13,"option",12),c(14,"Name (ascending)"),a(),o(15,"option",13),c(16,"Name (descending)"),a(),o(17,"option",14),c(18,"Character (ascending)"),a(),o(19,"option",15),c(20,"Character (descending)"),a()()()()(),o(21,"div",16)(22,"table",17)(23,"thead")(24,"tr")(25,"th",18),c(26,"Actor"),a(),o(27,"th"),c(28,"Character"),a()()(),o(29,"tbody"),p(30,Rt,8,5,"tr",19),a()()(),m()}if(e&2){let t=s(3);n(),r("formGroup",t.orderCastForm),n(29),r("ngForOf",t.movieCast)}}function Lt(e,i){e&1&&(l(0),o(1,"p"),c(2,"This movie has no recognizable cast"),a(),m())}function jt(e,i){if(e&1&&(l(0),o(1,"h2"),c(2,"Cast"),a(),p(3,Nt,31,2,"ng-container",1)(4,Lt,3,0,"ng-container",1),m()),e&2){let t=s(2);n(3),r("ngIf",t.movieCast.length>0),n(),r("ngIf",t.movieCast.length==0)}}function Bt(e,i){if(e&1&&(l(0),p(1,kt,2,1,"ng-container",1)(2,jt,5,2,"ng-container",1),m()),e&2){let t=s();n(),r("ngIf",t.movieCastError),n(),r("ngIf",!t.movieCastError)}}var he=class e{constructor(i,t,d){this.activatedRoute=i;this.movieService=t;this.fb=d}id=0;movieCast=[];loadingCast=!1;orderCastForm=new re({});activatedRouteParentSubscription;castFound=!1;movieCastError=!1;errorMessage="";ngOnInit(){this.setId(),this.orderCastForm=this.fb.group({orderCast:new oe("1")})}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(i=>{this.id=parseInt(i.id),this.getCast()})}getCast(){this.movieCastError=!1,this.loadingCast=!0,this.movieService.getMovieCast(this.id).then(i=>{this.movieCast=i,this.castFound=!0}).catch(i=>{this.handleError(i)}).finally(()=>{this.loadingCast=!1})}handleError(i){this.movieCastError=!0,this.errorMessage=i.message}reloadCast(i){this.getCast()}changeCastOrder(){switch(this.orderCastForm.value.orderCast){case"1":{this.movieCast.sort((i,t)=>i.order-t.order);break}case"2":{this.movieCast.sort((i,t)=>t.order-i.order);break}case"3":{this.movieCast.sort((i,t)=>i.name.localeCompare(t.name));break}case"4":{this.movieCast.sort((i,t)=>t.name.localeCompare(i.name));break}case"5":{this.movieCast.sort((i,t)=>i.character.localeCompare(t.character));break}case"6":{this.movieCast.sort((i,t)=>t.character.localeCompare(i.character));break}default:break}}ngOnDestroy(){this.activatedRouteParentSubscription?.unsubscribe()}static \u0275fac=function(t){return new(t||e)(u(R),u(P),u(de))};static \u0275cmp=f({type:e,selectors:[["app-movie-cast"]],standalone:!1,decls:3,vars:2,consts:[[1,"movie-cast"],[4,"ngIf"],["message","Loading cast..."],[3,"reload","errorMessage"],[3,"formGroup"],[1,"row","align-items-center"],["for","orderCast",1,"col-3"],[1,"col-9"],["formControlName","orderCast","id","orderCast","name","orderCast",1,"form-control",3,"change"],["value","0","selected","","disabled",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],[1,"table-responsive"],[1,"table"],["colspan","2"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(t,d){t&1&&(o(0,"section",0),p(1,Dt,2,0,"ng-container",1)(2,Bt,3,2,"ng-container",1),a()),t&2&&(n(),r("ngIf",d.loadingCast),n(),r("ngIf",!d.loadingCast))},dependencies:[T,h,S,L,k,ae,se,pe,me,ie,ne,ce,le],encapsulation:2})};var b=e=>["/person",e];function $t(e,i){e&1&&(l(0),v(1,"app-loading-inline",2),m())}function Vt(e,i){if(e&1){let t=O();l(0),o(1,"app-movie-error",3),M("reload",function(C){y(t);let E=s(2);return I(E.reloadCrew(C))}),a(),m()}if(e&2){let t=s(2);n(),r("errorMessage",t.errorMessage)}}function Ht(e,i){if(e&1&&(l(0),o(1,"a",9),c(2),a(),v(3,"br"),m()),e&2){let t=i.$implicit;n(),r("routerLink",g(2,b,t.id)),n(),_(" ",t.name," ")}}function At(e,i){if(e&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Directed By:"),a(),o(4,"td"),p(5,Ht,4,4,"ng-container",8),a()(),m()),e&2){let t=s(3);n(5),r("ngForOf",t.direction)}}function zt(e,i){if(e&1&&(l(0),o(1,"a",9),c(2),a(),v(3,"br"),m()),e&2){let t=i.$implicit;n(),r("routerLink",g(2,b,t.id)),n(),_(" ",t.name," ")}}function Ut(e,i){if(e&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Co-Directed By:"),a(),o(4,"td",10),p(5,zt,4,4,"ng-container",8),a()(),m()),e&2){let t=s(3);n(5),r("ngForOf",t.coDirection)}}function Gt(e,i){if(e&1&&(l(0),o(1,"a",9),c(2),a(),v(3,"br"),m()),e&2){let t=i.$implicit;n(),r("routerLink",g(2,b,t.id)),n(),_(" ",t.name," ")}}function Wt(e,i){if(e&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Screenplay By:"),a(),o(4,"td"),p(5,Gt,4,4,"ng-container",8),a()(),m()),e&2){let t=s(3);n(5),r("ngForOf",t.writing)}}function Kt(e,i){if(e&1&&(l(0),o(1,"a",9),c(2),a(),v(3,"br"),m()),e&2){let t=i.$implicit;n(),r("routerLink",g(2,b,t.id)),n(),_(" ",t.name," ")}}function Qt(e,i){if(e&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Story By:"),a(),o(4,"td"),p(5,Kt,4,4,"ng-container",8),a()(),m()),e&2){let t=s(3);n(5),r("ngForOf",t.story)}}function Yt(e,i){if(e&1&&(l(0),o(1,"a",9),c(2),a(),v(3,"br"),m()),e&2){let t=i.$implicit;n(),r("routerLink",g(2,b,t.id)),n(),_(" ",t.name," ")}}function qt(e,i){if(e&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Based on Work By:"),a(),o(4,"td"),p(5,Yt,4,4,"ng-container",8),a()(),m()),e&2){let t=s(3);n(5),r("ngForOf",t.basedOnWorkBy)}}function Jt(e,i){if(e&1&&(l(0),o(1,"a",9),c(2),a(),v(3,"br"),m()),e&2){let t=i.$implicit;n(),r("routerLink",g(2,b,t.id)),n(),_(" ",t.name," ")}}function Xt(e,i){if(e&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Based on Characters Created By:"),a(),o(4,"td"),p(5,Jt,4,4,"ng-container",8),a()(),m()),e&2){let t=s(3);n(5),r("ngForOf",t.basedOnCharactersBy)}}function Zt(e,i){if(e&1&&(l(0),o(1,"a",9),c(2),a(),v(3,"br"),m()),e&2){let t=i.$implicit;n(),r("routerLink",g(2,b,t.id)),n(),_(" ",t.name," ")}}function ei(e,i){if(e&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Produced By:"),a(),o(4,"td"),p(5,Zt,4,4,"ng-container",8),a()(),m()),e&2){let t=s(3);n(5),r("ngForOf",t.producing)}}function ti(e,i){e&1&&(l(0),c(1,"s"),m())}function ii(e,i){if(e&1&&(l(0),o(1,"a",9),c(2),a(),v(3,"br"),m()),e&2){let t=i.$implicit;n(),r("routerLink",g(2,b,t.id)),n(),_(" ",t.name," ")}}function ni(e,i){if(e&1&&(l(0),o(1,"tr")(2,"td"),c(3," Executive Producer"),p(4,ti,2,0,"ng-container",1),c(5,": "),a(),o(6,"td"),p(7,ii,4,4,"ng-container",8),a()(),m()),e&2){let t=s(3);n(4),r("ngIf",t.executiveProducing.length>1),n(3),r("ngForOf",t.executiveProducing)}}function ri(e,i){e&1&&(l(0),c(1,"s"),m())}function oi(e,i){if(e&1&&(l(0),o(1,"a",9),c(2),a(),v(3,"br"),m()),e&2){let t=i.$implicit;n(),r("routerLink",g(2,b,t.id)),n(),_(" ",t.name," ")}}function ai(e,i){if(e&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Co-Producer"),p(4,ri,2,0,"ng-container",1),c(5,":"),a(),o(6,"td"),p(7,oi,4,4,"ng-container",8),a()(),m()),e&2){let t=s(3);n(4),r("ngIf",t.coProducing.length>1),n(3),r("ngForOf",t.coProducing)}}function ci(e,i){e&1&&(l(0),c(1,"s"),m())}function li(e,i){if(e&1&&(l(0),o(1,"a",9),c(2),a(),v(3,"br"),m()),e&2){let t=i.$implicit;n(),r("routerLink",g(2,b,t.id)),n(),_(" ",t.name," ")}}function mi(e,i){if(e&1&&(l(0),o(1,"tr")(2,"td"),c(3," Director"),p(4,ci,2,0,"ng-container",1),c(5," of Photography: "),a(),o(6,"td"),p(7,li,4,4,"ng-container",8),a()(),m()),e&2){let t=s(3);n(4),r("ngIf",t.directorsOfPhotography.length>1),n(3),r("ngForOf",t.directorsOfPhotography)}}function si(e,i){e&1&&(l(0),c(1,"s"),m())}function pi(e,i){if(e&1&&(l(0),o(1,"a",9),c(2),a(),v(3,"br"),m()),e&2){let t=i.$implicit;n(),r("routerLink",g(2,b,t.id)),n(),_(" ",t.name," ")}}function di(e,i){if(e&1&&(l(0),o(1,"tr")(2,"td"),c(3," Production Designer"),p(4,si,2,0,"ng-container",1),c(5,": "),a(),o(6,"td"),p(7,pi,4,4,"ng-container",8),a()(),m()),e&2){let t=s(3);n(4),r("ngIf",t.productionDesigners.length>1),n(3),r("ngForOf",t.productionDesigners)}}function vi(e,i){e&1&&(l(0),c(1,"s"),m())}function _i(e,i){if(e&1&&(l(0),o(1,"a",9),c(2),a(),v(3,"br"),m()),e&2){let t=i.$implicit;n(),r("routerLink",g(2,b,t.id)),n(),_(" ",t.name," ")}}function gi(e,i){if(e&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Editor"),p(4,vi,2,0,"ng-container",1),c(5,":"),a(),o(6,"td"),p(7,_i,4,4,"ng-container",8),a()(),m()),e&2){let t=s(3);n(4),r("ngIf",t.editors.length>1),n(3),r("ngForOf",t.editors)}}function ui(e,i){if(e&1&&(l(0),o(1,"a",9),c(2),a(),v(3,"br"),m()),e&2){let t=i.$implicit;n(),r("routerLink",g(2,b,t.id)),n(),_(" ",t.name," ")}}function fi(e,i){if(e&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Music By:"),a(),o(4,"td"),p(5,ui,4,4,"ng-container",8),a()(),m()),e&2){let t=s(3);n(5),r("ngForOf",t.musicComposers)}}function Ci(e,i){if(e&1&&(l(0),o(1,"a",9),c(2),a(),v(3,"br"),m()),e&2){let t=i.$implicit;n(),r("routerLink",g(2,b,t.id)),n(),_(" ",t.name," ")}}function hi(e,i){if(e&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Additional Music By:"),a(),o(4,"td"),p(5,Ci,4,4,"ng-container",8),a()(),m()),e&2){let t=s(3);n(5),r("ngForOf",t.additionalMusicComposers)}}function xi(e,i){e&1&&(l(0),c(1,"s"),m())}function bi(e,i){if(e&1&&(l(0),o(1,"a",9),c(2),a(),v(3,"br"),m()),e&2){let t=i.$implicit;n(),r("routerLink",g(2,b,t.id)),n(),_(" ",t.name," ")}}function Mi(e,i){if(e&1&&(l(0),o(1,"tr")(2,"td"),c(3," Visual Effects Supervisor"),p(4,xi,2,0,"ng-container",1),c(5,": "),a(),o(6,"td"),p(7,bi,4,4,"ng-container",8),a()(),m()),e&2){let t=s(3);n(4),r("ngIf",t.visualEffectsSupervisors.length>1),n(3),r("ngForOf",t.visualEffectsSupervisors)}}function wi(e,i){e&1&&(l(0),c(1,"s"),m())}function Si(e,i){if(e&1&&(l(0),o(1,"a",9),c(2),a(),v(3,"br"),m()),e&2){let t=i.$implicit;n(),r("routerLink",g(2,b,t.id)),n(),_(" ",t.name," ")}}function Ei(e,i){if(e&1&&(l(0),o(1,"tr")(2,"td"),c(3," Costume Designer"),p(4,wi,2,0,"ng-container",1),c(5,": "),a(),o(6,"td"),p(7,Si,4,4,"ng-container",8),a()(),m()),e&2){let t=s(3);n(4),r("ngIf",t.costumeDesigners.length>1),n(3),r("ngForOf",t.costumeDesigners)}}function yi(e,i){if(e&1&&(l(0),o(1,"a",9),c(2),a(),v(3,"br"),m()),e&2){let t=i.$implicit;n(),r("routerLink",g(2,b,t.id)),n(),_(" ",t.name," ")}}function Ii(e,i){if(e&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Casting By:"),a(),o(4,"td"),p(5,yi,4,4,"ng-container",8),a()(),m()),e&2){let t=s(3);n(5),r("ngForOf",t.castingCrew)}}function Oi(e,i){if(e&1&&(l(0),o(1,"h2"),c(2,"Featured Crew"),a(),o(3,"div",4)(4,"table",5)(5,"tbody"),p(6,At,6,1,"ng-container",1)(7,Ut,6,1,"ng-container",1)(8,Wt,6,1,"ng-container",1)(9,Qt,6,1,"ng-container",1)(10,qt,6,1,"ng-container",1)(11,Xt,6,1,"ng-container",1)(12,ei,6,1,"ng-container",1)(13,ni,8,2,"ng-container",1)(14,ai,8,2,"ng-container",1)(15,mi,8,2,"ng-container",1)(16,di,8,2,"ng-container",1)(17,gi,8,2,"ng-container",1)(18,fi,6,1,"ng-container",1)(19,hi,6,1,"ng-container",1)(20,Mi,8,2,"ng-container",1)(21,Ei,8,2,"ng-container",1)(22,Ii,6,1,"ng-container",1),a()()(),o(23,"div",6)(24,"a",7),c(25," See Full Crew "),a()(),m()),e&2){let t=s(2);n(6),r("ngIf",t.direction.length>0),n(),r("ngIf",t.coDirection.length>0),n(),r("ngIf",t.writing.length>0),n(),r("ngIf",t.story.length>0),n(),r("ngIf",t.basedOnWorkBy.length>0),n(),r("ngIf",t.basedOnCharactersBy.length>0),n(),r("ngIf",t.producing.length>0),n(),r("ngIf",t.executiveProducing.length>0),n(),r("ngIf",t.coProducing.length>0),n(),r("ngIf",t.directorsOfPhotography.length>0),n(),r("ngIf",t.productionDesigners.length>0),n(),r("ngIf",t.editors.length>0),n(),r("ngIf",t.musicComposers.length>0),n(),r("ngIf",t.additionalMusicComposers.length>0),n(),r("ngIf",t.visualEffectsSupervisors.length>0),n(),r("ngIf",t.costumeDesigners.length>0),n(),r("ngIf",t.castingCrew.length>0)}}function Ti(e,i){if(e&1&&(l(0),p(1,Vt,2,1,"ng-container",1)(2,Oi,26,17,"ng-container",1),m()),e&2){let t=s();n(),r("ngIf",t.movieCrewError),n(),r("ngIf",!t.movieCrewError)}}var be=class e{constructor(i,t){this.activatedRoute=i;this.movieService=t}id=0;movieCrew=[];direction=[];coDirection=[];writing=[];story=[];basedOnWorkBy=[];basedOnCharactersBy=[];producing=[];executiveProducing=[];coProducing=[];directorsOfPhotography=[];productionDesigners=[];editors=[];musicComposers=[];additionalMusicComposers=[];visualEffectsSupervisors=[];costumeDesigners=[];castingCrew=[];loadingCrew=!1;activatedRouteParentSubscription;crewFound=!1;movieCrewError=!1;errorMessage="";ngOnInit(){this.setId()}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(i=>{this.id=parseInt(i.id),this.getCrew()})}getCrew(){this.movieCrewError=!1,this.loadingCrew=!0,this.movieService.getMovieCrew(this.id).then(i=>{this.movieCrew=i,this.filterCrew()}).catch(i=>{this.handleError(i)}).finally(()=>{this.loadingCrew=!1})}handleError(i){this.movieCrewError=!0,this.errorMessage=i.message}reloadCrew(i){this.getCrew()}filterCrew(){this.direction=this.movieCrew.filter(i=>i.job=="Director"),this.coDirection=this.movieCrew.filter(i=>i.job=="Co-Director"),this.writing=this.movieCrew.filter(i=>i.job=="Screenplay"||i.job=="Writer"),this.story=this.movieCrew.filter(i=>i.job=="Story"),this.basedOnWorkBy=this.movieCrew.filter(i=>i.job=="Novel"),this.basedOnCharactersBy=this.movieCrew.filter(i=>i.job=="Characters"),this.producing=this.movieCrew.filter(i=>i.job=="Producer"),this.executiveProducing=this.movieCrew.filter(i=>i.job=="Executive Producer"),this.coProducing=this.movieCrew.filter(i=>i.job=="Co-Producer"),this.directorsOfPhotography=this.movieCrew.filter(i=>i.job=="Director of Photography"),this.productionDesigners=this.movieCrew.filter(i=>i.job=="Production Design"),this.editors=this.movieCrew.filter(i=>i.job=="Editor"),this.musicComposers=this.movieCrew.filter(i=>i.job=="Original Music Composer"),this.additionalMusicComposers=this.movieCrew.filter(i=>i.job=="Additional Music"),this.visualEffectsSupervisors=this.movieCrew.filter(i=>i.job=="Visual Effects Supervisor"),this.costumeDesigners=this.movieCrew.filter(i=>i.job=="Costume Design"),this.castingCrew=this.movieCrew.filter(i=>i.job=="Casting")}ngOnDestroy(){this.activatedRouteParentSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||e)(u(R),u(P))};static \u0275cmp=f({type:e,selectors:[["app-movie-crew"]],standalone:!1,decls:3,vars:2,consts:[[1,"movie-crew"],[4,"ngIf"],["message","Loading crew..."],[3,"reload","errorMessage"],[1,"table-responsive"],[1,"table"],[1,"d-grid"],["routerLink","../full-crew",1,"btn","btn-primary","mb-2"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"text-end"]],template:function(t,d){t&1&&(o(0,"section",0),p(1,$t,2,0,"ng-container",1)(2,Ti,3,2,"ng-container",1),a()),t&2&&(n(),r("ngIf",d.loadingCrew),n(),r("ngIf",!d.loadingCrew))},dependencies:[T,h,S,L,k],encapsulation:2})};var Fi=e=>["/person",e];function Pi(e,i){e&1&&(l(0),v(1,"app-loading-inline",2),m())}function Di(e,i){if(e&1){let t=O();l(0),o(1,"app-movie-error",3),M("reload",function(C){y(t);let E=s(2);return I(E.reloadFullCrew(C))}),a(),m()}if(e&2){let t=s(2);n(),r("errorMessage",t.errorMessage)}}function ki(e,i){if(e&1&&(o(0,"tr")(1,"td")(2,"a",17),c(3),a()(),o(4,"td"),c(5),a()()),e&2){let t=i.$implicit;n(2),r("routerLink",g(3,Fi,t.id)),n(),_(" ",t.name," "),n(2),w(t.job)}}function Ri(e,i){if(e&1){let t=O();l(0),o(1,"h2"),c(2,"Full Crew"),a(),o(3,"form",4)(4,"div",5)(5,"label",6),c(6,"Order by"),a(),o(7,"div",7)(8,"select",8),M("change",function(){y(t);let C=s(2);return I(C.changeCrewOrder())}),o(9,"option",9),c(10,"Select an order criteria"),a(),o(11,"option",10),c(12,"Name (ascending)"),a(),o(13,"option",11),c(14,"Name (descending)"),a(),o(15,"option",12),c(16,"Role (ascending)"),a(),o(17,"option",13),c(18,"Role (descending)"),a()()()()(),v(19,"hr"),o(20,"div",14)(21,"table",15)(22,"thead")(23,"tr")(24,"th"),c(25,"Name"),a(),o(26,"th"),c(27,"Role"),a()()(),o(28,"tbody"),p(29,ki,6,5,"tr",16),a()()(),m()}if(e&2){let t=s(2);n(3),r("formGroup",t.orderForm),n(26),r("ngForOf",t.movieFullCrew)}}function Ni(e,i){if(e&1&&(l(0),p(1,Di,2,1,"ng-container",1)(2,Ri,30,2,"ng-container",1),m()),e&2){let t=s();n(),r("ngIf",t.movieFullCrewError),n(),r("ngIf",!t.movieFullCrewError)}}var Me=class e{constructor(i,t,d){this.activatedRoute=i;this.movieService=t;this.fb=d}id=0;originalMovieFullCrew=[];movieFullCrew=[];loadingFullCrew=!1;activatedRouteParentSubscription;orderForm=new re({});fullCrewFound=!1;movieFullCrewError=!1;errorMessage="";ngOnInit(){this.setId(),this.orderForm=this.fb.group({orderCrew:new oe("0")})}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(i=>{this.id=parseInt(i.id),this.getFullCrew()})}getFullCrew(){this.movieFullCrewError=!1,this.loadingFullCrew=!0,this.movieService.getMovieCrew(this.id).then(i=>{this.originalMovieFullCrew=i,this.movieFullCrew=i}).catch(i=>{this.handleError(i)}).finally(()=>{this.loadingFullCrew=!1})}handleError(i){this.movieFullCrewError=!0,this.errorMessage=i.message}reloadFullCrew(i){this.getFullCrew()}changeCrewOrder(){switch(this.orderForm.value.orderCrew){case"1":{this.movieFullCrew.sort((i,t)=>i.name.localeCompare(t.name));break}case"2":{this.movieFullCrew.sort((i,t)=>t.name.localeCompare(i.name));break}case"3":{this.movieFullCrew.sort((i,t)=>i.job.localeCompare(t.job));break}case"4":{this.movieFullCrew.sort((i,t)=>t.job.localeCompare(i.job));break}}}ngOnDestroy(){this.activatedRouteParentSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||e)(u(R),u(P),u(de))};static \u0275cmp=f({type:e,selectors:[["app-movie-full-crew"]],standalone:!1,decls:3,vars:2,consts:[[1,"movie-full-crew"],[4,"ngIf"],["message","Loading full crew..."],[3,"reload","errorMessage"],[3,"formGroup"],[1,"row","align-items-center"],["for","orderCrew",1,"col-3"],[1,"col-9"],["formControlName","orderCrew","id","orderCrew","name","orderCrew",1,"form-control",3,"change"],["value","0","selected","","disabled",""],["value","1"],["value","2"],["value","3"],["value","4"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],["href","",3,"routerLink"]],template:function(t,d){t&1&&(o(0,"section",0),p(1,Pi,2,0,"ng-container",1)(2,Ni,3,2,"ng-container",1),a()),t&2&&(n(),r("ngIf",d.loadingFullCrew),n(),r("ngIf",!d.loadingFullCrew))},dependencies:[T,h,S,L,k,ae,se,pe,me,ie,ne,ce,le],encapsulation:2})};var we=class{id;cast;crew;constructor(){this.id=0,this.cast=[],this.crew=[]}};var Li=e=>["/person",e];function ji(e,i){e&1&&(l(0),o(1,"p"),c(2,"This movie has no recognizable cast"),a(),m())}function Bi(e,i){if(e&1&&(l(0),o(1,"a",6),c(2),a(),v(3,"br"),m()),e&2){let t=i.$implicit;n(),r("routerLink",g(2,Li,t.id)),n(),_(" ",t.name," ")}}function $i(e,i){if(e&1&&(l(0),o(1,"div",2)(2,"table",3)(3,"tbody")(4,"tr")(5,"td"),c(6,"Starring:"),a(),o(7,"td",4),p(8,Bi,4,4,"ng-container",5),a()()()()(),m()),e&2){let t=s();n(8),r("ngForOf",t.movieMainCast)}}var Se=class e{movieCast=[];movieMainCast=[];ngOnInit(){this.setMainCast()}setMainCast(){this.movieMainCast=this.movieCast.slice(0,7)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["app-movie-overview-main-cast"]],inputs:{movieCast:"movieCast"},standalone:!1,decls:5,vars:2,consts:[[1,"movie-overview-main-cast"],[4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,"text-end"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(t,d){t&1&&(o(0,"section",0)(1,"h3"),c(2,"Main Cast"),a(),p(3,ji,3,0,"ng-container",1)(4,$i,9,1,"ng-container",1),a()),t&2&&(n(3),r("ngIf",d.movieMainCast.length==0),n(),r("ngIf",d.movieMainCast.length>0))},dependencies:[T,h,S],styles:[".movie-overview-main-cast[_ngcontent-%COMP%]{margin-bottom:1rem}"]})};var A=e=>["/person",e];function Hi(e,i){e&1&&(l(0),o(1,"p"),c(2,"This movie has no recognizable crew"),a(),m())}function Ai(e,i){if(e&1&&(l(0),o(1,"a",6),c(2),a(),v(3,"br"),m()),e&2){let t=i.$implicit;n(),r("routerLink",g(2,A,t.id)),n(),_(" ",t.name," ")}}function zi(e,i){if(e&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Directed By:"),a(),o(4,"td",4),p(5,Ai,4,4,"ng-container",5),a()(),m()),e&2){let t=s(2);n(5),r("ngForOf",t.direction)}}function Ui(e,i){if(e&1&&(l(0),o(1,"a",6),c(2),a(),v(3,"br"),m()),e&2){let t=i.$implicit;n(),r("routerLink",g(2,A,t.id)),n(),_(" ",t.name," ")}}function Gi(e,i){if(e&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Co-Directed By:"),a(),o(4,"td",4),p(5,Ui,4,4,"ng-container",5),a()(),m()),e&2){let t=s(2);n(5),r("ngForOf",t.coDirection)}}function Wi(e,i){if(e&1&&(l(0),o(1,"a",6),c(2),a(),v(3,"br"),m()),e&2){let t=i.$implicit;n(),r("routerLink",g(2,A,t.id)),n(),_(" ",t.name," ")}}function Ki(e,i){if(e&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Screenplay By:"),a(),o(4,"td",4),p(5,Wi,4,4,"ng-container",5),a()(),m()),e&2){let t=s(2);n(5),r("ngForOf",t.writing)}}function Qi(e,i){if(e&1&&(l(0),o(1,"a",6),c(2),a(),v(3,"br"),m()),e&2){let t=i.$implicit;n(),r("routerLink",g(2,A,t.id)),n(),_(" ",t.name," ")}}function Yi(e,i){if(e&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Story By:"),a(),o(4,"td",4),p(5,Qi,4,4,"ng-container",5),a()(),m()),e&2){let t=s(2);n(5),r("ngForOf",t.story)}}function qi(e,i){if(e&1&&(l(0),o(1,"a",6),c(2),a(),v(3,"br"),m()),e&2){let t=i.$implicit;n(),r("routerLink",g(2,A,t.id)),n(),_(" ",t.name," ")}}function Ji(e,i){if(e&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Based on Work By:"),a(),o(4,"td",4),p(5,qi,4,4,"ng-container",5),a()(),m()),e&2){let t=s(2);n(5),r("ngForOf",t.basedOnWorkBy)}}function Xi(e,i){if(e&1&&(l(0),o(1,"a",6),c(2),a(),v(3,"br"),m()),e&2){let t=i.$implicit;n(),r("routerLink",g(2,A,t.id)),n(),_(" ",t.name," ")}}function Zi(e,i){if(e&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Based on Characters Created By:"),a(),o(4,"td",4),p(5,Xi,4,4,"ng-container",5),a()(),m()),e&2){let t=s(2);n(5),r("ngForOf",t.basedOnCharactersBy)}}function en(e,i){if(e&1&&(l(0),o(1,"a",6),c(2),a(),v(3,"br"),m()),e&2){let t=i.$implicit;n(),r("routerLink",g(2,A,t.id)),n(),_(" ",t.name," ")}}function tn(e,i){if(e&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Produced By:"),a(),o(4,"td",4),p(5,en,4,4,"ng-container",5),a()(),m()),e&2){let t=s(2);n(5),r("ngForOf",t.producing)}}function nn(e,i){e&1&&(l(0),c(1,"s"),m())}function rn(e,i){if(e&1&&(l(0),o(1,"a",6),c(2),a(),v(3,"br"),m()),e&2){let t=i.$implicit;n(),r("routerLink",g(2,A,t.id)),n(),_(" ",t.name," ")}}function on(e,i){if(e&1&&(l(0),o(1,"tr")(2,"td"),c(3," Executive Producer"),p(4,nn,2,0,"ng-container",1),c(5,": "),a(),o(6,"td",4),p(7,rn,4,4,"ng-container",5),a()(),m()),e&2){let t=s(2);n(4),r("ngIf",t.executiveProducing.length>1),n(3),r("ngForOf",t.executiveProducing)}}function an(e,i){if(e&1&&(l(0),o(1,"div",2)(2,"table",3)(3,"tbody"),p(4,zi,6,1,"ng-container",1)(5,Gi,6,1,"ng-container",1)(6,Ki,6,1,"ng-container",1)(7,Yi,6,1,"ng-container",1)(8,Ji,6,1,"ng-container",1)(9,Zi,6,1,"ng-container",1)(10,tn,6,1,"ng-container",1)(11,on,8,2,"ng-container",1),a()()(),m()),e&2){let t=s();n(4),r("ngIf",t.direction.length>0),n(),r("ngIf",t.coDirection.length>0),n(),r("ngIf",t.writing.length>0),n(),r("ngIf",t.story.length>0),n(),r("ngIf",t.basedOnWorkBy.length>0),n(),r("ngIf",t.basedOnCharactersBy.length>0),n(),r("ngIf",t.producing.length>0),n(),r("ngIf",t.executiveProducing.length>0)}}var Ee=class e{movieCrew=[];direction=[];coDirection=[];writing=[];story=[];basedOnWorkBy=[];basedOnCharactersBy=[];producing=[];executiveProducing=[];ngOnInit(){this.filterMainCrew()}filterMainCrew(){this.movieCrew.length>0&&(this.direction=this.movieCrew.filter(i=>i.job=="Director"),this.coDirection=this.movieCrew.filter(i=>i.job=="Co-Director"),this.writing=this.movieCrew.filter(i=>i.job=="Screenplay"||i.job=="Writer"),this.story=this.movieCrew.filter(i=>i.job=="Story"),this.basedOnWorkBy=this.movieCrew.filter(i=>i.job=="Novel"),this.basedOnCharactersBy=this.movieCrew.filter(i=>i.job=="Characters"),this.producing=this.movieCrew.filter(i=>i.job=="Producer"),this.executiveProducing=this.movieCrew.filter(i=>i.job=="Executive Producer"))}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["app-movie-overview-main-crew"]],inputs:{movieCrew:"movieCrew"},standalone:!1,decls:5,vars:2,consts:[[1,"movie-overview-main-crew"],[4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,"text-end"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(t,d){t&1&&(o(0,"section",0)(1,"h3"),c(2,"Main Crew"),a(),p(3,Hi,3,0,"ng-container",1)(4,an,12,8,"ng-container",1),a()),t&2&&(n(3),r("ngIf",d.movieCrew.length==0),n(),r("ngIf",d.movieCrew.length>0))},dependencies:[T,h,S],styles:[".movie-overview-main-crew[_ngcontent-%COMP%]{margin-bottom:1rem}"]})};var ye=class{id;results;constructor(){this.id=0,this.results=[]}};var Ie=class e{constructor(i){this.sanitizer=i}transform(i){return this.sanitizer.bypassSecurityTrustResourceUrl(i)}static \u0275fac=function(t){return new(t||e)(u(Ue,16))};static \u0275pipe=Q({name:"safeUrl",type:e,pure:!0,standalone:!1})};function mn(e,i){e&1&&(l(0),v(1,"app-loading-inline",2),m())}function sn(e,i){if(e&1&&(l(0),o(1,"div",4)(2,"div",5),v(3,"iframe",6),H(4,"safeUrl"),a()(),m()),e&2){let t=s(3);n(3),r("src",q(4,1,t.movieTrailerUrl),Le)}}function pn(e,i){if(e&1&&(l(0),o(1,"section",3)(2,"h3"),c(3,"Trailer"),a(),p(4,sn,5,3,"ng-container",1),a(),m()),e&2){let t=s(2);n(4),r("ngIf",t.movieTrailerFound)}}function dn(e,i){if(e&1&&(l(0),o(1,"section",7)(2,"p"),c(3," Error showing trailer: "),o(4,"strong"),c(5),a()()(),m()),e&2){let t=s(3);n(5),w(t.movieTrailerErrorMessage)}}function vn(e,i){e&1&&(l(0),o(1,"section",8)(2,"h3"),c(3,"Trailer"),a(),v(4,"img",9),a(),m())}function _n(e,i){if(e&1&&(l(0),p(1,dn,6,1,"ng-container",1)(2,vn,5,0,"ng-container",1),m()),e&2){let t=s(2);n(),r("ngIf",t.movieTrailerError),n(),r("ngIf",!t.movieTrailerError||t.movieTrailerKey)}}function gn(e,i){if(e&1&&(l(0),p(1,pn,5,1,"ng-container",1)(2,_n,3,2,"ng-container",1),m()),e&2){let t=s();n(),r("ngIf",t.movieTrailerFound&&t.movieTrailerKey),n(),r("ngIf",!t.movieTrailerFound)}}var Oe=class e{constructor(i){this.movieService=i}movieId=0;movieTrailerUrl="";responseVideo=new ye;loadingTrailer=!1;movieTrailerFound=!1;movieTrailerError=!1;movieTrailerErrorMessage="";movieTrailerKey="";ngOnInit(){this.getVideo()}getVideo(){this.loadingTrailer=!0,this.movieService.getMovieVideos(this.movieId).then(i=>{this.responseVideo=i,this.setMovieTrailer()}).catch(i=>{this.handleTrailerError(i)}).finally(()=>{this.loadingTrailer=!1})}setMovieTrailer(){if(this.responseVideo.results.length==0)return;let i=this.responseVideo.results.filter(d=>d.type=="Trailer").slice(0,1)[0];if(i)this.movieTrailerFound=!0;else return;let t=i.key;this.movieTrailerKey=i.key?i.key:"",this.movieTrailerUrl=`${F.youtubeEmbedUrl}${t}`}handleTrailerError(i){this.movieTrailerError=!0,this.movieTrailerErrorMessage=i.message}static \u0275fac=function(t){return new(t||e)(u(P))};static \u0275cmp=f({type:e,selectors:[["app-movie-overview-trailer"]],inputs:{movieId:"movieId"},standalone:!1,decls:3,vars:2,consts:[[1,"movie-overview-trailer"],[4,"ngIf"],["message","Loading trailer..."],[1,"movie-trailer"],[1,"row"],[1,"col-12"],[3,"src"],[1,"error-trailer"],[1,"no-trailer-available"],["src","img/default-images/movie_trailer_not_available.png","alt","No trailer available",1,"img-fluid"]],template:function(t,d){t&1&&(o(0,"section",0),p(1,mn,2,0,"ng-container",1)(2,gn,3,2,"ng-container",1),a()),t&2&&(n(),r("ngIf",d.loadingTrailer),n(),r("ngIf",!d.loadingTrailer))},dependencies:[h,L,Ie],styles:[".movie-overview-trailer[_ngcontent-%COMP%]{margin-bottom:1rem}.movie-overview-trailer[_ngcontent-%COMP%]   .movie-trailer[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:inherit;height:350px}"]})};function fn(e,i){e&1&&(l(0),c(1,"s"),m())}function Cn(e,i){if(e&1&&(l(0),c(1),v(2,"br"),m()),e&2){let t=i.$implicit;n(),_(" ",t.name," ")}}function hn(e,i){if(e&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Genre"),p(4,fn,2,0,"ng-container",3),c(5,":"),a(),o(6,"td"),p(7,Cn,3,1,"ng-container",4),a()(),m()),e&2){let t=s();n(4),r("ngIf",t.movie.genres.length>1),n(3),r("ngForOf",t.movie.genres)}}function xn(e,i){e&1&&(l(0),c(1,"y"),m())}function bn(e,i){e&1&&(l(0),c(1,"ies"),m())}function Mn(e,i){if(e&1&&(l(0),c(1),v(2,"br"),m()),e&2){let t=i.$implicit;n(),_(" ",t.name," ")}}function wn(e,i){if(e&1&&(l(0),o(1,"tr")(2,"td"),c(3," Production Compan"),p(4,xn,2,0,"ng-container",3)(5,bn,2,0,"ng-container",3),c(6,": "),a(),o(7,"td"),p(8,Mn,3,1,"ng-container",4),a()(),m()),e&2){let t=s();n(4),r("ngIf",t.movie.production_companies.length==1),n(),r("ngIf",t.movie.production_companies.length>1),n(3),r("ngForOf",t.movie.production_companies)}}function Sn(e,i){e&1&&(l(0),c(1,"y"),m())}function En(e,i){e&1&&(l(0),c(1,"ies"),m())}function yn(e,i){if(e&1&&(l(0),c(1),v(2,"br"),m()),e&2){let t=i.$implicit;n(),_(" ",t.name," ")}}function In(e,i){if(e&1&&(l(0),o(1,"tr")(2,"td"),c(3," Production Countr"),p(4,Sn,2,0,"ng-container",3)(5,En,2,0,"ng-container",3),c(6,": "),a(),o(7,"td"),p(8,yn,3,1,"ng-container",4),a()(),m()),e&2){let t=s();n(4),r("ngIf",t.movie.production_countries.length==1),n(),r("ngIf",t.movie.production_countries.length>1),n(3),r("ngForOf",t.movie.production_countries)}}function On(e,i){if(e&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Runtime:"),a(),o(4,"td"),c(5),a()(),m()),e&2){let t=s();n(5),_("",t.movie.runtime," min")}}function Tn(e,i){if(e&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Budget:"),a(),o(4,"td"),c(5),H(6,"currency"),a()(),m()),e&2){let t=s();n(5),_("USD ",Re(6,1,t.movie.budget,"USD","symbol","1.0"))}}function Fn(e,i){if(e&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Box Office:"),a(),o(4,"td"),c(5),H(6,"currency"),a()(),m()),e&2){let t=s();n(5),_("USD ",Re(6,1,t.movie.revenue,"USD","symbol","1.0"))}}function Pn(e,i){if(e&1&&(l(0),o(1,"div",6)(2,"a",7),v(3,"fa-icon",8),c(4," View IMDB "),a()(),m()),e&2){let t=s(2);n(2),r("href",t.movieIMDB,z),n(),r("icon",t.imdbIcon)}}function Dn(e,i){if(e&1&&(l(0),o(1,"div",6)(2,"a",7),v(3,"fa-icon",8),c(4," View Homepage "),a()(),m()),e&2){let t=s(2);n(2),r("href",t.movieHomepage,z),n(),r("icon",t.globeIcon)}}function kn(e,i){if(e&1&&(l(0),o(1,"section",5),p(2,Pn,5,2,"ng-container",3)(3,Dn,5,2,"ng-container",3),a(),m()),e&2){let t=s();n(2),r("ngIf",t.movie.imdb_id),n(),r("ngIf",t.movie.homepage)}}var Te=class e{imdbIcon=it;globeIcon=Xe;movie=new j;movieReleaseDate=new Date;movieIMDB="";movieHomepage="";ngOnInit(){this.setReleaseDate(),this.setMovieIMDB(),this.setMovieHomepage()}setReleaseDate(){this.movie.release_date&&(this.movieReleaseDate=new Date(this.movie.release_date))}setMovieIMDB(){this.movie.imdb_id&&(this.movieIMDB=`${F.imdbMovieUrl}${this.movie.imdb_id}/`)}setMovieHomepage(){this.movie.homepage&&(this.movieHomepage=`${this.movie.homepage}`)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["app-movie-overview-infotable"]],inputs:{movie:"movie"},standalone:!1,decls:20,vars:11,consts:[[1,"movie-overview-infotable"],[1,"table","table-responsive"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"movie-external-links"],[1,"d-grid","mb-2"],["target","_blank",1,"btn","btn-primary",3,"href"],[3,"icon"]],template:function(t,d){t&1&&(o(0,"section",0)(1,"h3"),c(2,"Movie Info"),a(),o(3,"div",1)(4,"table",2)(5,"tbody"),p(6,hn,8,2,"ng-container",3)(7,wn,9,3,"ng-container",3)(8,In,9,3,"ng-container",3),l(9),o(10,"tr")(11,"td"),c(12,"Release Date:"),a(),o(13,"td"),c(14),H(15,"date"),a()(),m(),p(16,On,6,1,"ng-container",3)(17,Tn,7,6,"ng-container",3)(18,Fn,7,6,"ng-container",3),a()()(),p(19,kn,4,2,"ng-container",3),a()),t&2&&(n(6),r("ngIf",d.movie.genres.length>0),n(),r("ngIf",d.movie.production_companies.length>0),n(),r("ngIf",d.movie.production_countries.length>0),n(6),w(Ve(15,8,d.movieReleaseDate,"longDate")),n(2),r("ngIf",d.movie.runtime&&d.movie.runtime>0),n(),r("ngIf",d.movie.budget&&d.movie.budget>0),n(),r("ngIf",d.movie.revenue&&d.movie.revenue>0),n(),r("ngIf",d.movie.imdb_id||d.movie.homepage))},dependencies:[T,h,N,ze,Ae],styles:[".movie-overview-infotable[_ngcontent-%COMP%]{margin-bottom:1rem}"]})};var Nn=e=>["/movie",e,"cast"],Ln=e=>["/movie",e,"crew"],jn=e=>["/movie",e,"full-crew"];function Bn(e,i){e&1&&(l(0),v(1,"app-loading-fullscreen",2),m())}function $n(e,i){if(e&1){let t=O();l(0),o(1,"app-movie-error",3),M("reload",function(C){y(t);let E=s(2);return I(E.reloadMovieOverview(C))}),a(),m()}if(e&2){let t=s(2);n(),r("errorMessage",t.errorMessage)}}function Vn(e,i){if(e&1&&(l(0),o(1,"section",9)(2,"p"),c(3),a()(),m()),e&2){let t=s(3);n(3),w(t.movie.tagline)}}function Hn(e,i){if(e&1&&(l(0),o(1,"section",0)(2,"p"),c(3),a()(),v(4,"hr"),m()),e&2){let t=s(3);n(3),w(t.movie.overview)}}function An(e,i){e&1&&(l(0),v(1,"app-loading-inline",10),m())}function zn(e,i){if(e&1&&(l(0),o(1,"section",11)(2,"div",4)(3,"div",12),v(4,"app-movie-overview-main-cast",13),a(),o(5,"div",14)(6,"section",15),v(7,"app-movie-overview-main-crew",16),a()()(),o(8,"div",4)(9,"div",12)(10,"div",17)(11,"a",18),c(12," See Full Cast "),a()()(),o(13,"div",12)(14,"div",17)(15,"a",18),c(16," See Featured Crew "),a()()(),o(17,"div",12)(18,"div",17)(19,"a",18),c(20," See Full Crew "),a()()()()(),m()),e&2){let t=s(4);n(4),r("movieCast",t.credits.cast),n(3),r("movieCrew",t.credits.crew),n(4),r("routerLink",g(5,Nn,t.movie.id)),n(4),r("routerLink",g(7,Ln,t.movie.id)),n(4),r("routerLink",g(9,jn,t.movie.id))}}function Un(e,i){if(e&1&&(l(0),o(1,"section",19)(2,"p"),c(3,"Error showing credits: "),o(4,"strong"),c(5),a()()(),m()),e&2){let t=s(4);n(5),w(t.movieCreditsErrorMessage)}}function Gn(e,i){if(e&1&&(l(0),p(1,zn,21,11,"ng-container",1)(2,Un,6,1,"ng-container",1),v(3,"hr"),m()),e&2){let t=s(3);n(),r("ngIf",t.movieCreditsFound),n(),r("ngIf",!t.movieCreditsFound)}}function Wn(e,i){if(e&1&&(l(0),p(1,Vn,4,1,"ng-container",1)(2,Hn,5,1,"ng-container",1)(3,An,2,0,"ng-container",1)(4,Gn,4,2,"ng-container",1),o(5,"div",4)(6,"div",5),v(7,"app-movie-overview-trailer",6),a(),o(8,"div",5)(9,"section",7),v(10,"app-movie-overview-infotable",8),a()()(),m()),e&2){let t=s(2);n(),r("ngIf",t.movie.tagline),n(),r("ngIf",t.movie.overview),n(),r("ngIf",t.loadingCredits),n(),r("ngIf",!t.loadingCredits),n(3),r("movieId",t.id),n(3),r("movie",t.movie)}}function Kn(e,i){if(e&1&&(l(0),p(1,$n,2,1,"ng-container",1)(2,Wn,11,6,"ng-container",1),m()),e&2){let t=s();n(),r("ngIf",t.movieOverviewError),n(),r("ngIf",!t.movieOverviewError)}}var Fe=class e{constructor(i,t,d){this.activatedRoute=i;this.movieService=t;this.localStorageService=d}id=0;movie=new j;credits=new we;movieReleaseDate=new Date;movieIMDB="";movieHomepage="";loadingMovie=!1;movieFound=!1;movieOverviewError=!1;errorMessage="";loadingCredits=!1;movieCreditsFound=!1;movieCreditsError=!1;movieCreditsErrorMessage="";activatedRouteParentSubscription;ngOnInit(){this.setId()}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(i=>{this.id=parseInt(i.id),this.getMovie(),this.getCredits()})}getMovie(){this.movieOverviewError=!1,this.loadingMovie=!0;let i=this.localStorageService.getItem("movie");i?(this.movie=i,this.loadingMovie=!1):this.movieService.getMovie(this.id).then(t=>{this.movie=t,this.movieFound=!0}).catch(t=>{this.handleError(t)}).finally(()=>{this.loadingMovie=!1})}getCredits(){this.loadingCredits=!0,this.movieService.getMovieCredits(this.id).then(i=>{this.credits=i,this.movieCreditsFound=!0}).catch(i=>{this.handleCreditsError(i)}).finally(()=>{this.loadingCredits=!1})}handleError(i){this.movieOverviewError=!0,this.errorMessage=i.message}handleCreditsError(i){this.movieCreditsError=!0,this.movieCreditsErrorMessage=i.message}reloadMovieOverview(i){this.getMovie()}ngOnDestroy(){this.activatedRouteParentSubscription?.unsubscribe()}static \u0275fac=function(t){return new(t||e)(u(R),u(P),u(Z))};static \u0275cmp=f({type:e,selectors:[["app-movie-overview"]],standalone:!1,decls:3,vars:2,consts:[[1,"movie-overview"],[4,"ngIf"],["message","Loading movie..."],[3,"reload","errorMessage"],[1,"row"],[1,"col-12","col-lg-6"],[3,"movieId"],[1,"movie-info"],[3,"movie"],[1,"movie-tagline"],["message","Loading credits"],[1,"movie-main-credits"],[1,"col-12","col-lg-4"],[3,"movieCast"],[1,"col-12","col-lg-8"],[1,"movie-main-crew"],[3,"movieCrew"],[1,"d-grid","mb-2"],[1,"btn","btn-primary",3,"routerLink"],[1,"error-credits"]],template:function(t,d){t&1&&(o(0,"section",0),p(1,Bn,2,0,"ng-container",1)(2,Kn,3,2,"ng-container",1),a()),t&2&&(n(),r("ngIf",d.loadingMovie),n(),r("ngIf",!d.loadingMovie))},dependencies:[h,S,te,L,k,Se,Ee,Oe,Te],styles:[".movie-overview[_ngcontent-%COMP%]   .movie-tagline[_ngcontent-%COMP%]{font-style:italic;margin-bottom:1rem}.movie-overview[_ngcontent-%COMP%]   .movie-overview[_ngcontent-%COMP%]{margin-bottom:1rem}"]})};var Qn=[{path:":id",component:Ce,children:[{path:"overview",component:Fe,pathMatch:"full"},{path:"cast",component:he,pathMatch:"full"},{path:"crew",component:be,pathMatch:"full"},{path:"full-crew",component:Me,pathMatch:"full"},{path:"",redirectTo:"overview",pathMatch:"full"}]}],Pe=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=V({type:e});static \u0275inj=$({imports:[Ne.forChild(Qn),Ne]})};var De=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=V({type:e});static \u0275inj=$({imports:[U,ee]})};var ke=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=V({type:e});static \u0275inj=$({imports:[U]})};var ot=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=V({type:e});static \u0275inj=$({imports:[U,Pe,rt,De,nt,et,tt,ke,ee]})};export{ot as MovieModule};

import{a as ie,b as re,c as B,d as st,e as vt}from"./chunk-N3CMOJQU.js";import{$ as qe,$a as pt,A as m,B as l,Ba as at,Ca as ct,D as F,E as x,F as s,Fa as N,G as Ue,Ga as ne,H as We,Ha as oe,I as Ge,Ia as ae,Ja as ce,Ka as me,L as c,La as le,M,Ma as se,N as _,Na as pe,Oa as ve,P as g,Pa as de,Q as H,Qa as _e,R as Z,Ra as ge,S as Ye,Sa as mt,T as $e,Ta as lt,V as ee,X as T,Y as h,Z as Qe,a as A,b as z,ba as Je,c as je,ca as W,d as Be,e as $,f as Ae,fa as Ke,g as I,h as O,ja as Xe,ka as k,l as U,la as Ze,m as ze,n,na as E,o as u,oa as et,p as C,pa as Ve,q as V,qa as tt,ra as P,s as K,t as p,ta as it,u as X,ua as te,va as nt,w as r,wa as rt,x as o,y as a,z as d,za as ot}from"./chunk-4GCZKY2K.js";var L=class{adult;backdrop_path;belongs_to_collection;budget;genres;homepage;id;imdb_id;origin_country;original_language;original_title;overview;popularity;poster_path;production_companies;production_countries;release_date;revenue;runtime;spoken_languages;status;tagline;title;video;vote_average;vote_count;constructor(){this.adult=!1,this.backdrop_path="",this.belongs_to_collection=!1,this.budget=0,this.genres=[],this.homepage="",this.id=0,this.imdb_id="",this.origin_country=[],this.original_language="",this.original_title="",this.overview="",this.popularity=0,this.poster_path="",this.production_companies=[],this.production_countries=[],this.release_date="",this.revenue=0,this.runtime=0,this.spoken_languages=[],this.status="",this.tagline="",this.title="",this.video=!1,this.vote_average=0,this.vote_count=0}};var y=class t{constructor(i){this.http=i}getMovie(i){return A(this,null,function*(){return yield z(this.http.get(`/movie/${i}`))})}getMovieCredits(i){return A(this,null,function*(){return yield z(this.http.get(`/movie/${i}/credits`))})}getMovieCast(i){return A(this,null,function*(){return yield z(this.http.get(`/movie/${i}/credits`).pipe(je(e=>e.cast)))})}getMovieCrew(i){return A(this,null,function*(){return yield z(this.http.get(`/movie/${i}/credits`).pipe(je(e=>e.crew)))})}getMovieVideos(i){return A(this,null,function*(){return yield z(this.http.get(`/movie/${i}/videos`))})}getFormattedMovieTitle(i,e,v){let f=i,J=new Date(v).getFullYear(),Le="";return f==e?Le=`${f}`:Le=`${e} (${f})`,`${Le} ${J?"(":""}${J||""}${J?")":""}`}static \u0275fac=function(e){return new(e||t)(Ae(Ke))};static \u0275prov=Be({token:t,factory:t.\u0275fac,providedIn:"root"})};var ue=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-movie-not-found"]],standalone:!1,decls:6,vars:0,consts:[[1,"movie-not-found"],[1,"movie-not-found-description"]],template:function(e,v){e&1&&(o(0,"section",0)(1,"div",1)(2,"h1"),c(3,"Movie Not Found"),a(),o(4,"p"),c(5,"No movie was found with this ID. Try another one :)"),a()()())},styles:[".movie-not-found[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}.movie-not-found[_ngcontent-%COMP%]   .movie-not-found-description[_ngcontent-%COMP%]{text-align:center;border:1px solid black;padding:1rem 2rem}"]})};var R=class t{repeat=te;errorMessage="";reload=new X;ngOnInit(){}pressReload(){this.reload.emit(!0)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-movie-error"]],inputs:{errorMessage:"errorMessage"},outputs:{reload:"reload"},standalone:!1,decls:10,vars:2,consts:[[1,"movie-error"],["type","button",1,"btn","btn-primary",3,"click"],[3,"icon"]],template:function(e,v){e&1&&(o(0,"section",0)(1,"h1"),c(2,"Movie Service Error"),a(),o(3,"p"),c(4,"There was an error getting info for the movie: "),o(5,"strong"),c(6),a()(),o(7,"button",1),x("click",function(){return v.pressReload()}),d(8,"fa-icon",2),c(9," Reload "),a()()),e&2&&(n(6),M(v.errorMessage),n(2),r("icon",v.repeat))},dependencies:[N],styles:[".movie-error[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};var Ce=class t{repeat=te;errorMessage="";reload=new X;ngOnInit(){}pressReload(){this.reload.emit(!0)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-movie-error-fullscreen"]],inputs:{errorMessage:"errorMessage"},outputs:{reload:"reload"},standalone:!1,decls:11,vars:2,consts:[[1,"movie-error-fullscreen"],[1,"movie-error-description"],["type","button",1,"btn","btn-primary",3,"click"],[3,"icon"]],template:function(e,v){e&1&&(o(0,"section",0)(1,"div",1)(2,"h1"),c(3,"Movie Service Error"),a(),o(4,"p"),c(5,"There was an error getting info for the movie: "),o(6,"strong"),c(7),a()(),o(8,"button",2),x("click",function(){return v.pressReload()}),d(9,"fa-icon",3),c(10," Reload "),a()()()),e&2&&(n(7),M(v.errorMessage),n(2),r("icon",v.repeat))},dependencies:[N],styles:[".movie-error-fullscreen[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}.movie-error-fullscreen[_ngcontent-%COMP%]   .movie-error-description[_ngcontent-%COMP%]{text-align:center;border:1px solid black;padding:1rem 2rem}.movie-error-fullscreen[_ngcontent-%COMP%]   .movie-error-description[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};var he=class t{transform(i){let e=Math.floor(i/60),v=i%60,f=e>0?`${e}h`:"",S=v>0?`${v}min`:"";return e==0&&v==0?"":e==0&&v>0?`${S}`:e>0&&v==0?`${f}`:`${f} ${S}`}static \u0275fac=function(e){return new(e||t)};static \u0275pipe=K({name:"runtime",type:t,pure:!0,standalone:!1})};var ft=t=>({"background-image":t});function Ct(t,i){if(t&1&&(m(0),c(1),l()),t&2){let e=s();n(),_(" ",e.movie.title," ")}}function ht(t,i){if(t&1&&(m(0),c(1),o(2,"small"),c(3),a(),l()),t&2){let e=s();n(),_(" ",e.movie.original_title," "),n(2),_("(",e.movie.title,")")}}function bt(t,i){if(t&1&&(m(0),d(1,"fa-icon",4),c(2),l()),t&2){let e=s();n(),r("icon",e.calendar)("fixedWidth",!0),n(),_(" ",e.year," ")}}function xt(t,i){t&1&&(m(0),c(1," No Release Date "),l())}function Mt(t,i){if(t&1&&(m(0),d(1,"fa-icon",4),c(2),H(3,"runtime"),l()),t&2){let e=s();n(),r("icon",e.clock)("fixedWidth",!0),n(),_(" ",Z(3,3,e.movie.runtime)," ")}}var be=class t{constructor(i){this.cd=i}film=ot;circleSeparator=nt;calendar=rt;clock=it;id=0;movie=new L;year=0;backdropImg="";ngOnInit(){this.setYear(),this.setBackdrop()}setYear(){let i=new Date(this.movie.release_date);this.year=i.getFullYear()}setBackdrop(){this.backdropImg=this.movie.backdrop_path?`${P.imgUrl}${P.backdropSize}${this.movie.backdrop_path}`:"img/default-images/movie_backdrop_notavailable_w1280.png"}static \u0275fac=function(e){return new(e||t)(u(ee))};static \u0275cmp=C({type:t,selectors:[["app-movie-header"]],inputs:{id:"id",movie:"movie"},standalone:!1,decls:13,vars:10,consts:[[1,"movie-header"],[1,"header-backdrop",3,"ngStyle"],[1,"header-movie-container"],[1,"header-movie-info"],[3,"icon","fixedWidth"],[4,"ngIf"]],template:function(e,v){e&1&&(o(0,"section",0)(1,"header"),d(2,"div",1),o(3,"div",2)(4,"div",3)(5,"h1"),d(6,"fa-icon",4),p(7,Ct,2,1,"ng-container",5)(8,ht,4,2,"ng-container",5),a(),o(9,"h2"),p(10,bt,3,3,"ng-container",5)(11,xt,2,0,"ng-container",5)(12,Mt,4,5,"ng-container",5),a()()()()()),e&2&&(n(2),r("ngStyle",g(8,ft,"url("+v.backdropImg+")")),n(4),r("icon",v.film)("fixedWidth",!0),n(),r("ngIf",v.movie.title==v.movie.original_title),n(),r("ngIf",v.movie.title!=v.movie.original_title),n(2),r("ngIf",v.year),n(),r("ngIf",!v.year),n(),r("ngIf",v.movie.runtime>0))},dependencies:[h,Qe,N,he],styles:[".movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{height:50vh;position:relative}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-backdrop[_ngcontent-%COMP%]{position:absolute;height:inherit;width:100%;background-size:cover}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]{position:absolute;height:inherit;width:100%;display:flex;flex-direction:column;justify-content:flex-end}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]   .header-movie-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end;background-color:#00000080}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]   .header-movie-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]   .header-movie-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:100%;color:#fff;margin:0}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]   .header-movie-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding:1rem 1rem 0rem}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]   .header-movie-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding:1rem}"]})};var yt=["movieHeader"];function It(t,i){t&1&&(m(0),d(1,"app-loading-fullscreen",3),l())}function Ot(t,i){t&1&&(m(0),d(1,"app-loading-fullscreen",4),l())}function Ft(t,i){t&1&&(m(0),d(1,"app-movie-not-found"),l())}function Tt(t,i){if(t&1){let e=F();m(0),o(1,"app-movie-error-fullscreen",5),x("reload",function(f){I(e);let S=s(4);return O(S.reloadMovie(f))}),a(),l()}if(t&2){let e=s(4);n(),r("errorMessage",e.errorMessage)}}function Pt(t,i){if(t&1&&(m(0),p(1,Ft,2,0,"ng-container",2)(2,Tt,2,1,"ng-container",2),l()),t&2){let e=s(3);n(),r("ngIf",e.movieNotFound),n(),r("ngIf",!e.movieNotFound)}}function Dt(t,i){if(t&1&&(m(0),d(1,"app-movie-error",6),l()),t&2){let e=s(4);n(),r("errorMessage",e.errorMessage)}}function Rt(t,i){if(t&1&&(m(0),o(1,"div",21)(2,"a",22),d(3,"fa-icon",23),c(4," Open Poster in New Tab "),a()(),l()),t&2){let e=s(5);n(2),r("href",e.posterSizeOriginal,U),n(),r("icon",e.imagePortrait)}}function kt(t,i){if(t&1&&(m(0),d(1,"app-movie-header",7,0),o(3,"main")(4,"nav",8)(5,"div",9)(6,"ul",10)(7,"li",11)(8,"a",12),c(9," Overview "),a()(),o(10,"li",11)(11,"a",13),c(12," Cast "),a()(),o(13,"li",11)(14,"a",14),c(15," Featured Crew "),a()(),o(16,"li",11)(17,"a",15),c(18," Full Crew "),a()()()()(),o(19,"div",9)(20,"div",16)(21,"div",17)(22,"aside",18),d(23,"img",19),p(24,Rt,5,2,"ng-container",2),a()(),o(25,"div",20),d(26,"router-outlet"),a()()()(),l()),t&2){let e=s(4);n(),r("id",e.id)("movie",e.movie),n(22),r("src",e.posterSizeSmall,U)("alt",e.altPosterText),n(),r("ngIf",e.movie.poster_path)}}function Nt(t,i){if(t&1&&(m(0),p(1,Dt,2,1,"ng-container",2)(2,kt,27,5,"ng-container",2),l()),t&2){let e=s(3);n(),r("ngIf",e.movie.id==0),n(),r("ngIf",e.movie.id!=0)}}function Lt(t,i){if(t&1&&(m(0),p(1,Pt,3,2,"ng-container",2)(2,Nt,3,2,"ng-container",2),l()),t&2){let e=s(2);n(),r("ngIf",e.movieError),n(),r("ngIf",!e.movieError)}}function jt(t,i){if(t&1&&(m(0),p(1,Ot,2,0,"ng-container",2)(2,Lt,3,2,"ng-container",2),l()),t&2){let e=s();n(),r("ngIf",e.loadingMovie),n(),r("ngIf",!e.loadingMovie)}}var xe=class t{constructor(i,e,v,f,S){this.activatedRoute=i;this.movieService=e;this.titleService=v;this.localStorageService=f;this.cd=S}imagePortrait=ct;id=0;movie=new L;formattedTitle="";altPosterText="";posterSizeSmall="";posterSizeOriginal="";loadingView=!0;loadingMovie=!1;movieNotFound=!1;movieError=!1;errorMessage="";routeSubscription;movieHeader;ngOnInit(){this.cd.detectChanges(),this.routeSubscription=this.activatedRoute.params.subscribe(i=>{this.id=parseInt(this.activatedRoute.snapshot.params.id),this.getMovie()})}ngAfterContentInit(){this.loadingView=!1,this.cd.detectChanges()}getMovie(){this.movieError=!1,this.loadingMovie=!0,this.movieService.getMovie(this.id).then(i=>{this.movie=i,this.localStorageService.setItem("movie",i),this.setTitle(),this.setMoviePoster()}).catch(i=>{this.handleError(i)}).finally(()=>{this.loadingMovie=!1})}handleError(i){this.movieError=!0,i.status&&i.status===404?(this.movieNotFound=!0,this.titleService.setTitle("Movie Not Found")):(this.errorMessage=i.message,this.titleService.setTitle("Movie Service Error"))}reloadMovie(i){this.getMovie()}setTitle(){this.formattedTitle=this.movieService.getFormattedMovieTitle(this.movie.title,this.movie.original_title,this.movie.release_date),this.titleService.setTitle(this.formattedTitle)}setMoviePoster(){this.posterSizeSmall=this.movie.poster_path?`${P.imgUrl}${P.posterSizeSmall}${this.movie.poster_path}`:"img/default-images/movie_poster_notavailable_w500.png",this.posterSizeOriginal=this.movie.poster_path?`${P.imgUrl}${P.posterSizeOriginal}${this.movie.poster_path}`:"",this.altPosterText=this.movie.poster_path?`Poster from the movie ${this.formattedTitle}`:`Poster from the movie ${this.formattedTitle} is not available`}ngOnDestroy(){this.routeSubscription&&this.routeSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||t)(u(k),u(y),u(tt),u(ie),u(ee))};static \u0275cmp=C({type:t,selectors:[["app-movie"]],viewQuery:function(e,v){if(e&1&&Ue(yt,5),e&2){let f;We(f=Ge())&&(v.movieHeader=f.first)}},standalone:!1,decls:3,vars:2,consts:[["movieHeader",""],[1,"movie"],[4,"ngIf"],["message","Loading view..."],["message","Loading movie..."],[3,"reload","errorMessage"],[3,"errorMessage"],[3,"id","movie"],[1,"navbar","navbar-dark","bg-dark","navbar-expand-sm"],[1,"container-fluid"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page","routerLink","overview","routerLinkActive","active",1,"nav-link"],["routerLink","cast","routerLinkActive","active",1,"nav-link"],["routerLink","crew","routerLinkActive","active",1,"nav-link"],["routerLink","full-crew","routerLinkActive","active",1,"nav-link"],[1,"row"],[1,"col-12","col-lg-2"],[1,"aside-1"],[1,"w-100",3,"src","alt"],[1,"col-12","col-lg-10"],[1,"d-grid"],["target","_blank",1,"btn","btn-outline-primary","btn-poster","mb-2",3,"href"],[3,"icon"]],template:function(e,v){e&1&&(o(0,"section",1),p(1,It,2,0,"ng-container",2)(2,jt,3,2,"ng-container",2),a()),e&2&&(n(),r("ngIf",v.loadingView),n(),r("ngIf",!v.loadingView))},dependencies:[h,Ze,E,et,re,ue,R,Ce,N,be],styles:[".movie[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   nav.navbar[_ngcontent-%COMP%]{margin-bottom:1rem;font-family:Oswald,Arial,sans-serif}.movie[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .aside-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:1rem}.movie[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .aside-1[_ngcontent-%COMP%]   .btn-poster[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};var Vt=t=>["/person",t];function Ht(t,i){t&1&&(m(0),d(1,"app-loading-inline",2),l())}function Bt(t,i){if(t&1){let e=F();m(0),o(1,"app-movie-error",3),x("reload",function(f){I(e);let S=s(2);return O(S.reloadCast(f))}),a(),l()}if(t&2){let e=s(2);n(),r("errorMessage",e.errorMessage)}}function At(t,i){if(t&1&&(o(0,"tr")(1,"td")(2,"a",20),c(3),a()(),o(4,"td"),c(5,"as"),a(),o(6,"td"),c(7),a()()),t&2){let e=i.$implicit;n(2),r("routerLink",g(3,Vt,e.id)),n(),_(" ",e.name," "),n(4),M(e.character)}}function zt(t,i){if(t&1){let e=F();m(0),o(1,"form",4)(2,"div",5)(3,"label",6),c(4,"Order by"),a(),o(5,"div",7)(6,"select",8),x("change",function(){I(e);let f=s(3);return O(f.changeCastOrder())}),o(7,"option",9),c(8,"Select an order criteria"),a(),o(9,"option",10),c(10,"Default Order (ascending)"),a(),o(11,"option",11),c(12,"Default Order (descending)"),a(),o(13,"option",12),c(14,"Name (ascending)"),a(),o(15,"option",13),c(16,"Name (descending)"),a(),o(17,"option",14),c(18,"Character (ascending)"),a(),o(19,"option",15),c(20,"Character (descending)"),a()()()()(),o(21,"div",16)(22,"table",17)(23,"thead")(24,"tr")(25,"th",18),c(26,"Actor"),a(),o(27,"th"),c(28,"Character"),a()()(),o(29,"tbody"),p(30,At,8,5,"tr",19),a()()(),l()}if(t&2){let e=s(3);n(),r("formGroup",e.orderCastForm),n(29),r("ngForOf",e.movieCast)}}function Ut(t,i){t&1&&(m(0),o(1,"p"),c(2,"This movie has no recognizable cast"),a(),l())}function Wt(t,i){if(t&1&&(m(0),o(1,"h2"),c(2,"Cast"),a(),p(3,zt,31,2,"ng-container",1)(4,Ut,3,0,"ng-container",1),l()),t&2){let e=s(2);n(3),r("ngIf",e.movieCast.length>0),n(),r("ngIf",e.movieCast.length==0)}}function Gt(t,i){if(t&1&&(m(0),p(1,Bt,2,1,"ng-container",1)(2,Wt,5,2,"ng-container",1),l()),t&2){let e=s();n(),r("ngIf",e.movieCastError),n(),r("ngIf",!e.movieCastError)}}var Me=class t{constructor(i,e,v){this.activatedRoute=i;this.movieService=e;this.fb=v}id=0;movieCast=[];loadingCast=!1;orderCastForm=new ce({});activatedRouteParentSubscription;castFound=!1;movieCastError=!1;errorMessage="";ngOnInit(){this.setId(),this.orderCastForm=this.fb.group({orderCast:new me("1")})}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(i=>{this.id=parseInt(i.id),this.getCast()})}getCast(){this.movieCastError=!1,this.loadingCast=!0,this.movieService.getMovieCast(this.id).then(i=>{this.movieCast=i,this.castFound=!0}).catch(i=>{this.handleError(i)}).finally(()=>{this.loadingCast=!1})}handleError(i){this.movieCastError=!0,this.errorMessage=i.message}reloadCast(i){this.getCast()}changeCastOrder(){switch(this.orderCastForm.value.orderCast){case"1":{this.movieCast.sort((i,e)=>i.order-e.order);break}case"2":{this.movieCast.sort((i,e)=>e.order-i.order);break}case"3":{this.movieCast.sort((i,e)=>i.name.localeCompare(e.name));break}case"4":{this.movieCast.sort((i,e)=>e.name.localeCompare(i.name));break}case"5":{this.movieCast.sort((i,e)=>i.character.localeCompare(e.character));break}case"6":{this.movieCast.sort((i,e)=>e.character.localeCompare(i.character));break}default:break}}ngOnDestroy(){this.activatedRouteParentSubscription?.unsubscribe()}static \u0275fac=function(e){return new(e||t)(u(k),u(y),u(ge))};static \u0275cmp=C({type:t,selectors:[["app-movie-cast"]],standalone:!1,decls:3,vars:2,consts:[[1,"movie-cast"],[4,"ngIf"],["message","Loading cast..."],[3,"reload","errorMessage"],[3,"formGroup"],[1,"row","align-items-center"],["for","orderCast",1,"col-3"],[1,"col-9"],["formControlName","orderCast","id","orderCast","name","orderCast",1,"form-control",3,"change"],["value","0","selected","","disabled",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],[1,"table-responsive"],[1,"table"],["colspan","2"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,v){e&1&&(o(0,"section",0),p(1,Ht,2,0,"ng-container",1)(2,Gt,3,2,"ng-container",1),a()),e&2&&(n(),r("ngIf",v.loadingCast),n(),r("ngIf",!v.loadingCast))},dependencies:[T,h,E,B,R,le,de,_e,ve,oe,ae,se,pe],encapsulation:2})};var w=t=>["/person",t];function Yt(t,i){t&1&&(m(0),d(1,"app-loading-inline",2),l())}function Qt(t,i){if(t&1){let e=F();m(0),o(1,"app-movie-error",3),x("reload",function(f){I(e);let S=s(2);return O(S.reloadCrew(f))}),a(),l()}if(t&2){let e=s(2);n(),r("errorMessage",e.errorMessage)}}function qt(t,i){if(t&1&&(m(0),o(1,"a",9),c(2),a(),d(3,"br"),l()),t&2){let e=i.$implicit;n(),r("routerLink",g(2,w,e.id)),n(),_(" ",e.name," ")}}function Jt(t,i){if(t&1&&(m(0),o(1,"tr")(2,"td"),c(3,"Directed By:"),a(),o(4,"td"),p(5,qt,4,4,"ng-container",8),a()(),l()),t&2){let e=s(3);n(5),r("ngForOf",e.direction)}}function Kt(t,i){if(t&1&&(m(0),o(1,"a",9),c(2),a(),d(3,"br"),l()),t&2){let e=i.$implicit;n(),r("routerLink",g(2,w,e.id)),n(),_(" ",e.name," ")}}function Xt(t,i){if(t&1&&(m(0),o(1,"tr")(2,"td"),c(3,"Screenplay By:"),a(),o(4,"td"),p(5,Kt,4,4,"ng-container",8),a()(),l()),t&2){let e=s(3);n(5),r("ngForOf",e.writing)}}function Zt(t,i){if(t&1&&(m(0),o(1,"a",9),c(2),a(),d(3,"br"),l()),t&2){let e=i.$implicit;n(),r("routerLink",g(2,w,e.id)),n(),_(" ",e.name," ")}}function ei(t,i){if(t&1&&(m(0),o(1,"tr")(2,"td"),c(3,"Story By:"),a(),o(4,"td"),p(5,Zt,4,4,"ng-container",8),a()(),l()),t&2){let e=s(3);n(5),r("ngForOf",e.story)}}function ti(t,i){if(t&1&&(m(0),o(1,"a",9),c(2),a(),d(3,"br"),l()),t&2){let e=i.$implicit;n(),r("routerLink",g(2,w,e.id)),n(),_(" ",e.name," ")}}function ii(t,i){if(t&1&&(m(0),o(1,"tr")(2,"td"),c(3,"Based on Work By:"),a(),o(4,"td"),p(5,ti,4,4,"ng-container",8),a()(),l()),t&2){let e=s(3);n(5),r("ngForOf",e.basedOnWorkBy)}}function ni(t,i){if(t&1&&(m(0),o(1,"a",9),c(2),a(),d(3,"br"),l()),t&2){let e=i.$implicit;n(),r("routerLink",g(2,w,e.id)),n(),_(" ",e.name," ")}}function ri(t,i){if(t&1&&(m(0),o(1,"tr")(2,"td"),c(3,"Produced By:"),a(),o(4,"td"),p(5,ni,4,4,"ng-container",8),a()(),l()),t&2){let e=s(3);n(5),r("ngForOf",e.producing)}}function oi(t,i){t&1&&(m(0),c(1,"s"),l())}function ai(t,i){if(t&1&&(m(0),o(1,"a",9),c(2),a(),d(3,"br"),l()),t&2){let e=i.$implicit;n(),r("routerLink",g(2,w,e.id)),n(),_(" ",e.name," ")}}function ci(t,i){if(t&1&&(m(0),o(1,"tr")(2,"td"),c(3," Executive Producer"),p(4,oi,2,0,"ng-container",1),c(5,": "),a(),o(6,"td"),p(7,ai,4,4,"ng-container",8),a()(),l()),t&2){let e=s(3);n(4),r("ngIf",e.executiveProducing.length>1),n(3),r("ngForOf",e.executiveProducing)}}function mi(t,i){t&1&&(m(0),c(1,"s"),l())}function li(t,i){if(t&1&&(m(0),o(1,"a",9),c(2),a(),d(3,"br"),l()),t&2){let e=i.$implicit;n(),r("routerLink",g(2,w,e.id)),n(),_(" ",e.name," ")}}function si(t,i){if(t&1&&(m(0),o(1,"tr")(2,"td"),c(3,"Co-Producer"),p(4,mi,2,0,"ng-container",1),c(5,":"),a(),o(6,"td"),p(7,li,4,4,"ng-container",8),a()(),l()),t&2){let e=s(3);n(4),r("ngIf",e.coProducing.length>1),n(3),r("ngForOf",e.coProducing)}}function pi(t,i){t&1&&(m(0),c(1,"s"),l())}function vi(t,i){if(t&1&&(m(0),o(1,"a",9),c(2),a(),d(3,"br"),l()),t&2){let e=i.$implicit;n(),r("routerLink",g(2,w,e.id)),n(),_(" ",e.name," ")}}function di(t,i){if(t&1&&(m(0),o(1,"tr")(2,"td"),c(3," Director"),p(4,pi,2,0,"ng-container",1),c(5," of Photography: "),a(),o(6,"td"),p(7,vi,4,4,"ng-container",8),a()(),l()),t&2){let e=s(3);n(4),r("ngIf",e.directorsOfPhotography.length>1),n(3),r("ngForOf",e.directorsOfPhotography)}}function _i(t,i){t&1&&(m(0),c(1,"s"),l())}function gi(t,i){if(t&1&&(m(0),o(1,"a",9),c(2),a(),d(3,"br"),l()),t&2){let e=i.$implicit;n(),r("routerLink",g(2,w,e.id)),n(),_(" ",e.name," ")}}function ui(t,i){if(t&1&&(m(0),o(1,"tr")(2,"td"),c(3," Production Designer"),p(4,_i,2,0,"ng-container",1),c(5,": "),a(),o(6,"td"),p(7,gi,4,4,"ng-container",8),a()(),l()),t&2){let e=s(3);n(4),r("ngIf",e.productionDesigners.length>1),n(3),r("ngForOf",e.productionDesigners)}}function fi(t,i){t&1&&(m(0),c(1,"s"),l())}function Ci(t,i){if(t&1&&(m(0),o(1,"a",9),c(2),a(),d(3,"br"),l()),t&2){let e=i.$implicit;n(),r("routerLink",g(2,w,e.id)),n(),_(" ",e.name," ")}}function hi(t,i){if(t&1&&(m(0),o(1,"tr")(2,"td"),c(3,"Editor"),p(4,fi,2,0,"ng-container",1),c(5,":"),a(),o(6,"td"),p(7,Ci,4,4,"ng-container",8),a()(),l()),t&2){let e=s(3);n(4),r("ngIf",e.editors.length>1),n(3),r("ngForOf",e.editors)}}function bi(t,i){if(t&1&&(m(0),o(1,"a",9),c(2),a(),d(3,"br"),l()),t&2){let e=i.$implicit;n(),r("routerLink",g(2,w,e.id)),n(),_(" ",e.name," ")}}function xi(t,i){if(t&1&&(m(0),o(1,"tr")(2,"td"),c(3,"Music By:"),a(),o(4,"td"),p(5,bi,4,4,"ng-container",8),a()(),l()),t&2){let e=s(3);n(5),r("ngForOf",e.musicComposers)}}function Mi(t,i){if(t&1&&(m(0),o(1,"a",9),c(2),a(),d(3,"br"),l()),t&2){let e=i.$implicit;n(),r("routerLink",g(2,w,e.id)),n(),_(" ",e.name," ")}}function wi(t,i){if(t&1&&(m(0),o(1,"tr")(2,"td"),c(3,"Additional Music By:"),a(),o(4,"td"),p(5,Mi,4,4,"ng-container",8),a()(),l()),t&2){let e=s(3);n(5),r("ngForOf",e.additionalMusicComposers)}}function Si(t,i){t&1&&(m(0),c(1,"s"),l())}function Ei(t,i){if(t&1&&(m(0),o(1,"a",9),c(2),a(),d(3,"br"),l()),t&2){let e=i.$implicit;n(),r("routerLink",g(2,w,e.id)),n(),_(" ",e.name," ")}}function yi(t,i){if(t&1&&(m(0),o(1,"tr")(2,"td"),c(3," Visual Effects Supervisor"),p(4,Si,2,0,"ng-container",1),c(5,": "),a(),o(6,"td"),p(7,Ei,4,4,"ng-container",8),a()(),l()),t&2){let e=s(3);n(4),r("ngIf",e.visualEffectsSupervisors.length>1),n(3),r("ngForOf",e.visualEffectsSupervisors)}}function Ii(t,i){t&1&&(m(0),c(1,"s"),l())}function Oi(t,i){if(t&1&&(m(0),o(1,"a",9),c(2),a(),d(3,"br"),l()),t&2){let e=i.$implicit;n(),r("routerLink",g(2,w,e.id)),n(),_(" ",e.name," ")}}function Fi(t,i){if(t&1&&(m(0),o(1,"tr")(2,"td"),c(3," Costume Designer"),p(4,Ii,2,0,"ng-container",1),c(5,": "),a(),o(6,"td"),p(7,Oi,4,4,"ng-container",8),a()(),l()),t&2){let e=s(3);n(4),r("ngIf",e.costumeDesigners.length>1),n(3),r("ngForOf",e.costumeDesigners)}}function Ti(t,i){if(t&1&&(m(0),o(1,"a",9),c(2),a(),d(3,"br"),l()),t&2){let e=i.$implicit;n(),r("routerLink",g(2,w,e.id)),n(),_(" ",e.name," ")}}function Pi(t,i){if(t&1&&(m(0),o(1,"tr")(2,"td"),c(3,"Casting By:"),a(),o(4,"td"),p(5,Ti,4,4,"ng-container",8),a()(),l()),t&2){let e=s(3);n(5),r("ngForOf",e.castingCrew)}}function Di(t,i){if(t&1&&(m(0),o(1,"h2"),c(2,"Featured Crew"),a(),o(3,"div",4)(4,"table",5)(5,"tbody"),p(6,Jt,6,1,"ng-container",1)(7,Xt,6,1,"ng-container",1)(8,ei,6,1,"ng-container",1)(9,ii,6,1,"ng-container",1)(10,ri,6,1,"ng-container",1)(11,ci,8,2,"ng-container",1)(12,si,8,2,"ng-container",1)(13,di,8,2,"ng-container",1)(14,ui,8,2,"ng-container",1)(15,hi,8,2,"ng-container",1)(16,xi,6,1,"ng-container",1)(17,wi,6,1,"ng-container",1)(18,yi,8,2,"ng-container",1)(19,Fi,8,2,"ng-container",1)(20,Pi,6,1,"ng-container",1),a()()(),o(21,"div",6)(22,"a",7),c(23," See Full Crew "),a()(),l()),t&2){let e=s(2);n(6),r("ngIf",e.direction.length>0),n(),r("ngIf",e.writing.length>0),n(),r("ngIf",e.story.length>0),n(),r("ngIf",e.basedOnWorkBy.length>0),n(),r("ngIf",e.producing.length>0),n(),r("ngIf",e.executiveProducing.length>0),n(),r("ngIf",e.coProducing.length>0),n(),r("ngIf",e.directorsOfPhotography.length>0),n(),r("ngIf",e.productionDesigners.length>0),n(),r("ngIf",e.editors.length>0),n(),r("ngIf",e.musicComposers.length>0),n(),r("ngIf",e.additionalMusicComposers.length>0),n(),r("ngIf",e.visualEffectsSupervisors.length>0),n(),r("ngIf",e.costumeDesigners.length>0),n(),r("ngIf",e.castingCrew.length>0)}}function Ri(t,i){if(t&1&&(m(0),p(1,Qt,2,1,"ng-container",1)(2,Di,24,15,"ng-container",1),l()),t&2){let e=s();n(),r("ngIf",e.movieCrewError),n(),r("ngIf",!e.movieCrewError)}}var we=class t{constructor(i,e){this.activatedRoute=i;this.movieService=e}id=0;movieCrew=[];direction=[];writing=[];story=[];basedOnWorkBy=[];producing=[];executiveProducing=[];coProducing=[];directorsOfPhotography=[];productionDesigners=[];editors=[];musicComposers=[];additionalMusicComposers=[];visualEffectsSupervisors=[];costumeDesigners=[];castingCrew=[];loadingCrew=!1;activatedRouteParentSubscription;crewFound=!1;movieCrewError=!1;errorMessage="";ngOnInit(){this.setId()}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(i=>{this.id=parseInt(i.id),this.getCrew()})}getCrew(){this.movieCrewError=!1,this.loadingCrew=!0,this.movieService.getMovieCrew(this.id).then(i=>{this.movieCrew=i,this.filterCrew()}).catch(i=>{this.handleError(i)}).finally(()=>{this.loadingCrew=!1})}handleError(i){this.movieCrewError=!0,this.errorMessage=i.message}reloadCrew(i){this.getCrew()}filterCrew(){this.direction=this.movieCrew.filter(i=>i.job=="Director"),this.writing=this.movieCrew.filter(i=>i.job=="Screenplay"||i.job=="Writer"),this.story=this.movieCrew.filter(i=>i.job=="Story"),this.basedOnWorkBy=this.movieCrew.filter(i=>i.job=="Novel"),this.producing=this.movieCrew.filter(i=>i.job=="Producer"),this.executiveProducing=this.movieCrew.filter(i=>i.job=="Executive Producer"),this.coProducing=this.movieCrew.filter(i=>i.job=="Co-Producer"),this.directorsOfPhotography=this.movieCrew.filter(i=>i.job=="Director of Photography"),this.productionDesigners=this.movieCrew.filter(i=>i.job=="Production Design"),this.editors=this.movieCrew.filter(i=>i.job=="Editor"),this.musicComposers=this.movieCrew.filter(i=>i.job=="Original Music Composer"),this.additionalMusicComposers=this.movieCrew.filter(i=>i.job=="Additional Music"),this.visualEffectsSupervisors=this.movieCrew.filter(i=>i.job=="Visual Effects Supervisor"),this.costumeDesigners=this.movieCrew.filter(i=>i.job=="Costume Design"),this.castingCrew=this.movieCrew.filter(i=>i.job=="Casting")}ngOnDestroy(){this.activatedRouteParentSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||t)(u(k),u(y))};static \u0275cmp=C({type:t,selectors:[["app-movie-crew"]],standalone:!1,decls:3,vars:2,consts:[[1,"movie-crew"],[4,"ngIf"],["message","Loading crew..."],[3,"reload","errorMessage"],[1,"table-responsive"],[1,"table"],[1,"d-grid"],["routerLink","../full-crew",1,"btn","btn-primary","mb-2"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,v){e&1&&(o(0,"section",0),p(1,Yt,2,0,"ng-container",1)(2,Ri,3,2,"ng-container",1),a()),e&2&&(n(),r("ngIf",v.loadingCrew),n(),r("ngIf",!v.loadingCrew))},dependencies:[T,h,E,B,R],encapsulation:2})};var ki=t=>["/person",t];function Ni(t,i){t&1&&(m(0),d(1,"app-loading-inline",2),l())}function Li(t,i){if(t&1){let e=F();m(0),o(1,"app-movie-error",3),x("reload",function(f){I(e);let S=s(2);return O(S.reloadFullCrew(f))}),a(),l()}if(t&2){let e=s(2);n(),r("errorMessage",e.errorMessage)}}function ji(t,i){if(t&1&&(o(0,"tr")(1,"td")(2,"a",17),c(3),a()(),o(4,"td"),c(5),a()()),t&2){let e=i.$implicit;n(2),r("routerLink",g(3,ki,e.id)),n(),_(" ",e.name," "),n(2),M(e.job)}}function $i(t,i){if(t&1){let e=F();m(0),o(1,"h2"),c(2,"Full Crew"),a(),o(3,"form",4)(4,"div",5)(5,"label",6),c(6,"Order by"),a(),o(7,"div",7)(8,"select",8),x("change",function(){I(e);let f=s(2);return O(f.changeCrewOrder())}),o(9,"option",9),c(10,"Select an order criteria"),a(),o(11,"option",10),c(12,"Name (ascending)"),a(),o(13,"option",11),c(14,"Name (descending)"),a(),o(15,"option",12),c(16,"Role (ascending)"),a(),o(17,"option",13),c(18,"Role (descending)"),a()()()()(),d(19,"hr"),o(20,"div",14)(21,"table",15)(22,"thead")(23,"tr")(24,"th"),c(25,"Name"),a(),o(26,"th"),c(27,"Role"),a()()(),o(28,"tbody"),p(29,ji,6,5,"tr",16),a()()(),l()}if(t&2){let e=s(2);n(3),r("formGroup",e.orderForm),n(26),r("ngForOf",e.movieFullCrew)}}function Vi(t,i){if(t&1&&(m(0),p(1,Li,2,1,"ng-container",1)(2,$i,30,2,"ng-container",1),l()),t&2){let e=s();n(),r("ngIf",e.movieFullCrewError),n(),r("ngIf",!e.movieFullCrewError)}}var Se=class t{constructor(i,e,v){this.activatedRoute=i;this.movieService=e;this.fb=v}id=0;originalMovieFullCrew=[];movieFullCrew=[];loadingFullCrew=!1;activatedRouteParentSubscription;orderForm=new ce({});fullCrewFound=!1;movieFullCrewError=!1;errorMessage="";ngOnInit(){this.setId(),this.orderForm=this.fb.group({orderCrew:new me("0")})}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(i=>{this.id=parseInt(i.id),this.getFullCrew()})}getFullCrew(){this.movieFullCrewError=!1,this.loadingFullCrew=!0,this.movieService.getMovieCrew(this.id).then(i=>{this.originalMovieFullCrew=i,this.movieFullCrew=i}).catch(i=>{this.handleError(i)}).finally(()=>{this.loadingFullCrew=!1})}handleError(i){this.movieFullCrewError=!0,this.errorMessage=i.message}reloadFullCrew(i){this.getFullCrew()}changeCrewOrder(){switch(this.orderForm.value.orderCrew){case"1":{this.movieFullCrew.sort((i,e)=>i.name.localeCompare(e.name));break}case"2":{this.movieFullCrew.sort((i,e)=>e.name.localeCompare(i.name));break}case"3":{this.movieFullCrew.sort((i,e)=>i.job.localeCompare(e.job));break}case"4":{this.movieFullCrew.sort((i,e)=>e.job.localeCompare(i.job));break}}}ngOnDestroy(){this.activatedRouteParentSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||t)(u(k),u(y),u(ge))};static \u0275cmp=C({type:t,selectors:[["app-movie-full-crew"]],standalone:!1,decls:3,vars:2,consts:[[1,"movie-full-crew"],[4,"ngIf"],["message","Loading full crew..."],[3,"reload","errorMessage"],[3,"formGroup"],[1,"row","align-items-center"],["for","orderCrew",1,"col-3"],[1,"col-9"],["formControlName","orderCrew","id","orderCrew","name","orderCrew",1,"form-control",3,"change"],["value","0","selected","","disabled",""],["value","1"],["value","2"],["value","3"],["value","4"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],["href","",3,"routerLink"]],template:function(e,v){e&1&&(o(0,"section",0),p(1,Ni,2,0,"ng-container",1)(2,Vi,3,2,"ng-container",1),a()),e&2&&(n(),r("ngIf",v.loadingFullCrew),n(),r("ngIf",!v.loadingFullCrew))},dependencies:[T,h,E,B,R,le,de,_e,ve,oe,ae,se,pe],encapsulation:2})};var Ee=class{id;cast;crew;constructor(){this.id=0,this.cast=[],this.crew=[]}};var Hi=t=>["/person",t];function Bi(t,i){t&1&&(m(0),o(1,"p"),c(2,"This movie has no recongizable cast"),a(),l())}function Ai(t,i){if(t&1&&(m(0),o(1,"a",6),c(2),a(),d(3,"br"),l()),t&2){let e=i.$implicit;n(),r("routerLink",g(2,Hi,e.id)),n(),_(" ",e.name," ")}}function zi(t,i){if(t&1&&(m(0),o(1,"div",2)(2,"table",3)(3,"tbody")(4,"tr")(5,"td"),c(6,"Starring:"),a(),o(7,"td",4),p(8,Ai,4,4,"ng-container",5),a()()()()(),l()),t&2){let e=s();n(8),r("ngForOf",e.movieMainCast)}}var ye=class t{movieCast=[];movieMainCast=[];ngOnInit(){this.setMainCast()}setMainCast(){this.movieMainCast=this.movieCast.slice(0,7)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-movie-overview-main-cast"]],inputs:{movieCast:"movieCast"},standalone:!1,decls:5,vars:2,consts:[[1,"movie-overview-main-cast"],[4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,"text-end"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,v){e&1&&(o(0,"section",0)(1,"h3"),c(2,"Main Cast"),a(),p(3,Bi,3,0,"ng-container",1)(4,zi,9,1,"ng-container",1),a()),e&2&&(n(3),r("ngIf",v.movieMainCast.length==0),n(),r("ngIf",v.movieMainCast.length>1))},dependencies:[T,h,E],styles:[".movie-overview-main-cast[_ngcontent-%COMP%]{margin-bottom:1rem}"]})};var Q=t=>["/person",t];function Wi(t,i){t&1&&(m(0),o(1,"p"),c(2,"This movie has no recognizable crew"),a(),l())}function Gi(t,i){if(t&1&&(m(0),o(1,"a",6),c(2),a(),d(3,"br"),l()),t&2){let e=i.$implicit;n(),r("routerLink",g(2,Q,e.id)),n(),_(" ",e.name," ")}}function Yi(t,i){if(t&1&&(m(0),o(1,"tr")(2,"td"),c(3,"Directed By:"),a(),o(4,"td",4),p(5,Gi,4,4,"ng-container",5),a()(),l()),t&2){let e=s(2);n(5),r("ngForOf",e.direction)}}function Qi(t,i){if(t&1&&(m(0),o(1,"a",6),c(2),a(),d(3,"br"),l()),t&2){let e=i.$implicit;n(),r("routerLink",g(2,Q,e.id)),n(),_(" ",e.name," ")}}function qi(t,i){if(t&1&&(m(0),o(1,"tr")(2,"td"),c(3,"Written By:"),a(),o(4,"td",4),p(5,Qi,4,4,"ng-container",5),a()(),l()),t&2){let e=s(2);n(5),r("ngForOf",e.writing)}}function Ji(t,i){if(t&1&&(m(0),o(1,"a",6),c(2),a(),d(3,"br"),l()),t&2){let e=i.$implicit;n(),r("routerLink",g(2,Q,e.id)),n(),_(" ",e.name," ")}}function Ki(t,i){if(t&1&&(m(0),o(1,"tr")(2,"td"),c(3,"Story By:"),a(),o(4,"td",4),p(5,Ji,4,4,"ng-container",5),a()(),l()),t&2){let e=s(2);n(5),r("ngForOf",e.story)}}function Xi(t,i){if(t&1&&(m(0),o(1,"a",6),c(2),a(),d(3,"br"),l()),t&2){let e=i.$implicit;n(),r("routerLink",g(2,Q,e.id)),n(),_(" ",e.name," ")}}function Zi(t,i){if(t&1&&(m(0),o(1,"tr")(2,"td"),c(3,"Based on the Work By:"),a(),o(4,"td",4),p(5,Xi,4,4,"ng-container",5),a()(),l()),t&2){let e=s(2);n(5),r("ngForOf",e.basedOnWorkBy)}}function en(t,i){if(t&1&&(m(0),o(1,"a",6),c(2),a(),d(3,"br"),l()),t&2){let e=i.$implicit;n(),r("routerLink",g(2,Q,e.id)),n(),_(" ",e.name," ")}}function tn(t,i){if(t&1&&(m(0),o(1,"tr")(2,"td"),c(3,"Produced By:"),a(),o(4,"td",4),p(5,en,4,4,"ng-container",5),a()(),l()),t&2){let e=s(2);n(5),r("ngForOf",e.producing)}}function nn(t,i){t&1&&(m(0),c(1,"s"),l())}function rn(t,i){if(t&1&&(m(0),o(1,"a",6),c(2),a(),d(3,"br"),l()),t&2){let e=i.$implicit;n(),r("routerLink",g(2,Q,e.id)),n(),_(" ",e.name," ")}}function on(t,i){if(t&1&&(m(0),o(1,"tr")(2,"td"),c(3," Executive Producer"),p(4,nn,2,0,"ng-container",1),c(5,": "),a(),o(6,"td",4),p(7,rn,4,4,"ng-container",5),a()(),l()),t&2){let e=s(2);n(4),r("ngIf",e.executiveProducing.length>1),n(3),r("ngForOf",e.executiveProducing)}}function an(t,i){if(t&1&&(m(0),o(1,"div",2)(2,"table",3)(3,"tbody"),p(4,Yi,6,1,"ng-container",1)(5,qi,6,1,"ng-container",1)(6,Ki,6,1,"ng-container",1)(7,Zi,6,1,"ng-container",1)(8,tn,6,1,"ng-container",1)(9,on,8,2,"ng-container",1),a()()(),l()),t&2){let e=s();n(4),r("ngIf",e.direction.length>0),n(),r("ngIf",e.writing.length>0),n(),r("ngIf",e.story.length>0),n(),r("ngIf",e.basedOnWorkBy.length>0),n(),r("ngIf",e.producing.length>0),n(),r("ngIf",e.executiveProducing.length>0)}}var Ie=class t{movieCrew=[];direction=[];writing=[];story=[];basedOnWorkBy=[];producing=[];executiveProducing=[];ngOnInit(){this.filterMainCrew()}filterMainCrew(){this.movieCrew.length>0&&(this.direction=this.movieCrew.filter(i=>i.job=="Director"),this.writing=this.movieCrew.filter(i=>i.job=="Screenplay"||i.job=="Writer"),this.story=this.movieCrew.filter(i=>i.job=="Story"),this.basedOnWorkBy=this.movieCrew.filter(i=>i.job=="Novel"),this.producing=this.movieCrew.filter(i=>i.job=="Producer"),this.executiveProducing=this.movieCrew.filter(i=>i.job=="Executive Producer"))}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-movie-overview-main-crew"]],inputs:{movieCrew:"movieCrew"},standalone:!1,decls:5,vars:2,consts:[[1,"movie-overview-main-crew"],[4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,"text-end"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,v){e&1&&(o(0,"section",0)(1,"h3"),c(2,"Main Crew"),a(),p(3,Wi,3,0,"ng-container",1)(4,an,10,6,"ng-container",1),a()),e&2&&(n(3),r("ngIf",v.movieCrew.length==0),n(),r("ngIf",v.movieCrew.length>0))},dependencies:[T,h,E],styles:[".movie-overview-main-crew[_ngcontent-%COMP%]{margin-bottom:1rem}"]})};var Oe=class{id;results;constructor(){this.id=0,this.results=[]}};var Fe=class t{constructor(i){this.sanitizer=i}transform(i){return this.sanitizer.bypassSecurityTrustResourceUrl(i)}static \u0275fac=function(e){return new(e||t)(u(Xe,16))};static \u0275pipe=K({name:"safeUrl",type:t,pure:!0,standalone:!1})};function ln(t,i){if(t&1&&(m(0),o(1,"div",3)(2,"div",4),d(3,"iframe",5),H(4,"safeUrl"),a()(),l()),t&2){let e=s(3);n(3),r("src",Z(4,1,e.movieTrailerUrl),ze)}}function sn(t,i){if(t&1&&(m(0),o(1,"section",2)(2,"h3"),c(3,"Trailer"),a(),p(4,ln,5,3,"ng-container",1),a(),l()),t&2){let e=s(2);n(4),r("ngIf",e.movieTrailerFound)}}function pn(t,i){if(t&1&&(m(0),o(1,"section",6)(2,"p"),c(3," Error showing trailer: "),o(4,"strong"),c(5),a()()(),l()),t&2){let e=s(3);n(5),M(e.movieTrailerErrorMessage)}}function vn(t,i){t&1&&(m(0),o(1,"section",7)(2,"h3"),c(3,"Trailer"),a(),d(4,"img",8),a(),l())}function dn(t,i){if(t&1&&(m(0),p(1,pn,6,1,"ng-container",1)(2,vn,5,0,"ng-container",1),l()),t&2){let e=s(2);n(),r("ngIf",e.movieTrailerError),n(),r("ngIf",!e.movieTrailerError)}}function _n(t,i){if(t&1&&(m(0),p(1,sn,5,1,"ng-container",1)(2,dn,3,2,"ng-container",1),l()),t&2){let e=s();n(),r("ngIf",e.movieTrailerFound),n(),r("ngIf",!e.movieTrailerFound)}}var Te=class t{constructor(i){this.movieService=i}movieId=0;movieTrailerUrl="";responseVideo=new Oe;loadingTrailer=!1;movieTrailerFound=!1;movieTrailerError=!1;movieTrailerErrorMessage="";ngOnInit(){this.getVideo()}getVideo(){this.loadingTrailer=!0,this.movieService.getMovieVideos(this.movieId).then(i=>{this.responseVideo=i,this.setMovieTrailer()}).catch(i=>{this.handleTrailerError(i)}).finally(()=>{this.loadingTrailer=!1})}setMovieTrailer(){if(this.responseVideo.results.length>0)this.movieTrailerFound=!0;else return;let e=this.responseVideo.results.filter(v=>v.type=="Trailer").slice(0,1)[0].key;this.movieTrailerUrl=`${P.youtubeEmbedUrl}${e}`}handleTrailerError(i){this.movieTrailerError=!0,this.movieTrailerErrorMessage=i.message}static \u0275fac=function(e){return new(e||t)(u(y))};static \u0275cmp=C({type:t,selectors:[["app-movie-overview-trailer"]],inputs:{movieId:"movieId"},standalone:!1,decls:2,vars:1,consts:[[1,"movie-overview-trailer"],[4,"ngIf"],[1,"movie-trailer"],[1,"row"],[1,"col-12"],[3,"src"],[1,"error-trailer"],[1,"no-trailer-available"],["src","img/default-images/movie_trailer_not_available.png","alt","No trailer available",1,"img-fluid"]],template:function(e,v){e&1&&(o(0,"section",0),p(1,_n,3,2,"ng-container",1),a()),e&2&&(n(),r("ngIf",!v.loadingTrailer))},dependencies:[h,Fe],styles:[".movie-overview-trailer[_ngcontent-%COMP%]{margin-bottom:1rem}.movie-overview-trailer[_ngcontent-%COMP%]   .movie-trailer[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:inherit;height:350px}"]})};function un(t,i){t&1&&(m(0),c(1,"s"),l())}function fn(t,i){if(t&1&&(m(0),c(1),d(2,"br"),l()),t&2){let e=i.$implicit;n(),_(" ",e.name," ")}}function Cn(t,i){if(t&1&&(m(0),o(1,"tr")(2,"td"),c(3,"Genre"),p(4,un,2,0,"ng-container",3),c(5,":"),a(),o(6,"td"),p(7,fn,3,1,"ng-container",4),a()(),l()),t&2){let e=s();n(4),r("ngIf",e.movie.genres.length>1),n(3),r("ngForOf",e.movie.genres)}}function hn(t,i){t&1&&(m(0),c(1,"y"),l())}function bn(t,i){t&1&&(m(0),c(1,"ies"),l())}function xn(t,i){if(t&1&&(m(0),c(1),d(2,"br"),l()),t&2){let e=i.$implicit;n(),_(" ",e.name," ")}}function Mn(t,i){if(t&1&&(m(0),o(1,"tr")(2,"td"),c(3," Production Compan"),p(4,hn,2,0,"ng-container",3)(5,bn,2,0,"ng-container",3),c(6,": "),a(),o(7,"td"),p(8,xn,3,1,"ng-container",4),a()(),l()),t&2){let e=s();n(4),r("ngIf",e.movie.production_companies.length==1),n(),r("ngIf",e.movie.production_companies.length>1),n(3),r("ngForOf",e.movie.production_companies)}}function wn(t,i){t&1&&(m(0),c(1,"y"),l())}function Sn(t,i){t&1&&(m(0),c(1,"ies"),l())}function En(t,i){if(t&1&&(m(0),c(1),d(2,"br"),l()),t&2){let e=i.$implicit;n(),_(" ",e.name," ")}}function yn(t,i){if(t&1&&(m(0),o(1,"tr")(2,"td"),c(3," Production Countr"),p(4,wn,2,0,"ng-container",3)(5,Sn,2,0,"ng-container",3),c(6,": "),a(),o(7,"td"),p(8,En,3,1,"ng-container",4),a()(),l()),t&2){let e=s();n(4),r("ngIf",e.movie.production_countries.length==1),n(),r("ngIf",e.movie.production_countries.length>1),n(3),r("ngForOf",e.movie.production_countries)}}function In(t,i){if(t&1&&(m(0),o(1,"tr")(2,"td"),c(3,"Runtime:"),a(),o(4,"td"),c(5),a()(),l()),t&2){let e=s();n(5),_("",e.movie.runtime," min")}}function On(t,i){if(t&1&&(m(0),o(1,"tr")(2,"td"),c(3,"Budget:"),a(),o(4,"td"),c(5),H(6,"currency"),a()(),l()),t&2){let e=s();n(5),_("USD ",$e(6,1,e.movie.budget,"USD","symbol","1.0"))}}function Fn(t,i){if(t&1&&(m(0),o(1,"tr")(2,"td"),c(3,"Box Office:"),a(),o(4,"td"),c(5),H(6,"currency"),a()(),l()),t&2){let e=s();n(5),_("USD ",$e(6,1,e.movie.revenue,"USD","symbol","1.0"))}}function Tn(t,i){if(t&1&&(m(0),o(1,"div",6)(2,"a",7),d(3,"fa-icon",8),c(4," View IMDB "),a()(),l()),t&2){let e=s(2);n(2),r("href",e.movieIMDB,U),n(),r("icon",e.imdbIcon)}}function Pn(t,i){if(t&1&&(m(0),o(1,"div",6)(2,"a",7),d(3,"fa-icon",8),c(4," View Homepage "),a()(),l()),t&2){let e=s(2);n(2),r("href",e.movieHomepage,U),n(),r("icon",e.globeIcon)}}function Dn(t,i){if(t&1&&(m(0),o(1,"section",5),p(2,Tn,5,2,"ng-container",3)(3,Pn,5,2,"ng-container",3),a(),l()),t&2){let e=s();n(2),r("ngIf",e.movie.imdb_id),n(),r("ngIf",e.movie.homepage)}}var Pe=class t{imdbIcon=st;globeIcon=at;movie=new L;movieReleaseDate=new Date;movieIMDB="";movieHomepage="";ngOnInit(){this.setReleaseDate(),this.setMovieIMDB(),this.setMovieHomepage()}setReleaseDate(){this.movie.release_date&&(this.movieReleaseDate=new Date(this.movie.release_date))}setMovieIMDB(){this.movie.imdb_id&&(this.movieIMDB=`${P.imdbMovieUrl}${this.movie.imdb_id}/`)}setMovieHomepage(){this.movie.homepage&&(this.movieHomepage=`${this.movie.homepage}`)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-movie-overview-infotable"]],inputs:{movie:"movie"},standalone:!1,decls:20,vars:11,consts:[[1,"movie-overview-infotable"],[1,"table","table-responsive"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"movie-external-links"],[1,"d-grid","mb-2"],["target","_blank",1,"btn","btn-primary",3,"href"],[3,"icon"]],template:function(e,v){e&1&&(o(0,"section",0)(1,"h3"),c(2,"Movie Info"),a(),o(3,"div",1)(4,"table",2)(5,"tbody"),p(6,Cn,8,2,"ng-container",3)(7,Mn,9,3,"ng-container",3)(8,yn,9,3,"ng-container",3),m(9),o(10,"tr")(11,"td"),c(12,"Release Date:"),a(),o(13,"td"),c(14),H(15,"date"),a()(),l(),p(16,In,6,1,"ng-container",3)(17,On,7,6,"ng-container",3)(18,Fn,7,6,"ng-container",3),a()()(),p(19,Dn,4,2,"ng-container",3),a()),e&2&&(n(6),r("ngIf",v.movie.genres.length>0),n(),r("ngIf",v.movie.production_companies.length>0),n(),r("ngIf",v.movie.production_countries.length>0),n(6),M(Ye(15,8,v.movieReleaseDate,"longDate")),n(2),r("ngIf",v.movie.runtime&&v.movie.runtime>0),n(),r("ngIf",v.movie.budget&&v.movie.budget>0),n(),r("ngIf",v.movie.revenue&&v.movie.revenue>0),n(),r("ngIf",v.movie.imdb_id||v.movie.homepage))},dependencies:[T,h,N,Je,qe],styles:[".movie-overview-infotable[_ngcontent-%COMP%]{margin-bottom:1rem}"]})};var kn=t=>["/movie",t,"cast"],Nn=t=>["/movie",t,"crew"],Ln=t=>["/movie",t,"full-crew"];function jn(t,i){t&1&&(m(0),d(1,"app-loading-fullscreen",2),l())}function $n(t,i){if(t&1){let e=F();m(0),o(1,"app-movie-error",3),x("reload",function(f){I(e);let S=s(2);return O(S.reloadMovieOverview(f))}),a(),l()}if(t&2){let e=s(2);n(),r("errorMessage",e.errorMessage)}}function Vn(t,i){if(t&1&&(m(0),o(1,"section",9)(2,"p"),c(3),a()(),l()),t&2){let e=s(3);n(3),M(e.movie.tagline)}}function Hn(t,i){if(t&1&&(m(0),o(1,"section",0)(2,"p"),c(3),a()(),d(4,"hr"),l()),t&2){let e=s(3);n(3),M(e.movie.overview)}}function Bn(t,i){t&1&&(m(0),d(1,"app-loading-inline",10),l())}function An(t,i){if(t&1&&(m(0),o(1,"section",11)(2,"div",4)(3,"div",12),d(4,"app-movie-overview-main-cast",13),a(),o(5,"div",14)(6,"section",15),d(7,"app-movie-overview-main-crew",16),a()()(),o(8,"div",4)(9,"div",12)(10,"div",17)(11,"a",18),c(12," See Full Cast "),a()()(),o(13,"div",12)(14,"div",17)(15,"a",18),c(16," See Featured Crew "),a()()(),o(17,"div",12)(18,"div",17)(19,"a",18),c(20," See Full Crew "),a()()()()(),l()),t&2){let e=s(4);n(4),r("movieCast",e.credits.cast),n(3),r("movieCrew",e.credits.crew),n(4),r("routerLink",g(5,kn,e.movie.id)),n(4),r("routerLink",g(7,Nn,e.movie.id)),n(4),r("routerLink",g(9,Ln,e.movie.id))}}function zn(t,i){if(t&1&&(m(0),o(1,"section",19)(2,"p"),c(3,"Error showing credits: "),o(4,"strong"),c(5),a()()(),l()),t&2){let e=s(4);n(5),M(e.movieCreditsErrorMessage)}}function Un(t,i){if(t&1&&(m(0),p(1,An,21,11,"ng-container",1)(2,zn,6,1,"ng-container",1),d(3,"hr"),l()),t&2){let e=s(3);n(),r("ngIf",e.movieCreditsFound),n(),r("ngIf",!e.movieCreditsFound)}}function Wn(t,i){if(t&1&&(m(0),p(1,Vn,4,1,"ng-container",1)(2,Hn,5,1,"ng-container",1)(3,Bn,2,0,"ng-container",1)(4,Un,4,2,"ng-container",1),o(5,"div",4)(6,"div",5),d(7,"app-movie-overview-trailer",6),a(),o(8,"div",5)(9,"section",7),d(10,"app-movie-overview-infotable",8),a()()(),l()),t&2){let e=s(2);n(),r("ngIf",e.movie.tagline),n(),r("ngIf",e.movie.overview),n(),r("ngIf",e.loadingCredits),n(),r("ngIf",!e.loadingCredits),n(3),r("movieId",e.id),n(3),r("movie",e.movie)}}function Gn(t,i){if(t&1&&(m(0),p(1,$n,2,1,"ng-container",1)(2,Wn,11,6,"ng-container",1),l()),t&2){let e=s();n(),r("ngIf",e.movieOverviewError),n(),r("ngIf",!e.movieOverviewError)}}var De=class t{constructor(i,e,v){this.activatedRoute=i;this.movieService=e;this.localStorageService=v}id=0;movie=new L;credits=new Ee;movieReleaseDate=new Date;movieIMDB="";movieHomepage="";loadingMovie=!1;movieFound=!1;movieOverviewError=!1;errorMessage="";loadingCredits=!1;movieCreditsFound=!1;movieCreditsError=!1;movieCreditsErrorMessage="";activatedRouteParentSubscription;ngOnInit(){this.setId()}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(i=>{this.id=parseInt(i.id),this.getMovie(),this.getCredits()})}getMovie(){this.movieOverviewError=!1,this.loadingMovie=!0;let i=this.localStorageService.getItem("movie");i?(this.movie=i,this.loadingMovie=!1):this.movieService.getMovie(this.id).then(e=>{this.movie=e,this.movieFound=!0}).catch(e=>{this.handleError(e)}).finally(()=>{this.loadingMovie=!1})}getCredits(){this.loadingCredits=!0,this.movieService.getMovieCredits(this.id).then(i=>{this.credits=i,this.movieCreditsFound=!0}).catch(i=>{this.handleCreditsError(i)}).finally(()=>{this.loadingCredits=!1})}handleError(i){this.movieOverviewError=!0,this.errorMessage=i.message}handleCreditsError(i){this.movieCreditsError=!0,this.movieCreditsErrorMessage=i.message}reloadMovieOverview(i){this.getMovie()}ngOnDestroy(){this.activatedRouteParentSubscription?.unsubscribe()}static \u0275fac=function(e){return new(e||t)(u(k),u(y),u(ie))};static \u0275cmp=C({type:t,selectors:[["app-movie-overview"]],standalone:!1,decls:3,vars:2,consts:[[1,"movie-overview"],[4,"ngIf"],["message","Loading movie..."],[3,"reload","errorMessage"],[1,"row"],[1,"col-12","col-lg-6"],[3,"movieId"],[1,"movie-info"],[3,"movie"],[1,"movie-tagline"],["message","Loading credits"],[1,"movie-main-credits"],[1,"col-12","col-lg-4"],[3,"movieCast"],[1,"col-12","col-lg-8"],[1,"movie-main-crew"],[3,"movieCrew"],[1,"d-grid","mb-2"],[1,"btn","btn-primary",3,"routerLink"],[1,"error-credits"]],template:function(e,v){e&1&&(o(0,"section",0),p(1,jn,2,0,"ng-container",1)(2,Gn,3,2,"ng-container",1),a()),e&2&&(n(),r("ngIf",v.loadingMovie),n(),r("ngIf",!v.loadingMovie))},dependencies:[h,E,re,B,R,ye,Ie,Te,Pe],styles:[".movie-overview[_ngcontent-%COMP%]   .movie-tagline[_ngcontent-%COMP%]{font-style:italic;margin-bottom:1rem}.movie-overview[_ngcontent-%COMP%]   .movie-overview[_ngcontent-%COMP%]{margin-bottom:1rem}"]})};var Yn=[{path:":id",component:xe,children:[{path:"overview",component:De,pathMatch:"full"},{path:"cast",component:Me,pathMatch:"full"},{path:"crew",component:we,pathMatch:"full"},{path:"full-crew",component:Se,pathMatch:"full"},{path:"",redirectTo:"overview",pathMatch:"full"}]}],Re=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=V({type:t});static \u0275inj=$({imports:[Ve.forChild(Yn),Ve]})};var ke=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=V({type:t});static \u0275inj=$({imports:[W,ne]})};var Ne=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=V({type:t});static \u0275inj=$({imports:[W]})};var dt=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=V({type:t});static \u0275inj=$({imports:[W,Re,vt,ke,pt,mt,lt,Ne,ne]})};export{dt as MovieModule};

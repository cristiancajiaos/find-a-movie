import{a as O,b as Z,c as lt}from"./chunk-F46J6ZGM.js";import{a as de,b as me,c as ge,d as dt}from"./chunk-6PADXPTT.js";import{a as A,b as qe,c as pt}from"./chunk-6QJPHB5H.js";import{A as l,B as p,Ba as He,Ca as ze,D as R,Da as Ue,E as h,Ea as Qe,F as d,G,H,Ha as Ke,I as z,Ia as $,J as W,Ja as ce,L as c,La as Je,M as P,Ma as We,N as v,Na as Xe,O as je,Oa as Ze,Pa as et,Q as S,Qa as tt,Ra as it,S as k,Sa as rt,Ta as nt,U as L,Ua as ot,Va as at,W as X,Wa as st,X as Ve,Xa as ct,Z as j,_ as b,a as Te,b as Oe,ba as Ae,bb as le,d as ke,db as pe,e as K,ea as oe,f as Le,g as y,h as I,ha as $e,l as E,ma as V,n as r,na as Be,o as u,oa as ae,p as _,pa as T,q,qa as Ye,ra as U,sa as Ge,t as m,ta as x,u as J,w as o,x as s,xa as se,y as a,z as f}from"./chunk-OHTB3ODO.js";var B=class{adult;also_known_as;biography;birthday;deathday;gender;homepage;id;imdb_id;known_for_department;name;place_of_birth;popularity;profile_path;constructor(){this.adult=!1,this.also_known_as=[],this.biography="",this.birthday="",this.deathday="",this.gender=1,this.homepage=null,this.id=0,this.imdb_id="",this.known_for_department="",this.name="",this.place_of_birth="",this.popularity=0,this.profile_path=""}};var F=class t{constructor(i){this.http=i}getPerson(i){return Te(this,null,function*(){return yield Oe(this.http.get(`/person/${i}`))})}getCredits(i){return Te(this,null,function*(){return yield Oe(this.http.get(`/person/${i}/movie_credits`))})}static \u0275fac=function(e){return new(e||t)(Le($e))};static \u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})};var ue=class t{repeat=se;errorMessage="";reload=new J;ngOnInit(){}pressReload(){this.reload.emit(!0)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=_({type:t,selectors:[["app-person-error-fullscreen"]],inputs:{errorMessage:"errorMessage"},outputs:{reload:"reload"},standalone:!1,decls:11,vars:2,consts:[[1,"person-error-fullscreen"],[1,"person-error-description"],["type","button",1,"btn","btn-primary",3,"click"],[3,"icon"]],template:function(e,n){e&1&&(s(0,"section",0)(1,"div",1)(2,"h1"),c(3,"Person Service Error"),a(),s(4,"p"),c(5,"There was an error trying to get person info: "),s(6,"strong"),c(7),a()(),s(8,"button",2),h("click",function(){return n.pressReload()}),f(9,"fa-icon",3),c(10," Reload "),a()()()),e&2&&(r(7),P(n.errorMessage),r(2),o("icon",n.repeat))},dependencies:[$],styles:[".person-error-fullscreen[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}.person-error-fullscreen[_ngcontent-%COMP%]   .person-error-description[_ngcontent-%COMP%]{text-align:center;border:1px solid black;padding:1rem 2rem}.person-error-fullscreen[_ngcontent-%COMP%]   .person-error-description[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};var _e=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=_({type:t,selectors:[["app-person-not-found"]],standalone:!1,decls:6,vars:0,consts:[[1,"person-not-found"],[1,"person-not-found-description"]],template:function(e,n){e&1&&(s(0,"section",0)(1,"div",1)(2,"h1"),c(3,"Person Not Found"),a(),s(4,"p"),c(5,"No person was found with this ID. Try another one :)"),a()()())},styles:[".person-not-found[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}.person-not-found[_ngcontent-%COMP%]   .person-not-found-description[_ngcontent-%COMP%]{text-align:center;border:1px solid black;padding:1rem 2rem}"]})};function ht(t,i){if(t&1&&(l(0),c(1),p()),t&2){let e=d(2);r(),P(e.deathYear)}}function bt(t,i){if(t&1&&(l(0),c(1),m(2,ht,2,1,"ng-container",6),c(3,") "),p()),t&2){let e=d();r(),v(" (",e.birthYear," - "),r(),o("ngIf",e.person.deathday)}}var ve=class t{user=He;film=ze;id=0;person=new B;name="";birthYear=0;deathYear=0;knownFor="";profileImg="";profileImgAltText="";constructor(){}ngOnInit(){this.setName(),this.setBirthYear(),this.setDeathDay(),this.setKnownFor(),this.setProfileImg()}setName(){this.person.name&&(this.name=this.person.name)}setBirthYear(){if(this.person.birthday){let i=new Date(this.person.birthday);this.birthYear=i.getFullYear()}}setDeathDay(){if(this.person.deathday){let i=new Date(this.person.deathday);this.deathYear=i.getFullYear()}}setKnownFor(){this.person.known_for_department&&(this.knownFor=this.person.known_for_department)}setProfileImg(){this.profileImg=this.person.profile_path?`${x.imgUrl}${x.profileSizeSmall}${this.person.profile_path}`:"img/default-images/profile_image_notavailable_w185.png",this.profileImgAltText=this.person.profile_path?`Profile path for ${this.person.name}`:`Profile path for ${this.person.name} is not available`}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=_({type:t,selectors:[["app-person-header"]],inputs:{id:"id",person:"person"},standalone:!1,decls:14,vars:7,consts:[[1,"person-header"],[1,"row","align-items-lg-center"],[1,"col-12","col-lg-2"],[1,"person-header-profile-img",3,"src","alt"],[1,"col-12","col-lg-10"],[3,"icon"],[4,"ngIf"]],template:function(e,n){e&1&&(s(0,"section",0)(1,"header")(2,"div",1)(3,"div",2),f(4,"img",3),a(),s(5,"div",4)(6,"h1"),f(7,"fa-icon",5),c(8),s(9,"small"),m(10,bt,4,2,"ng-container",6),a()(),s(11,"h2"),f(12,"fa-icon",5),c(13),a()()()()()),e&2&&(r(4),o("src",n.profileImg,E)("alt",n.profileImgAltText),r(3),o("icon",n.user),r(),v(" ",n.name," "),r(2),o("ngIf",n.person.birthday||n.person.deathday),r(2),o("icon",n.film),r(),v(" Known for: ",n.knownFor))},dependencies:[b,$],styles:[".person-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{background-color:#ccc;padding:5rem 1rem 1rem}.person-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .person-header-profile-img[_ngcontent-%COMP%]{border:1px solid black;box-shadow:1px 1px 5px #000}@media screen and (max-width: 767px){.person-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .person-header-profile-img[_ngcontent-%COMP%]{margin-bottom:1rem}}"]})};var wt=["personHeader"];function St(t,i){t&1&&(l(0),f(1,"app-loading-fullscreen",3),p())}function xt(t,i){t&1&&(l(0),f(1,"app-loading-fullscreen",4),p())}function yt(t,i){t&1&&(l(0),f(1,"app-person-not-found"),p())}function It(t,i){if(t&1){let e=R();l(0),s(1,"app-person-error-fullscreen",5),h("reload",function(g){y(e);let C=d(4);return I(C.reloadPerson(g))}),a(),p()}if(t&2){let e=d(4);r(),o("errorMessage",e.errorMessage)}}function Mt(t,i){if(t&1&&(l(0),m(1,yt,2,0,"ng-container",2)(2,It,2,1,"ng-container",2),p()),t&2){let e=d(3);r(),o("ngIf",e.personNotFound),r(),o("ngIf",!e.personNotFound)}}function Et(t,i){if(t&1&&(l(0),f(1,"app-person-header",6,0),s(3,"main")(4,"nav",7)(5,"div",8)(6,"ul",9)(7,"li",10)(8,"a",11),c(9," Overview "),a()(),s(10,"li",10)(11,"a",12),c(12," Cast Credits "),a()(),s(13,"li",10)(14,"a",13),c(15," Crew Credits "),a()()()()(),s(16,"div",8)(17,"div",14)(18,"div",15),f(19,"router-outlet"),a()()()(),p()),t&2){let e=d(3);r(),o("id",e.id)("person",e.person)}}function Rt(t,i){if(t&1&&(l(0),m(1,Mt,3,2,"ng-container",2)(2,Et,20,2,"ng-container",2),p()),t&2){let e=d(2);r(),o("ngIf",e.personError),r(),o("ngIf",!e.personError)}}function Tt(t,i){if(t&1&&(l(0),m(1,xt,2,0,"ng-container",2)(2,Rt,3,2,"ng-container",2),p()),t&2){let e=d();r(),o("ngIf",e.loadingPerson),r(),o("ngIf",!e.loadingPerson)}}var Ce=class t{constructor(i,e,n,g,C){this.activatedRoute=i;this.titleService=e;this.personService=n;this.localStorageService=g;this.cd=C}id=0;person=new B;loadingView=!0;loadingPerson=!1;personNotFound=!1;personError=!1;errorMessage="";personBiography="";routeSubscription;personHeader;ngOnInit(){this.cd.detectChanges(),this.routeSubscription=this.activatedRoute.params.subscribe(i=>{this.id=parseInt(i.id),this.getPerson()})}ngAfterContentInit(){this.loadingView=!1,this.cd.detectChanges()}getPerson(){this.personError=!1,this.loadingPerson=!0,this.personService.getPerson(this.id).then(i=>{this.person=i,this.localStorageService.setItem("person",i),this.setPersonTitle(),this.setPersonBiography()}).catch(i=>{this.handleError(i)}).finally(()=>{this.loadingPerson=!1})}setPersonBiography(){this.personBiography=this.person.biography}handleError(i){this.personError=!0,i.status&&i.status===404?(this.personNotFound=!0,this.titleService.setTitle("Person Not Found")):(this.errorMessage=i.message,this.titleService.setTitle("PersonService Error"))}reloadPerson(i){this.getPerson()}setPersonTitle(){this.titleService.setTitle(this.person.name)}ngOnDestroy(){this.routeSubscription&&this.routeSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||t)(u(V),u(Ge),u(F),u(O),u(Ve))};static \u0275cmp=_({type:t,selectors:[["app-person"]],viewQuery:function(e,n){if(e&1&&G(wt,5),e&2){let g;H(g=z())&&(n.personHeader=g.first)}},standalone:!1,decls:3,vars:2,consts:[["personHeader",""],[1,"person"],[4,"ngIf"],["message","Loading view..."],["message","Loading person..."],[3,"reload","errorMessage"],[3,"id","person"],[1,"navbar","navbar-dark","bg-dark","navbar-expand-sm"],[1,"container-fluid"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page","routerLink","overview","routerLinkActive","active",1,"nav-link"],["routerLink","cast-credits","routerLinkActive","active",1,"nav-link"],["routerLink","crew-credits","routerLinkActive","active",1,"nav-link"],[1,"row"],[1,"col-12"]],template:function(e,n){e&1&&(s(0,"section",1),m(1,St,2,0,"ng-container",2)(2,Tt,3,2,"ng-container",2),a()),e&2&&(r(),o("ngIf",n.loadingView),r(),o("ngIf",!n.loadingView))},dependencies:[b,Be,T,Ye,qe,ue,_e,ve],styles:[".person[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   nav.navbar[_ngcontent-%COMP%]{margin-bottom:1rem;font-family:Oswald,Arial,sans-serif}"]})};var Y=class t{repeat=se;errorMessage="";reload=new J;ngOnInit(){}pressReload(){this.reload.emit(!0)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=_({type:t,selectors:[["app-person-error"]],inputs:{errorMessage:"errorMessage"},outputs:{reload:"reload"},standalone:!1,decls:9,vars:2,consts:[[1,"person-error"],["type","button",1,"btn","btn-primary",3,"click"],[3,"icon"]],template:function(e,n){e&1&&(s(0,"section",0)(1,"h1"),c(2,"Person Service Error"),a(),s(3,"p"),c(4," There was an error trying to get person info: "),s(5,"strong"),c(6),a()(),s(7,"button",1),h("click",function(){return n.pressReload()}),f(8,"fa-icon",2),a()()),e&2&&(r(6),P(n.errorMessage),r(2),o("icon",n.repeat))},dependencies:[$],styles:[".person-error[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};var Ot=t=>["/person",t,"cast-credits"],Dt=t=>["/person",t,"crew-credits"];function Ft(t,i){t&1&&(l(0),f(1,"app-loading-inline",2),p())}function Nt(t,i){if(t&1){let e=R();l(0),s(1,"app-person-error",3),h("reload",function(g){y(e);let C=d(2);return I(C.reloadOverview(g))}),a(),p()}if(t&2){let e=d(2);r(),o("errorMessage",e.errorMessage)}}function kt(t,i){if(t&1&&(l(0),s(1,"section",10)(2,"h2"),c(3,"Biography"),a(),s(4,"p"),c(5),a()(),s(6,"section",11)(7,"div",4)(8,"div",12)(9,"div",13)(10,"a",14),c(11," View Cast Credits "),a()()(),s(12,"div",12)(13,"div",13)(14,"a",14),c(15," View Crew Credits "),a()()()()(),p()),t&2){let e=d(3);r(5),P(e.personBiography),r(5),o("routerLink",S(3,Ot,e.id)),r(4),o("routerLink",S(5,Dt,e.id))}}function Lt(t,i){t&1&&(l(0),s(1,"section",15)(2,"p"),c(3,"No Biography Available"),a()(),p())}function jt(t,i){if(t&1&&(l(0),f(1,"br"),c(2),p()),t&2){let e=d(4);r(2),v(" in ",e.personPlaceBirth," ")}}function Vt(t,i){if(t&1&&(l(0),s(1,"tr")(2,"td"),c(3,"Born:"),a(),s(4,"td"),c(5),k(6,"date"),m(7,jt,3,1,"ng-container",1),a()(),p()),t&2){let e=d(3);r(5),v(" ",L(6,2,e.personBirthDay,"longDate")," "),r(2),o("ngIf",e.person.place_of_birth)}}function At(t,i){if(t&1&&(l(0),s(1,"tr")(2,"td"),c(3,"Died:"),a(),s(4,"td"),c(5),k(6,"date"),a()(),p()),t&2){let e=d(3);r(5),v(" ",L(6,1,e.personDeathDay,"longDate")," ")}}function $t(t,i){if(t&1&&(l(0),s(1,"tr")(2,"td"),c(3,"Gender:"),a(),s(4,"td"),c(5),a()(),p()),t&2){let e=d(3);r(5),v(" ",e.personGender," ")}}function Bt(t,i){if(t&1&&(l(0),s(1,"tr")(2,"td"),c(3,"Main occupation:"),a(),s(4,"td"),c(5),a()(),p()),t&2){let e=d(3);r(5),v(" ",e.personMainOccupation," ")}}function Yt(t,i){if(t&1&&(l(0),c(1),f(2,"br"),p()),t&2){let e=i.$implicit;r(),v(" ",e)}}function Gt(t,i){if(t&1&&(l(0),s(1,"tr")(2,"td"),c(3,"Also known as:"),a(),s(4,"td"),m(5,Yt,3,1,"ng-container",16),a()(),p()),t&2){let e=d(3);r(5),o("ngForOf",e.personAlsoKnownAs)}}function Ht(t,i){if(t&1&&(l(0),s(1,"div",17)(2,"a",18),f(3,"fa-icon",19),c(4," View IMDB "),a()(),p()),t&2){let e=d(3);r(2),o("href",e.personIMDBUrl,E),r(),o("icon",e.imdbIcon)}}function zt(t,i){if(t&1&&(l(0),s(1,"div",17)(2,"a",18),f(3,"fa-icon",19),c(4," View Homepage "),a()(),p()),t&2){let e=d(3);r(2),o("href",e.personHomepageUrl,E),r(),o("icon",e.globeIcon)}}function Ut(t,i){if(t&1&&(l(0),s(1,"div",4)(2,"div",5),m(3,kt,16,7,"ng-container",1)(4,Lt,4,0,"ng-container",1),a(),s(5,"div",6)(6,"section",7)(7,"h2"),c(8,"General Information"),a(),s(9,"div",8)(10,"table",9)(11,"tbody"),m(12,Vt,8,5,"ng-container",1)(13,At,7,4,"ng-container",1)(14,$t,6,1,"ng-container",1)(15,Bt,6,1,"ng-container",1)(16,Gt,6,1,"ng-container",1),a()()(),m(17,Ht,5,2,"ng-container",1)(18,zt,5,2,"ng-container",1),a()()(),p()),t&2){let e=d(2);r(3),o("ngIf",e.person.biography),r(),o("ngIf",e.person.biography.length===0),r(8),o("ngIf",e.person.birthday),r(),o("ngIf",e.person.deathday),r(),o("ngIf",e.person.gender),r(),o("ngIf",e.person.known_for_department),r(),o("ngIf",e.person.also_known_as.length>0),r(),o("ngIf",e.person.imdb_id),r(),o("ngIf",e.person.homepage)}}function Qt(t,i){if(t&1&&(l(0),m(1,Nt,2,1,"ng-container",1)(2,Ut,19,9,"ng-container",1),p()),t&2){let e=d();r(),o("ngIf",e.personOverviewError),r(),o("ngIf",!e.personOverviewError)}}var he=class t{constructor(i,e,n){this.activatedRoute=i;this.personService=e;this.localStorageService=n}imdbIcon=lt;globeIcon=Qe;id=0;person=new B;activatedRouteParentSubscription;loadingPerson=!1;personBiography="";personAlsoKnownAs=[];personBirthDay;personDeathDay;personPlaceBirth="";personGender="";personMainOccupation="";personIMDBUrl="";personHomepageUrl="";personFound=!1;personOverviewError=!1;errorMessage="";ngOnInit(){this.setId()}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(i=>{this.id=parseInt(i.id),this.getPerson()})}getPerson(){this.personOverviewError=!1,this.loadingPerson=!0;let i=this.localStorageService.getItem("person");i?(this.person=i,this.loadingPerson=!1,this.setPersonBiography(),this.setPersonInfotable()):this.personService.getPerson(this.id).then(e=>{this.person=e,this.personFound=!0,this.setPersonBiography(),this.setPersonInfotable()}).catch(e=>{this.handleError(e)}).finally(()=>{this.loadingPerson=!1})}handleError(i){this.personOverviewError=!0,this.errorMessage=i.message}reloadOverview(i){this.getPerson()}setPersonBiography(){this.person.biography.length!==0&&(this.personBiography=this.person.biography)}setPersonInfotable(){this.person.also_known_as.length>0&&(this.personAlsoKnownAs=this.person.also_known_as),this.person.birthday&&(this.personBirthDay=new Date(this.person.birthday)),this.person.place_of_birth&&(this.personPlaceBirth=this.person.place_of_birth),this.person.deathday&&(this.personDeathDay=new Date(this.person.deathday)),this.person.gender&&(this.personGender=this.person.gender==1?"Female":"Male"),this.person.known_for_department&&(this.personMainOccupation=this.person.known_for_department),this.person.imdb_id&&(this.personIMDBUrl=`${x.imdbPersonUrl}${this.person.imdb_id}`),this.person.homepage&&(this.personHomepageUrl=`${this.person.homepage}`)}ngOnDestroy(){this.activatedRouteParentSubscription&&this.activatedRouteParentSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||t)(u(V),u(F),u(O))};static \u0275cmp=_({type:t,selectors:[["app-person-overview"]],standalone:!1,decls:3,vars:2,consts:[[1,"person-overview"],[4,"ngIf"],["message","Loading person..."],[3,"reload","errorMessage"],[1,"row"],[1,"col-12","col-lg-8"],[1,"col-12","col-lg-4"],[1,"person-infotable"],[1,"table","table-responsive"],[1,"table"],[1,"person-biography"],[1,"person-links"],[1,"col-12","col-lg-6"],[1,"d-grid"],[1,"btn","btn-primary","mb-2",3,"routerLink"],[1,"no-person-biography-available"],[4,"ngFor","ngForOf"],[1,"d-grid","mb-2"],["target","_blank",1,"btn","btn-primary",3,"href"],[3,"icon"]],template:function(e,n){e&1&&(s(0,"section",0),m(1,Ft,2,0,"ng-container",1)(2,Qt,3,2,"ng-container",1),a()),e&2&&(r(),o("ngIf",n.loadingPerson),r(),o("ngIf",!n.loadingPerson))},dependencies:[j,b,T,Z,$,Y,Ae],styles:[".person-overview[_ngcontent-%COMP%]   .person-biography[_ngcontent-%COMP%]{margin-bottom:1rem}.person-overview[_ngcontent-%COMP%]   .no-person-biography-available[_ngcontent-%COMP%]{font-style:italic;margin-bottom:1rem}.person-overview[_ngcontent-%COMP%]   .person-links[_ngcontent-%COMP%], .person-overview[_ngcontent-%COMP%]   .person-infotable[_ngcontent-%COMP%]{margin-bottom:1rem}"]})};var ee=class{id;cast;crew;constructor(){this.id=0,this.cast=[],this.crew=[]}};function Kt(t,i){if(t&1&&(s(0,"option",7),c(1),a()),t&2){let e=i.$implicit;o("value",e.id),r(),v(" ",e.orderCriteriaName," ")}}var te=class t{constructor(i){this.fb=i}orderCriterias=[];orderForm=new Xe({});onOrderCriteriaChange=new J;ngOnInit(){this.orderForm=this.fb.group({order:new Ze(0)})}orderCriteriaChange(){let i=this.orderForm.controls.order.value;this.onOrderCriteriaChange.emit(i)}static \u0275fac=function(e){return new(e||t)(u(at))};static \u0275cmp=_({type:t,selectors:[["app-order-select"]],inputs:{orderCriterias:"orderCriterias"},outputs:{onOrderCriteriaChange:"onOrderCriteriaChange"},standalone:!1,decls:9,vars:2,consts:[[1,"order-select"],[3,"formGroup"],[1,"form-group"],["for","order"],["id","order","name","order","formControlName","order",1,"form-control",3,"change"],["value","0","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,n){e&1&&(s(0,"section",0)(1,"form",1)(2,"div",2)(3,"label",3),c(4,"Order by:"),a(),s(5,"select",4),h("change",function(){return n.orderCriteriaChange()}),s(6,"option",5),c(7,"Select an order criteria"),a(),m(8,Kt,2,2,"option",6),a()()()()),e&2&&(r(),o("formGroup",n.orderForm),r(7),o("ngForOf",n.orderCriterias))},dependencies:[j,et,nt,ot,rt,Je,We,tt,it],encapsulation:2})};var ie=class{adult;backdrop_path;genre_ids;id;original_language;original_title;overview;popularity;poster_path;release_date;title;video;vote_average;vote_count;character;credit_id;order;constructor(){this.adult=!1,this.backdrop_path="",this.genre_ids=[],this.id=0,this.original_language="",this.original_title="",this.overview="",this.popularity=0,this.poster_path="",this.release_date="",this.title="",this.video=!1,this.vote_average=0,this.vote_count=0,this.character="",this.credit_id="",this.order=0}};var Jt=t=>["/movie",t];function Wt(t,i){if(t&1&&(l(0),c(1),p()),t&2){let e=d();r(),v("as ",e.castRole.character)}}function Xt(t,i){t&1&&(l(0),c(1,"No Role Defined"),p())}function Zt(t,i){if(t&1&&c(0),t&2){let e=d();v(" ",e.formattedTitle," ")}}function ei(t,i){if(t&1&&(l(0),c(1),p()),t&2){let e=d(2);r(),v("as ",e.castRole.character)}}function ti(t,i){t&1&&(l(0),c(1,"No Role Defined"),p())}function ii(t,i){if(t&1&&m(0,ei,2,1,"ng-container",9)(1,ti,2,0,"ng-container",9),t&2){let e=d();o("ngIf",e.castRole.character),r(),o("ngIf",!e.castRole.character)}}var be=class t{constructor(i){this.movieService=i}castRole=new ie;posterSizeSmall="";releaseYear=0;formattedTitle="";altPosterText="";ngOnInit(){this.setTitle(),this.setPoster(),this.setYear()}setTitle(){this.formattedTitle=this.movieService.getFormattedMovieTitle(this.castRole.title,this.castRole.original_title,this.castRole.release_date)}setPoster(){this.posterSizeSmall=this.castRole.poster_path?`${x.imgUrl}${x.posterSizeSmall}${this.castRole.poster_path}`:"img/default-images/movie_poster_notavailable_w500.png",this.altPosterText=this.castRole.poster_path?`Poster from the movie ${this.formattedTitle}`:`Poster from the movie ${this.formattedTitle} is not available`}setYear(){let i=new Date(this.castRole.release_date);this.releaseYear=i.getFullYear()}static \u0275fac=function(e){return new(e||t)(u(A))};static \u0275cmp=_({type:t,selectors:[["app-person-cast-credit-grid"]],inputs:{castRole:"castRole"},standalone:!1,decls:14,vars:12,consts:[["castPopTitle",""],["castPopContent",""],[1,"person-cast-credit-grid"],["placement","bottom","triggers","hover",3,"routerLink","popoverTitle","ngbPopover","container","popoverClass"],[1,"credit-poster"],[1,"w-100",3,"src","alt"],[1,"credit-info"],[1,"credit-formatted-title"],[1,"credit-role"],[4,"ngIf"]],template:function(e,n){if(e&1&&(s(0,"section",2)(1,"a",3)(2,"section",4),f(3,"img",5),a(),s(4,"section",6)(5,"div",7),c(6),a(),s(7,"div",8),m(8,Wt,2,1,"ng-container",9)(9,Xt,2,0,"ng-container",9),a()()(),m(10,Zt,1,1,"ng-template",null,0,X)(12,ii,2,2,"ng-template",null,1,X),a()),e&2){let g=W(11),C=W(13);r(),o("routerLink",S(10,Jt,n.castRole.id))("popoverTitle",g)("ngbPopover",C)("container","body")("popoverClass","person-popover"),r(2),o("src",n.posterSizeSmall,E)("alt",n.altPosterText),r(3),v(" ",n.formattedTitle," "),r(2),o("ngIf",n.castRole.character),r(),o("ngIf",!n.castRole.character)}},dependencies:[b,T,le],encapsulation:2})};var ni=t=>["/movie",t];function oi(t,i){if(t&1&&(l(0),c(1),p()),t&2){let e=d();r(),v(" ",e.castRole.title," ")}}function ai(t,i){if(t&1&&(l(0),c(1),p()),t&2){let e=d();r(),je(" ",e.castRole.original_title," (",e.castRole.title,") ")}}function si(t,i){if(t&1&&(l(0),c(1),p()),t&2){let e=d();r(),P(e.releaseYear)}}function ci(t,i){t&1&&(l(0),c(1,"No Release Year"),p())}function li(t,i){if(t&1&&(l(0),c(1),p()),t&2){let e=d();r(),v("as ",e.castRole.character)}}function pi(t,i){t&1&&(l(0),c(1,"No Role Defined"),p())}var Pe=class t{constructor(i){this.movieService=i}castRole=new ie;posterSizeSmall="";releaseYear=0;formattedTitle="";altPosterText="";ngOnInit(){this.setPoster(),this.setYear()}setTitle(){this.formattedTitle=this.movieService.getFormattedMovieTitle(this.castRole.title,this.castRole.original_title,this.castRole.release_date)}setPoster(){this.posterSizeSmall=this.castRole.poster_path?`${x.imgUrl}${x.posterSizeSmall}${this.castRole.poster_path}`:"img/default-images/movie_poster_notavailable_w500.png",this.altPosterText=this.castRole.poster_path?`Poster from the movie ${this.formattedTitle}`:`Poster from the movie ${this.formattedTitle} is not available`}setYear(){let i=new Date(this.castRole.release_date);this.releaseYear=i.getFullYear()}static \u0275fac=function(e){return new(e||t)(u(A))};static \u0275cmp=_({type:t,selectors:[["app-person-cast-credit-list"]],inputs:{castRole:"castRole"},standalone:!1,decls:16,vars:11,consts:[[1,"person-cast-credit-list"],[3,"routerLink"],[1,"list-content"],[3,"src","alt"],[1,"list-detail"],[4,"ngIf"]],template:function(e,n){e&1&&(s(0,"section",0)(1,"a",1)(2,"div",2),f(3,"img",3),s(4,"div",4)(5,"span"),m(6,oi,2,1,"ng-container",5)(7,ai,2,2,"ng-container",5),c(8," ("),m(9,si,2,1,"ng-container",5)(10,ci,2,0,"ng-container",5),c(11,") "),a(),f(12,"br"),s(13,"span"),m(14,li,2,1,"ng-container",5)(15,pi,2,0,"ng-container",5),a()()()()()),e&2&&(r(),o("routerLink",S(9,ni,n.castRole.id)),r(2),o("src",n.posterSizeSmall,E)("alt",n.altPosterText),r(3),o("ngIf",n.castRole.title==n.castRole.original_title),r(),o("ngIf",n.castRole.title!=n.castRole.original_title),r(2),o("ngIf",n.releaseYear),r(),o("ngIf",!n.releaseYear),r(4),o("ngIf",n.castRole.character),r(),o("ngIf",!n.castRole.character))},dependencies:[b,T],encapsulation:2})};var fi=["starringParagraph"],ui=["castCreditsList"],ft=t=>({itemsPerPage:20,currentPage:t});function _i(t,i){if(t&1&&(l(0),s(1,"div",15),f(2,"app-person-cast-credit-grid",16),a(),p()),t&2){let e=i.$implicit;r(2),o("castRole",e)}}function vi(t,i){if(t&1&&(l(0),s(1,"section",13)(2,"div",3,1),m(4,_i,3,1,"ng-container",14),k(5,"paginate"),a()(),p()),t&2){let e=d();r(4),o("ngForOf",L(5,1,e.filterCastCredits,S(4,ft,e.page)))}}function Ci(t,i){if(t&1&&(l(0),f(1,"app-person-cast-credit-list",16),p()),t&2){let e=i.$implicit;r(),o("castRole",e)}}function hi(t,i){if(t&1&&(l(0),s(1,"section",17),m(2,Ci,2,1,"ng-container",14),k(3,"paginate"),a(),p()),t&2){let e=d();r(2),o("ngForOf",L(3,1,e.filterCastCredits,S(4,ft,e.page)))}}var we=class t{constructor(i){this.localStorageService=i}gridIcon=Ke;listIcon=Ue;castCredits=[];starringParagraph;castCreditsList;loadingPerson=!1;displayMode="grid";orderCriterias=[{id:1,orderCriteriaName:"Default Order"},{id:2,orderCriteriaName:"Title (ascending)"},{id:3,orderCriteriaName:"Title (descending)"},{id:4,orderCriteriaName:"Character Name (ascending)"},{id:5,orderCriteriaName:"Character Name (descending)"},{id:6,orderCriteriaName:"Release Date (ascending)"},{id:7,orderCriteriaName:"Release Date (descending)"}];currentPerson;filterCastCredits=[];page=1;ngOnInit(){this.filterCastCredits=structuredClone(this.castCredits),this.getPerson()}getPerson(){this.loadingPerson=!0,this.currentPerson=this.localStorageService.getItem("person")}changePage(i){this.page=i,this.starringParagraph.nativeElement.scrollIntoView({behavior:"smooth",block:"start"})}changeDisplay(i){this.displayMode=i}orderCriteriaChange(i){switch(i){case"1":{this.filterCastCredits=structuredClone(this.castCredits);break}case"2":{this.filterCastCredits.sort((e,n)=>e.title.localeCompare(n.title));break}case"3":{this.filterCastCredits.sort((e,n)=>n.title.localeCompare(e.title));break}case"4":{this.filterCastCredits.sort((e,n)=>e.character.localeCompare(n.character));break}case"5":{this.filterCastCredits.sort((e,n)=>n.character.localeCompare(e.character));break}case"6":{this.filterCastCredits.sort((e,n)=>{let g=new Date(e.release_date),C=new Date(n.release_date);return g.getTime()-C.getTime()});break}case"7":{this.filterCastCredits.sort((e,n)=>{let g=new Date(e.release_date);return new Date(n.release_date).getTime()-g.getTime()});break}}}static \u0275fac=function(e){return new(e||t)(u(O))};static \u0275cmp=_({type:t,selectors:[["app-person-movie-credits-cast"]],viewQuery:function(e,n){if(e&1&&(G(fi,5),G(ui,5)),e&2){let g;H(g=z())&&(n.starringParagraph=g.first),H(g=z())&&(n.castCreditsList=g.first)}},inputs:{castCredits:"castCredits"},standalone:!1,decls:19,vars:4,consts:[["starringParagraph",""],["castCreditsList",""],[1,"person-movie-credits-cast"],[1,"row"],[1,"col-12"],[1,"col-12","col-lg-6"],[3,"onDisplayChange"],[3,"onOrderCriteriaChange","orderCriterias"],[1,"cast-credits"],[4,"ngIf"],[1,"cast-credits-pagination"],[1,"d-flex","justify-content-center"],[3,"pageChange"],[1,"cast-credits-display-grid"],[4,"ngFor","ngForOf"],[1,"col-12","col-sm-4","col-lg-2"],[3,"castRole"],[1,"cast-credits-display-list"]],template:function(e,n){if(e&1){let g=R();s(0,"section",2)(1,"div",3)(2,"div",4)(3,"div",3)(4,"div",5)(5,"app-display-selector",6),h("onDisplayChange",function(D){return y(g),I(n.changeDisplay(D))}),a()(),s(6,"div",5)(7,"app-order-select",7),h("onOrderCriteriaChange",function(D){return y(g),I(n.orderCriteriaChange(D))}),a()()(),s(8,"section",8)(9,"p",null,0)(11,"strong"),c(12),a(),c(13," has starred in the following movies: "),a(),m(14,vi,6,6,"ng-container",9)(15,hi,4,6,"ng-container",9),s(16,"section",10)(17,"div",11)(18,"pagination-controls",12),h("pageChange",function(D){return y(g),I(n.changePage(D))}),a()()()()()()()}e&2&&(r(7),o("orderCriterias",n.orderCriterias),r(5),P(n.currentPerson.name),r(2),o("ngIf",n.displayMode=="grid"),r(),o("ngIf",n.displayMode=="list"))},dependencies:[j,b,de,te,be,Pe,ge,me],styles:[".person-movie-credits-cast[_ngcontent-%COMP%]   .cast-credits-display-grid[_ngcontent-%COMP%], .person-movie-credits-cast[_ngcontent-%COMP%]   .cast-credits-display-list[_ngcontent-%COMP%]{margin-bottom:1rem}"]})};function Pi(t,i){t&1&&(l(0),f(1,"app-loading-inline",2),p())}function wi(t,i){if(t&1){let e=R();l(0),s(1,"app-person-error",3),h("reload",function(g){y(e);let C=d(2);return I(C.reloadMovieCredits(g))}),a(),p()}if(t&2){let e=d(2);r(),o("errorMessage",e.errorMessage)}}function Si(t,i){t&1&&(l(0),s(1,"p"),c(2,"This person has no acting roles in movies"),a(),p())}function xi(t,i){if(t&1&&(l(0),f(1,"app-person-movie-credits-cast",4),p()),t&2){let e=d(3);r(),o("castCredits",e.personMovieCredits.cast)}}function yi(t,i){if(t&1&&(l(0),m(1,Si,3,0,"ng-container",1)(2,xi,2,1,"ng-container",1),p()),t&2){let e=d(2);r(),o("ngIf",e.personMovieCredits.cast.length===0),r(),o("ngIf",e.personMovieCredits.cast.length>0)}}function Ii(t,i){if(t&1&&(l(0),m(1,wi,2,1,"ng-container",1)(2,yi,3,2,"ng-container",1),p()),t&2){let e=d();r(),o("ngIf",e.personMovieCreditsError),r(),o("ngIf",!e.personMovieCreditsError)}}var Se=class t{constructor(i,e,n,g){this.activatedRoute=i;this.personService=e;this.localStorageService=n;this.router=g}id=0;personMovieCredits=new ee;loadingPersonMovieCredits=!1;activatedRouteParentSubscription;personMovieCreditsFound=!1;personMovieCreditsError=!1;errorMessage="";ngOnInit(){this.setId()}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(i=>{this.id=parseInt(i.id),this.getPersonMovieCredits()})}getPersonMovieCredits(){this.personMovieCreditsError=!1,this.loadingPersonMovieCredits=!0,this.personService.getCredits(this.id).then(i=>{this.personMovieCredits=i,this.personMovieCreditsFound=!0}).catch(i=>{this.handleError(i)}).finally(()=>{this.loadingPersonMovieCredits=!1})}handleError(i){this.personMovieCreditsError=!0,this.errorMessage=i.message}reloadMovieCredits(i){this.getPersonMovieCredits()}ngOnDestroy(){this.activatedRouteParentSubscription&&this.activatedRouteParentSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||t)(u(V),u(F),u(O),u(ae))};static \u0275cmp=_({type:t,selectors:[["app-person-cast-credits"]],standalone:!1,decls:3,vars:2,consts:[[1,"person-cast-credits"],[4,"ngIf"],["message","Loading movie credits for this person..."],[3,"reload","errorMessage"],[3,"castCredits"]],template:function(e,n){e&1&&(s(0,"section",0),m(1,Pi,2,0,"ng-container",1)(2,Ii,3,2,"ng-container",1),a()),e&2&&(r(),o("ngIf",n.loadingPersonMovieCredits),r(),o("ngIf",!n.loadingPersonMovieCredits))},dependencies:[b,Z,Y,we],encapsulation:2})};var re=class{adult;backdrop_path;genre_ids;id;original_language;original_title;overview;popularity;poster_path;release_date;title;video;vote_average;vote_count;character;department;job;constructor(){this.adult=!1,this.backdrop_path="",this.genre_ids=[],this.id=0,this.original_language="",this.original_title="",this.overview="",this.popularity=0,this.poster_path="",this.release_date="",this.title="",this.video=!1,this.vote_average=0,this.vote_count=0,this.character="",this.department="",this.job=""}};var Mi=t=>["/movie",t];function Ei(t,i){if(t&1&&c(0),t&2){let e=d();v(" ",e.formattedTitle," ")}}function Ri(t,i){if(t&1&&(s(0,"span"),c(1),a()),t&2){let e=d();r(),P(e.crewRole.job)}}var xe=class t{constructor(i){this.movieService=i}crewRole=new re;posterSizeSmall="";releaseYear=0;formattedTitle="";altPosterText="";ngOnInit(){this.setTitle(),this.setPoster(),this.setYear()}setTitle(){this.formattedTitle=this.movieService.getFormattedMovieTitle(this.crewRole.title,this.crewRole.original_title,this.crewRole.release_date)}setPoster(){this.posterSizeSmall=this.crewRole.poster_path?`${x.imgUrl}${x.posterSizeSmall}${this.crewRole.poster_path}`:"img/default-images/movie_poster_notavailable_w500.png",this.altPosterText=this.crewRole.poster_path?`Poster from the movie ${this.formattedTitle}`:`Poster from the movie ${this.formattedTitle} is not available`}setYear(){let i=new Date(this.crewRole.release_date);this.releaseYear=i.getFullYear()}static \u0275fac=function(e){return new(e||t)(u(A))};static \u0275cmp=_({type:t,selectors:[["app-person-crew-credit-grid"]],inputs:{crewRole:"crewRole"},standalone:!1,decls:13,vars:11,consts:[["crewPopTitle",""],["crewPopContent",""],[1,"person-crew-credit-grid"],["placement","bottom","triggers","hover",3,"routerLink","popoverTitle","ngbPopover","container","popoverClass"],[1,"credit-poster"],[1,"w-100",3,"src","alt"],[1,"credit-info"],[1,"credit-formatted-title"],[1,"credit-job"]],template:function(e,n){if(e&1&&(s(0,"section",2)(1,"a",3)(2,"section",4),f(3,"img",5),a(),s(4,"section",6)(5,"div",7),c(6),a(),s(7,"div",8),c(8),a()()(),m(9,Ei,1,1,"ng-template",null,0,X)(11,Ri,2,1,"ng-template",null,1,X),a()),e&2){let g=W(10),C=W(12);r(),o("routerLink",S(9,Mi,n.crewRole.id))("popoverTitle",g)("ngbPopover",C)("container","body")("popoverClass","person-popover"),r(2),o("src",n.posterSizeSmall,E)("alt",n.altPosterText),r(3),v(" ",n.formattedTitle," "),r(2),v(" ",n.crewRole.job," ")}},dependencies:[T,le],encapsulation:2})};var Oi=t=>["/movie",t];function Di(t,i){if(t&1&&(l(0),c(1),p()),t&2){let e=d();r(),P(e.crewRole.job)}}function Fi(t,i){t&1&&(l(0),c(1,"No Job Defined"),p())}var ye=class t{constructor(i){this.movieService=i}crewRole=new re;posterSizeSmall="";releaseYear=0;formattedTitle="";altPosterText="";ngOnInit(){this.setTitle(),this.setPoster(),this.setYear()}setTitle(){this.formattedTitle=this.movieService.getFormattedMovieTitle(this.crewRole.title,this.crewRole.original_title,this.crewRole.release_date)}setPoster(){this.posterSizeSmall=this.crewRole.poster_path?`${x.imgUrl}${x.posterSizeSmall}${this.crewRole.poster_path}`:"img/default-images/movie_poster_notavailable_w500.png",this.altPosterText=this.crewRole.poster_path?`Poster from the movie ${this.formattedTitle}`:`Poster from the movie ${this.formattedTitle} is not available`}setYear(){let i=new Date(this.crewRole.release_date);this.releaseYear=i.getFullYear()}static \u0275fac=function(e){return new(e||t)(u(A))};static \u0275cmp=_({type:t,selectors:[["app-person-crew-credit-list"]],inputs:{crewRole:"crewRole"},standalone:!1,decls:11,vars:8,consts:[[1,"person-cast-credit-list"],[3,"routerLink"],[1,"list-content"],[3,"src","alt"],[1,"list-detail"],[4,"ngIf"]],template:function(e,n){e&1&&(s(0,"section",0)(1,"a",1)(2,"div",2),f(3,"img",3),s(4,"div",4)(5,"span"),c(6),a(),f(7,"br"),s(8,"span"),m(9,Di,2,1,"ng-container",5)(10,Fi,2,0,"ng-container",5),a()()()()()),e&2&&(r(),o("routerLink",S(6,Oi,n.crewRole.id)),r(2),o("src",n.posterSizeSmall,E)("alt",n.altPosterText),r(3),v(" ",n.formattedTitle," "),r(3),o("ngIf",n.crewRole.job),r(),o("ngIf",!n.crewRole.job))},dependencies:[b,T],encapsulation:2})};var ki=["crewParagraph"],ut=t=>({itemsPerPage:20,currentPage:t});function Li(t,i){if(t&1&&(l(0),s(1,"div",15),f(2,"app-person-crew-credit-grid",16),a(),p()),t&2){let e=i.$implicit;r(2),o("crewRole",e)}}function ji(t,i){if(t&1&&(l(0),s(1,"section",13)(2,"div",3,1),m(4,Li,3,1,"ng-container",14),k(5,"paginate"),a()(),p()),t&2){let e=d();r(4),o("ngForOf",L(5,1,e.filterCrewCredits,S(4,ut,e.page)))}}function Vi(t,i){if(t&1&&(l(0),f(1,"app-person-crew-credit-list",16),p()),t&2){let e=i.$implicit;r(),o("crewRole",e)}}function Ai(t,i){if(t&1&&(l(0),s(1,"section",17),m(2,Vi,2,1,"ng-container",14),k(3,"paginate"),a(),p()),t&2){let e=d();r(2),o("ngForOf",L(3,1,e.filterCrewCredits,S(4,ut,e.page)))}}var Ie=class t{constructor(i){this.localStorageService=i}crewCredits=[];crewParagraph;loadingPerson=!1;displayMode="grid";orderCriterias=[{id:1,orderCriteriaName:"Default Order"},{id:2,orderCriteriaName:"Title (ascending)"},{id:3,orderCriteriaName:"Title (descending)"},{id:4,orderCriteriaName:"Job (ascending)"},{id:5,orderCriteriaName:"Job (descending)"},{id:6,orderCriteriaName:"Release Date (ascending)"},{id:7,orderCriteriaName:"Release Date (descending)"}];currentPerson;filterCrewCredits=[];page=1;ngOnInit(){this.filterCrewCredits=structuredClone(this.crewCredits),this.getPerson()}getPerson(){this.loadingPerson=!0,this.currentPerson=this.localStorageService.getItem("person")}changePage(i){this.page=i,this.crewParagraph.nativeElement.scrollIntoView({behaviour:"smooth",block:"start"})}changeDisplay(i){this.displayMode=i}orderCriteriaChange(i){switch(i){case"1":{this.filterCrewCredits=structuredClone(this.crewCredits);break}case"2":{this.filterCrewCredits.sort((e,n)=>e.title.localeCompare(n.title));break}case"3":{this.filterCrewCredits.sort((e,n)=>n.title.localeCompare(e.title));break}case"4":{this.filterCrewCredits.sort((e,n)=>e.job.localeCompare(n.job));break}case"5":{this.filterCrewCredits.sort((e,n)=>n.job.localeCompare(e.job));break}case"6":{this.filterCrewCredits.sort((e,n)=>{let g=new Date(e.release_date),C=new Date(n.release_date);return g.getTime()-C.getTime()});break}case"7":{this.filterCrewCredits.sort((e,n)=>{let g=new Date(e.release_date);return new Date(n.release_date).getTime()-g.getTime()});break}}}static \u0275fac=function(e){return new(e||t)(u(O))};static \u0275cmp=_({type:t,selectors:[["app-person-movie-credits-crew"]],viewQuery:function(e,n){if(e&1&&G(ki,5),e&2){let g;H(g=z())&&(n.crewParagraph=g.first)}},inputs:{crewCredits:"crewCredits"},standalone:!1,decls:19,vars:4,consts:[["crewParagraph",""],["crewCreditsGrid",""],[1,"person-movie-credits-crew"],[1,"row"],[1,"col-12"],[1,"col-12","col-lg-6"],[3,"onDisplayChange"],[3,"onOrderCriteriaChange","orderCriterias"],[1,"crew-credits"],[4,"ngIf"],[1,"crew-credits-pagination"],[1,"d-flex","justify-content-center"],[3,"pageChange"],[1,"crew-credits-display-grid"],[4,"ngFor","ngForOf"],[1,"col-12","col-sm-4","col-lg-2"],[3,"crewRole"],[1,"crew-credits-display-list"]],template:function(e,n){if(e&1){let g=R();s(0,"section",2)(1,"div",3)(2,"div",4)(3,"div",3)(4,"div",5)(5,"app-display-selector",6),h("onDisplayChange",function(D){return y(g),I(n.changeDisplay(D))}),a()(),s(6,"div",5)(7,"app-order-select",7),h("onOrderCriteriaChange",function(D){return y(g),I(n.orderCriteriaChange(D))}),a()()(),s(8,"section",8)(9,"p",null,0)(11,"strong"),c(12),a(),c(13," has been part of the crew in the following movies: "),a(),m(14,ji,6,6,"ng-container",9)(15,Ai,4,6,"ng-container",9),a(),s(16,"section",10)(17,"div",11)(18,"pagination-controls",12),h("pageChange",function(D){return y(g),I(n.changePage(D))}),a()()()()()()}e&2&&(r(7),o("orderCriterias",n.orderCriterias),r(5),P(n.currentPerson.name),r(2),o("ngIf",n.displayMode=="grid"),r(),o("ngIf",n.displayMode=="list"))},dependencies:[j,b,de,te,xe,ye,ge,me],encapsulation:2})};function Bi(t,i){t&1&&(l(0),f(1,"app-loading-inline",2),p())}function Yi(t,i){if(t&1){let e=R();l(0),s(1,"app-person-error",3),h("reload",function(g){y(e);let C=d(2);return I(C.reloadMovieCredits(g))}),a(),p()}if(t&2){let e=d(2);r(),o("errorMessage",e.errorMessage)}}function Gi(t,i){t&1&&(l(0),s(1,"p"),c(2,"This person has no technical or production roles in movies"),a(),p())}function Hi(t,i){if(t&1&&(l(0),f(1,"app-person-movie-credits-crew",4),p()),t&2){let e=d(3);r(),o("crewCredits",e.personMovieCredits.crew)}}function zi(t,i){if(t&1&&(l(0),m(1,Gi,3,0,"ng-container",1)(2,Hi,2,1,"ng-container",1),p()),t&2){let e=d(2);r(),o("ngIf",e.personMovieCredits.crew.length===0),r(),o("ngIf",e.personMovieCredits.crew.length>0)}}function Ui(t,i){if(t&1&&(l(0),m(1,Yi,2,1,"ng-container",1)(2,zi,3,2,"ng-container",1),p()),t&2){let e=d();r(),o("ngIf",e.personMovieCreditsError),r(),o("ngIf",!e.personMovieCreditsError)}}var Me=class t{constructor(i,e,n,g){this.activatedRoute=i;this.personService=e;this.localStorageService=n;this.router=g}id=0;personMovieCredits=new ee;loadingPersonMovieCredits=!1;activatedRouteParentSubscription;personMovieCreditsFound=!1;personMovieCreditsError=!1;errorMessage="";ngOnInit(){this.setId()}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(i=>{this.id=parseInt(i.id),this.getPersonMovieCredits()})}getPersonMovieCredits(){this.personMovieCreditsError=!1,this.loadingPersonMovieCredits=!0,this.personService.getCredits(this.id).then(i=>{this.personMovieCredits=i,this.personMovieCreditsFound=!0}).catch(i=>{this.handleError(i)}).finally(()=>{this.loadingPersonMovieCredits=!1})}handleError(i){this.personMovieCreditsError=!0,this.errorMessage=i.message}reloadMovieCredits(i){this.getPersonMovieCredits()}ngOnDestroy(){this.activatedRouteParentSubscription&&this.activatedRouteParentSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||t)(u(V),u(F),u(O),u(ae))};static \u0275cmp=_({type:t,selectors:[["app-person-crew-credits"]],standalone:!1,decls:3,vars:2,consts:[[1,"person-crew-credits"],[4,"ngIf"],["message","Loading movie credits for this person..."],[3,"reload","errorMessage"],[3,"crewCredits"]],template:function(e,n){e&1&&(s(0,"section",0),m(1,Bi,2,0,"ng-container",1)(2,Ui,3,2,"ng-container",1),a()),e&2&&(r(),o("ngIf",n.loadingPersonMovieCredits),r(),o("ngIf",!n.loadingPersonMovieCredits))},dependencies:[b,Z,Y,Ie],encapsulation:2})};var Qi=[{path:":id",component:Ce,children:[{path:"overview",component:he,pathMatch:"full"},{path:"cast-credits",component:Se,pathMatch:"full"},{path:"crew-credits",component:Me,pathMatch:"full"},{path:"",redirectTo:"overview",pathMatch:"full"}]}],Ee=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=q({type:t});static \u0275inj=K({imports:[U.forChild(Qi),U]})};var Re=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=q({type:t});static \u0275inj=K({imports:[oe,ce,U,pe]})};var _t=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=q({type:t});static \u0275inj=K({imports:[oe,Ee,pt,pe,ce,Re,U,dt,st,ct]})};export{_t as PersonModule};

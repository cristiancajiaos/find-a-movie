import{a as X,b as Z,c as H,d as Z1}from"./chunk-OMCHMT3Y.js";import{A as _,Aa as e1,B as m,Ba as c1,C as F1,Ca as i1,D as O1,Da as a1,E as q1,Ea as l1,Fa as n1,G as t,Ga as t1,H as N,Ha as r1,I as M,Ia as o1,Ja as f1,Ka as m1,La as X1,Ma as Q1,N as v,O as V,P as D1,Q as T1,R as w1,T as J,U as q,V as y,W as R1,Y as A1,Z as G1,_ as j,_a as e2,a as A,b as G,ba as B1,c as y1,d as k1,e as F,f as I1,fa as k,g as S,ga as V1,h,ia as I,ja as j1,k as B,ka as E1,l as a,la as H1,m as u,ma as D,n as b,o as O,oa as W1,p as P1,pa as K,q as s,qa as $1,r as Y,ra as U1,s as r,t as l,u as n,ua as Y1,v as p,va as J1,w as o,wa as K1,x as f,ya as P,z as L,za as Q}from"./chunk-HVLHQCE4.js";var T=class{adult;backdrop_path;belongs_to_collection;budget;genres;homepage;id;imdb_id;origin_country;original_language;original_title;overview;popularity;poster_path;production_companies;production_countries;release_date;revenue;runtime;spoken_languages;status;tagline;title;video;vote_average;vote_count;constructor(){this.adult=!1,this.backdrop_path="",this.belongs_to_collection=!1,this.budget=0,this.genres=[],this.homepage="",this.id=0,this.imdb_id="",this.origin_country=[],this.original_language="",this.original_title="",this.overview="",this.popularity=0,this.poster_path="",this.production_companies=[],this.production_countries=[],this.release_date="",this.revenue=0,this.runtime=0,this.spoken_languages=[],this.status="",this.tagline="",this.title="",this.video=!1,this.vote_average=0,this.vote_count=0}};var w=class c{constructor(i){this.http=i}getMovie(i){return A(this,null,function*(){return yield G(this.http.get(`/movie/${i}`))})}getMovieCredits(i){return A(this,null,function*(){return yield G(this.http.get(`/movie/${i}/credits`))})}getMovieCast(i){return A(this,null,function*(){return yield G(this.http.get(`/movie/${i}/credits`).pipe(y1(e=>e.cast)))})}getMovieCrew(i){return A(this,null,function*(){return yield G(this.http.get(`/movie/${i}/credits`).pipe(y1(e=>e.crew)))})}getMovieVideos(i){return A(this,null,function*(){return yield G(this.http.get(`/movie/${i}/videos`))})}getFormattedMovieTitle(i,e){let z=i,g=new Date(e).getFullYear();return`${z}`+(g?` (${g})`:"")}static \u0275fac=function(e){return new(e||c)(I1(B1))};static \u0275prov=k1({token:c,factory:c.\u0275fac,providedIn:"root"})};var s1=class c{static \u0275fac=function(e){return new(e||c)};static \u0275cmp=b({type:c,selectors:[["app-movie-not-found"]],standalone:!1,decls:6,vars:0,consts:[[1,"movie-not-found"],[1,"movie-not-found-description"]],template:function(e,z){e&1&&(l(0,"section",0)(1,"div",1)(2,"h1"),t(3,"Movie Not Found"),n(),l(4,"p"),t(5,"No movie was found with this ID. Try another one :)"),n()()())},styles:[".movie-not-found[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}.movie-not-found[_ngcontent-%COMP%]   .movie-not-found-description[_ngcontent-%COMP%]{text-align:center;border:1px solid black;padding:1rem 2rem}"]})};var E=class c{repeat=K;errorMessage="";reload=new Y;ngOnInit(){}pressReload(){this.reload.emit(!0)}static \u0275fac=function(e){return new(e||c)};static \u0275cmp=b({type:c,selectors:[["app-movie-error"]],inputs:{errorMessage:"errorMessage"},outputs:{reload:"reload"},standalone:!1,decls:10,vars:2,consts:[[1,"movie-error"],["type","button",1,"btn","btn-primary",3,"click"],[3,"icon"]],template:function(e,z){e&1&&(l(0,"section",0)(1,"h1"),t(2,"Movie Service Error"),n(),l(3,"p"),t(4,"There was an error getting info for the movie: "),l(5,"strong"),t(6),n()(),l(7,"button",1),_("click",function(){return z.pressReload()}),p(8,"fa-icon",2),t(9," Reload "),n()()),e&2&&(a(6),N(z.errorMessage),a(2),r("icon",z.repeat))},dependencies:[P],styles:[".movie-error[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};var p1=class c{repeat=K;errorMessage="";reload=new Y;ngOnInit(){}pressReload(){this.reload.emit(!0)}static \u0275fac=function(e){return new(e||c)};static \u0275cmp=b({type:c,selectors:[["app-movie-error-fullscreen"]],inputs:{errorMessage:"errorMessage"},outputs:{reload:"reload"},standalone:!1,decls:11,vars:2,consts:[[1,"movie-error-fullscreen"],[1,"movie-error-description"],["type","button",1,"btn","btn-primary",3,"click"],[3,"icon"]],template:function(e,z){e&1&&(l(0,"section",0)(1,"div",1)(2,"h1"),t(3,"Movie Service Error"),n(),l(4,"p"),t(5,"There was an error getting info for the movie: "),l(6,"strong"),t(7),n()(),l(8,"button",2),_("click",function(){return z.pressReload()}),p(9,"fa-icon",3),t(10," Reload "),n()()()),e&2&&(a(7),N(z.errorMessage),a(2),r("icon",z.repeat))},dependencies:[P],styles:[".movie-error-fullscreen[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}.movie-error-fullscreen[_ngcontent-%COMP%]   .movie-error-description[_ngcontent-%COMP%]{text-align:center;border:1px solid black;padding:1rem 2rem}.movie-error-fullscreen[_ngcontent-%COMP%]   .movie-error-description[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};var M1=class c{transform(i){let e=Math.floor(i/60),z=i%60,d=e>0?`${e}h`:"",g=z>0?`${z}min`:"";return e==0&&z==0?"":e==0&&z>0?`${g}`:e>0&&z==0?`${d}`:`${d} ${g}`}static \u0275fac=function(e){return new(e||c)};static \u0275pipe=P1({name:"runtime",type:c,pure:!0,standalone:!1})};var r2=c=>({"background-image":c});function o2(c,i){if(c&1&&(o(0),p(1,"fa-icon",4),t(2),f()),c&2){let e=m();a(),r("icon",e.calendar)("fixedWidth",!0),a(),M(" ",e.year," ")}}function f2(c,i){c&1&&(o(0),t(1," No Release Date "),f())}function m2(c,i){if(c&1&&(o(0),p(1,"fa-icon",4),t(2),V(3,"runtime"),f()),c&2){let e=m();a(),r("icon",e.clock)("fixedWidth",!0),a(),M(" ",D1(3,3,e.movie.runtime)," ")}}var v1=class c{constructor(i){this.cd=i}film=Y1;circleSeparator=$1;calendar=U1;clock=W1;id=0;movie=new T;year=0;backdropImg="";ngOnInit(){this.setYear(),this.setBackdrop()}setYear(){let i=new Date(this.movie.release_date);this.year=i.getFullYear()}setBackdrop(){this.backdropImg=this.movie.backdrop_path?`${D.imgUrl}${D.backdropSize}${this.movie.backdrop_path}`:"img/default-images/movie_backdrop_notavailable_w1280.png"}static \u0275fac=function(e){return new(e||c)(u(J))};static \u0275cmp=b({type:c,selectors:[["app-movie-header"]],inputs:{id:"id",movie:"movie"},standalone:!1,decls:12,vars:9,consts:[[1,"movie-header"],[1,"header-backdrop",3,"ngStyle"],[1,"header-movie-container"],[1,"header-movie-info"],[3,"icon","fixedWidth"],[4,"ngIf"]],template:function(e,z){e&1&&(l(0,"section",0)(1,"header"),p(2,"div",1),l(3,"div",2)(4,"div",3)(5,"h1"),p(6,"fa-icon",4),t(7),n(),l(8,"h2"),s(9,o2,3,3,"ng-container",5)(10,f2,2,0,"ng-container",5)(11,m2,4,5,"ng-container",5),n()()()()()),e&2&&(a(2),r("ngStyle",v(7,r2,"url("+z.backdropImg+")")),a(4),r("icon",z.film)("fixedWidth",!0),a(),M(" ",z.movie.title," "),a(2),r("ngIf",z.year),a(),r("ngIf",!z.year),a(),r("ngIf",z.movie.runtime>0))},dependencies:[y,R1,P,M1],styles:[".movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{height:50vh;position:relative}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-backdrop[_ngcontent-%COMP%]{position:absolute;height:inherit;width:100%;background-size:cover}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]{position:absolute;height:inherit;width:100%;display:flex;flex-direction:column;justify-content:flex-end}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]   .header-movie-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end;background-color:#00000080}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]   .header-movie-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]   .header-movie-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:100%;color:#fff;margin:0}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]   .header-movie-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding:1rem 1rem 0rem}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]   .header-movie-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding:1rem}"]})};var M2=["movieHeader"];function v2(c,i){c&1&&(o(0),p(1,"app-loading-fullscreen",3),f())}function d2(c,i){c&1&&(o(0),p(1,"app-loading-fullscreen",4),f())}function u2(c,i){c&1&&(o(0),p(1,"app-movie-not-found"),f())}function b2(c,i){if(c&1){let e=L();o(0),l(1,"app-movie-error-fullscreen",5),_("reload",function(d){S(e);let g=m(4);return h(g.reloadMovie(d))}),n(),f()}if(c&2){let e=m(4);a(),r("errorMessage",e.errorMessage)}}function g2(c,i){if(c&1&&(o(0),s(1,u2,2,0,"ng-container",2)(2,b2,2,1,"ng-container",2),f()),c&2){let e=m(3);a(),r("ngIf",e.movieNotFound),a(),r("ngIf",!e.movieNotFound)}}function _2(c,i){if(c&1&&(o(0),p(1,"app-movie-error",6),f()),c&2){let e=m(4);a(),r("errorMessage",e.errorMessage)}}function C2(c,i){if(c&1&&(o(0),l(1,"div",21)(2,"a",22),p(3,"fa-icon",23),t(4," Open Poster in New Tab "),n()(),f()),c&2){let e=m(5);a(2),r("href",e.posterSizeOriginal,B),a(),r("icon",e.imagePortrait)}}function x2(c,i){if(c&1&&(o(0),p(1,"app-movie-header",7,0),l(3,"main")(4,"nav",8)(5,"div",9)(6,"ul",10)(7,"li",11)(8,"a",12),t(9," Overview "),n()(),l(10,"li",11)(11,"a",13),t(12," Cast "),n()(),l(13,"li",11)(14,"a",14),t(15," Featured Crew "),n()(),l(16,"li",11)(17,"a",15),t(18," Full Crew "),n()()()()(),l(19,"div",9)(20,"div",16)(21,"div",17)(22,"aside",18),p(23,"img",19),s(24,C2,5,2,"ng-container",2),n()(),l(25,"div",20),p(26,"router-outlet"),n()()()(),f()),c&2){let e=m(4);a(),r("id",e.id)("movie",e.movie),a(22),r("src",e.posterSizeSmall,B)("alt",e.altPosterText),a(),r("ngIf",e.movie.poster_path)}}function S2(c,i){if(c&1&&(o(0),s(1,_2,2,1,"ng-container",2)(2,x2,27,5,"ng-container",2),f()),c&2){let e=m(3);a(),r("ngIf",e.movie.id==0),a(),r("ngIf",e.movie.id!=0)}}function h2(c,i){if(c&1&&(o(0),s(1,g2,3,2,"ng-container",2)(2,S2,3,2,"ng-container",2),f()),c&2){let e=m(2);a(),r("ngIf",e.movieError),a(),r("ngIf",!e.movieError)}}function L2(c,i){if(c&1&&(o(0),s(1,d2,2,0,"ng-container",2)(2,h2,3,2,"ng-container",2),f()),c&2){let e=m();a(),r("ngIf",e.loadingMovie),a(),r("ngIf",!e.loadingMovie)}}var d1=class c{constructor(i,e,z,d,g){this.activatedRoute=i;this.movieService=e;this.titleService=z;this.localStorageService=d;this.cd=g}imagePortrait=K1;id=0;movie=new T;formattedTitle="";altPosterText="";posterSizeSmall="";posterSizeOriginal="";loadingView=!0;loadingMovie=!1;movieNotFound=!1;movieError=!1;errorMessage="";routeSubscription;movieHeader;ngOnInit(){this.cd.detectChanges(),this.routeSubscription=this.activatedRoute.params.subscribe(i=>{this.id=parseInt(this.activatedRoute.snapshot.params.id),this.getMovie()})}ngAfterContentInit(){this.loadingView=!1,this.cd.detectChanges()}getMovie(){this.movieError=!1,this.loadingMovie=!0,this.movieService.getMovie(this.id).then(i=>{this.movie=i,this.localStorageService.setItem("movie",i),this.setTitle(),this.setMoviePoster()}).catch(i=>{this.handleError(i)}).finally(()=>{this.loadingMovie=!1})}handleError(i){this.movieError=!0,i.status&&i.status===404?(this.movieNotFound=!0,this.titleService.setTitle("Movie Not Found")):(this.errorMessage=i.message,this.titleService.setTitle("Movie Service Error"))}reloadMovie(i){this.getMovie()}setTitle(){this.formattedTitle=this.movieService.getFormattedMovieTitle(this.movie.title,this.movie.release_date),this.titleService.setTitle(this.formattedTitle)}setMoviePoster(){this.posterSizeSmall=this.movie.poster_path?`${D.imgUrl}${D.posterSizeSmall}${this.movie.poster_path}`:"img/default-images/movie_poster_notavailable_w500.png",this.posterSizeOriginal=this.movie.poster_path?`${D.imgUrl}${D.posterSizeOriginal}${this.movie.poster_path}`:"",this.altPosterText=this.movie.poster_path?`Poster from the movie ${this.formattedTitle}`:`Poster from the movie ${this.formattedTitle} is not available`}ngOnDestroy(){this.routeSubscription&&this.routeSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||c)(u(k),u(w),u(H1),u(X),u(J))};static \u0275cmp=b({type:c,selectors:[["app-movie"]],viewQuery:function(e,z){if(e&1&&F1(M2,5),e&2){let d;O1(d=q1())&&(z.movieHeader=d.first)}},standalone:!1,decls:3,vars:2,consts:[["movieHeader",""],[1,"movie"],[4,"ngIf"],["message","Loading view..."],["message","Loading movie..."],[3,"reload","errorMessage"],[3,"errorMessage"],[3,"id","movie"],[1,"navbar","navbar-dark","bg-dark","navbar-expand-sm"],[1,"container-fluid"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page","routerLink","overview","routerLinkActive","active",1,"nav-link"],["routerLink","cast","routerLinkActive","active",1,"nav-link"],["routerLink","crew","routerLinkActive","active",1,"nav-link"],["routerLink","full-crew","routerLinkActive","active",1,"nav-link"],[1,"row"],[1,"col-12","col-lg-2"],[1,"aside-1"],[1,"w-100",3,"src","alt"],[1,"col-12","col-lg-10"],[1,"d-grid"],["target","_blank",1,"btn","btn-outline-primary","btn-poster","mb-2",3,"href"],[3,"icon"]],template:function(e,z){e&1&&(l(0,"section",1),s(1,v2,2,0,"ng-container",2)(2,L2,3,2,"ng-container",2),n()),e&2&&(a(),r("ngIf",z.loadingView),a(),r("ngIf",!z.loadingView))},dependencies:[y,V1,I,j1,Z,s1,E,p1,P,v1],styles:[".movie[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   nav.navbar[_ngcontent-%COMP%]{margin-bottom:1rem;font-family:Oswald,Arial,sans-serif}.movie[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .aside-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:1rem}.movie[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .aside-1[_ngcontent-%COMP%]   .btn-poster[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};var y2=c=>["/person",c];function w2(c,i){c&1&&(o(0),p(1,"app-loading-inline",2),f())}function E2(c,i){if(c&1){let e=L();o(0),l(1,"app-movie-error",3),_("reload",function(d){S(e);let g=m(2);return h(g.reloadCast(d))}),n(),f()}if(c&2){let e=m(2);a(),r("errorMessage",e.errorMessage)}}function k2(c,i){if(c&1&&(l(0,"tr")(1,"td")(2,"a",20),t(3),n()(),l(4,"td"),t(5,"as"),n(),l(6,"td"),t(7),n()()),c&2){let e=i.$implicit;a(2),r("routerLink",v(3,y2,e.id)),a(),M(" ",e.name," "),a(4),N(e.character)}}function I2(c,i){if(c&1){let e=L();o(0),l(1,"h2"),t(2,"Cast"),n(),l(3,"form",4)(4,"div",5)(5,"label",6),t(6,"Order by"),n(),l(7,"div",7)(8,"select",8),_("change",function(){S(e);let d=m(2);return h(d.changeCastOrder())}),l(9,"option",9),t(10,"Select an order criteria"),n(),l(11,"option",10),t(12,"Default Order (ascending)"),n(),l(13,"option",11),t(14,"Default Order (descending)"),n(),l(15,"option",12),t(16,"Name (ascending)"),n(),l(17,"option",13),t(18,"Name (descending)"),n(),l(19,"option",14),t(20,"Character (ascending)"),n(),l(21,"option",15),t(22,"Character (descending)"),n()()()()(),l(23,"div",16)(24,"table",17)(25,"thead")(26,"tr")(27,"th",18),t(28,"Actor"),n(),l(29,"th"),t(30,"Character"),n()()(),l(31,"tbody"),s(32,k2,8,5,"tr",19),n()()(),f()}if(c&2){let e=m(2);a(3),r("formGroup",e.orderCastForm),a(29),r("ngForOf",e.movieCast)}}function P2(c,i){if(c&1&&(o(0),s(1,E2,2,1,"ng-container",1)(2,I2,33,2,"ng-container",1),f()),c&2){let e=m();a(),r("ngIf",e.movieCastError),a(),r("ngIf",!e.movieCastError)}}var b1=class c{constructor(i,e,z){this.activatedRoute=i;this.movieService=e;this.fb=z}id=0;movieCast=[];loadingCast=!1;orderCastForm=new i1({});activatedRouteParentSubscription;castFound=!1;movieCastError=!1;errorMessage="";ngOnInit(){this.setId(),this.orderCastForm=this.fb.group({orderCast:new a1("1")})}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(i=>{this.id=parseInt(i.id),this.getCast()})}getCast(){this.movieCastError=!1,this.loadingCast=!0,this.movieService.getMovieCast(this.id).then(i=>{this.movieCast=i,this.castFound=!0}).catch(i=>{this.handleError(i)}).finally(()=>{this.loadingCast=!1})}handleError(i){this.movieCastError=!0,this.errorMessage=i.message}reloadCast(i){this.getCast()}changeCastOrder(){switch(this.orderCastForm.value.orderCast){case"1":{this.movieCast.sort((i,e)=>i.order-e.order);break}case"2":{this.movieCast.sort((i,e)=>e.order-i.order);break}case"3":{this.movieCast.sort((i,e)=>i.name.localeCompare(e.name));break}case"4":{this.movieCast.sort((i,e)=>e.name.localeCompare(i.name));break}case"5":{this.movieCast.sort((i,e)=>i.character.localeCompare(e.character));break}case"6":{this.movieCast.sort((i,e)=>e.character.localeCompare(i.character));break}default:break}}ngOnDestroy(){this.activatedRouteParentSubscription?.unsubscribe()}static \u0275fac=function(e){return new(e||c)(u(k),u(w),u(m1))};static \u0275cmp=b({type:c,selectors:[["app-movie-cast"]],standalone:!1,decls:3,vars:2,consts:[[1,"movie-cast"],[4,"ngIf"],["message","Loading cast..."],[3,"reload","errorMessage"],[3,"formGroup"],[1,"row","align-items-center"],["for","orderCast",1,"col-3"],[1,"col-9"],["formControlName","orderCast","id","orderCast","name","orderCast",1,"form-control",3,"change"],["value","0","selected","","disabled",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],[1,"table-responsive"],[1,"table"],["colspan","2"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,z){e&1&&(l(0,"section",0),s(1,w2,2,0,"ng-container",1)(2,P2,3,2,"ng-container",1),n()),e&2&&(a(),r("ngIf",z.loadingCast),a(),r("ngIf",!z.loadingCast))},dependencies:[q,y,I,H,E,l1,o1,f1,r1,e1,c1,n1,t1],encapsulation:2})};var x=c=>["/person",c];function F2(c,i){c&1&&(o(0),p(1,"app-loading-inline",2),f())}function O2(c,i){if(c&1){let e=L();o(0),l(1,"app-movie-error",3),_("reload",function(d){S(e);let g=m(2);return h(g.reloadCrew(d))}),n(),f()}if(c&2){let e=m(2);a(),r("errorMessage",e.errorMessage)}}function q2(c,i){if(c&1&&(o(0),l(1,"a",9),t(2),n(),p(3,"br"),f()),c&2){let e=i.$implicit;a(),r("routerLink",v(2,x,e.id)),a(),M(" ",e.name," ")}}function D2(c,i){if(c&1&&(o(0),l(1,"tr")(2,"td"),t(3,"Directed By:"),n(),l(4,"td"),s(5,q2,4,4,"ng-container",8),n()(),f()),c&2){let e=m(3);a(5),r("ngForOf",e.direction)}}function T2(c,i){if(c&1&&(o(0),l(1,"a",9),t(2),n(),p(3,"br"),f()),c&2){let e=i.$implicit;a(),r("routerLink",v(2,x,e.id)),a(),M(" ",e.name," ")}}function R2(c,i){if(c&1&&(o(0),l(1,"tr")(2,"td"),t(3,"Screenplay By:"),n(),l(4,"td"),s(5,T2,4,4,"ng-container",8),n()(),f()),c&2){let e=m(3);a(5),r("ngForOf",e.writing)}}function A2(c,i){if(c&1&&(o(0),l(1,"a",9),t(2),n(),p(3,"br"),f()),c&2){let e=i.$implicit;a(),r("routerLink",v(2,x,e.id)),a(),M(" ",e.name," ")}}function G2(c,i){if(c&1&&(o(0),l(1,"tr")(2,"td"),t(3,"Based on Work By:"),n(),l(4,"td"),s(5,A2,4,4,"ng-container",8),n()(),f()),c&2){let e=m(3);a(5),r("ngForOf",e.basedOnWorkBy)}}function B2(c,i){if(c&1&&(o(0),l(1,"a",9),t(2),n(),p(3,"br"),f()),c&2){let e=i.$implicit;a(),r("routerLink",v(2,x,e.id)),a(),M(" ",e.name," ")}}function V2(c,i){if(c&1&&(o(0),l(1,"tr")(2,"td"),t(3,"Produced By:"),n(),l(4,"td"),s(5,B2,4,4,"ng-container",8),n()(),f()),c&2){let e=m(3);a(5),r("ngForOf",e.producing)}}function j2(c,i){c&1&&(o(0),t(1,"s"),f())}function H2(c,i){if(c&1&&(o(0),l(1,"a",9),t(2),n(),p(3,"br"),f()),c&2){let e=i.$implicit;a(),r("routerLink",v(2,x,e.id)),a(),M(" ",e.name," ")}}function W2(c,i){if(c&1&&(o(0),l(1,"tr")(2,"td"),t(3," Executive Producer"),s(4,j2,2,0,"ng-container",1),t(5,": "),n(),l(6,"td"),s(7,H2,4,4,"ng-container",8),n()(),f()),c&2){let e=m(3);a(4),r("ngIf",e.executiveProducing.length>1),a(3),r("ngForOf",e.executiveProducing)}}function $2(c,i){c&1&&(o(0),t(1,"s"),f())}function U2(c,i){if(c&1&&(o(0),l(1,"a",9),t(2),n(),p(3,"br"),f()),c&2){let e=i.$implicit;a(),r("routerLink",v(2,x,e.id)),a(),M(" ",e.name," ")}}function Y2(c,i){if(c&1&&(o(0),l(1,"tr")(2,"td"),t(3,"Co-Producer"),s(4,$2,2,0,"ng-container",1),t(5,":"),n(),l(6,"td"),s(7,U2,4,4,"ng-container",8),n()(),f()),c&2){let e=m(3);a(4),r("ngIf",e.coProducing.length>1),a(3),r("ngForOf",e.coProducing)}}function J2(c,i){c&1&&(o(0),t(1,"s"),f())}function K2(c,i){if(c&1&&(o(0),l(1,"a",9),t(2),n(),p(3,"br"),f()),c&2){let e=i.$implicit;a(),r("routerLink",v(2,x,e.id)),a(),M(" ",e.name," ")}}function X2(c,i){if(c&1&&(o(0),l(1,"tr")(2,"td"),t(3," Director"),s(4,J2,2,0,"ng-container",1),t(5," of Photography: "),n(),l(6,"td"),s(7,K2,4,4,"ng-container",8),n()(),f()),c&2){let e=m(3);a(4),r("ngIf",e.directorsOfPhotography.length>1),a(3),r("ngForOf",e.directorsOfPhotography)}}function Q2(c,i){c&1&&(o(0),t(1,"s"),f())}function Z2(c,i){if(c&1&&(o(0),l(1,"a",9),t(2),n(),p(3,"br"),f()),c&2){let e=i.$implicit;a(),r("routerLink",v(2,x,e.id)),a(),M(" ",e.name," ")}}function e3(c,i){if(c&1&&(o(0),l(1,"tr")(2,"td"),t(3," Production Designer"),s(4,Q2,2,0,"ng-container",1),t(5,": "),n(),l(6,"td"),s(7,Z2,4,4,"ng-container",8),n()(),f()),c&2){let e=m(3);a(4),r("ngIf",e.productionDesigners.length>1),a(3),r("ngForOf",e.productionDesigners)}}function c3(c,i){c&1&&(o(0),t(1,"s"),f())}function i3(c,i){if(c&1&&(o(0),l(1,"a",9),t(2),n(),p(3,"br"),f()),c&2){let e=i.$implicit;a(),r("routerLink",v(2,x,e.id)),a(),M(" ",e.name," ")}}function a3(c,i){if(c&1&&(o(0),l(1,"tr")(2,"td"),t(3,"Editor"),s(4,c3,2,0,"ng-container",1),t(5,":"),n(),l(6,"td"),s(7,i3,4,4,"ng-container",8),n()(),f()),c&2){let e=m(3);a(4),r("ngIf",e.editors.length>1),a(3),r("ngForOf",e.editors)}}function l3(c,i){if(c&1&&(o(0),l(1,"a",9),t(2),n(),p(3,"br"),f()),c&2){let e=i.$implicit;a(),r("routerLink",v(2,x,e.id)),a(),M(" ",e.name," ")}}function n3(c,i){if(c&1&&(o(0),l(1,"tr")(2,"td"),t(3,"Music By:"),n(),l(4,"td"),s(5,l3,4,4,"ng-container",8),n()(),f()),c&2){let e=m(3);a(5),r("ngForOf",e.musicComposers)}}function t3(c,i){if(c&1&&(o(0),l(1,"a",9),t(2),n(),p(3,"br"),f()),c&2){let e=i.$implicit;a(),r("routerLink",v(2,x,e.id)),a(),M(" ",e.name," ")}}function r3(c,i){if(c&1&&(o(0),l(1,"tr")(2,"td"),t(3,"Additional Music By:"),n(),l(4,"td"),s(5,t3,4,4,"ng-container",8),n()(),f()),c&2){let e=m(3);a(5),r("ngForOf",e.additionalMusicComposers)}}function o3(c,i){c&1&&(o(0),t(1,"s"),f())}function f3(c,i){if(c&1&&(o(0),l(1,"a",9),t(2),n(),p(3,"br"),f()),c&2){let e=i.$implicit;a(),r("routerLink",v(2,x,e.id)),a(),M(" ",e.name," ")}}function m3(c,i){if(c&1&&(o(0),l(1,"tr")(2,"td"),t(3," Visual Effects Supervisor"),s(4,o3,2,0,"ng-container",1),t(5,": "),n(),l(6,"td"),s(7,f3,4,4,"ng-container",8),n()(),f()),c&2){let e=m(3);a(4),r("ngIf",e.visualEffectsSupervisors.length>1),a(3),r("ngForOf",e.visualEffectsSupervisors)}}function s3(c,i){c&1&&(o(0),t(1,"s"),f())}function z3(c,i){if(c&1&&(o(0),l(1,"a",9),t(2),n(),p(3,"br"),f()),c&2){let e=i.$implicit;a(),r("routerLink",v(2,x,e.id)),a(),M(" ",e.name," ")}}function p3(c,i){if(c&1&&(o(0),l(1,"tr")(2,"td"),t(3," Costume Designer"),s(4,s3,2,0,"ng-container",1),t(5,": "),n(),l(6,"td"),s(7,z3,4,4,"ng-container",8),n()(),f()),c&2){let e=m(3);a(4),r("ngIf",e.costumeDesigners.length>1),a(3),r("ngForOf",e.costumeDesigners)}}function M3(c,i){if(c&1&&(o(0),l(1,"a",9),t(2),n(),p(3,"br"),f()),c&2){let e=i.$implicit;a(),r("routerLink",v(2,x,e.id)),a(),M(" ",e.name," ")}}function v3(c,i){if(c&1&&(o(0),l(1,"tr")(2,"td"),t(3,"Casting By:"),n(),l(4,"td"),s(5,M3,4,4,"ng-container",8),n()(),f()),c&2){let e=m(3);a(5),r("ngForOf",e.castingCrew)}}function d3(c,i){if(c&1&&(o(0),l(1,"h2"),t(2,"Featured Crew"),n(),l(3,"div",4)(4,"table",5)(5,"tbody"),s(6,D2,6,1,"ng-container",1)(7,R2,6,1,"ng-container",1)(8,G2,6,1,"ng-container",1)(9,V2,6,1,"ng-container",1)(10,W2,8,2,"ng-container",1)(11,Y2,8,2,"ng-container",1)(12,X2,8,2,"ng-container",1)(13,e3,8,2,"ng-container",1)(14,a3,8,2,"ng-container",1)(15,n3,6,1,"ng-container",1)(16,r3,6,1,"ng-container",1)(17,m3,8,2,"ng-container",1)(18,p3,8,2,"ng-container",1)(19,v3,6,1,"ng-container",1),n()()(),l(20,"div",6)(21,"a",7),t(22," See Full Crew "),n()(),f()),c&2){let e=m(2);a(6),r("ngIf",e.direction.length>0),a(),r("ngIf",e.writing.length>0),a(),r("ngIf",e.basedOnWorkBy.length>0),a(),r("ngIf",e.producing.length>0),a(),r("ngIf",e.executiveProducing.length>0),a(),r("ngIf",e.coProducing.length>0),a(),r("ngIf",e.directorsOfPhotography.length>0),a(),r("ngIf",e.productionDesigners.length>0),a(),r("ngIf",e.editors.length>0),a(),r("ngIf",e.musicComposers.length>0),a(),r("ngIf",e.additionalMusicComposers.length>0),a(),r("ngIf",e.visualEffectsSupervisors.length>0),a(),r("ngIf",e.costumeDesigners.length>0),a(),r("ngIf",e.castingCrew.length>0)}}function u3(c,i){if(c&1&&(o(0),s(1,O2,2,1,"ng-container",1)(2,d3,23,14,"ng-container",1),f()),c&2){let e=m();a(),r("ngIf",e.movieCrewError),a(),r("ngIf",!e.movieCrewError)}}var g1=class c{constructor(i,e){this.activatedRoute=i;this.movieService=e}id=0;movieCrew=[];direction=[];writing=[];basedOnWorkBy=[];producing=[];executiveProducing=[];coProducing=[];directorsOfPhotography=[];productionDesigners=[];editors=[];musicComposers=[];additionalMusicComposers=[];visualEffectsSupervisors=[];costumeDesigners=[];castingCrew=[];loadingCrew=!1;activatedRouteParentSubscription;crewFound=!1;movieCrewError=!1;errorMessage="";ngOnInit(){this.setId()}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(i=>{this.id=parseInt(i.id),this.getCrew()})}getCrew(){this.movieCrewError=!1,this.loadingCrew=!0,this.movieService.getMovieCrew(this.id).then(i=>{this.movieCrew=i,this.filterCrew()}).catch(i=>{this.handleError(i)}).finally(()=>{this.loadingCrew=!1})}handleError(i){this.movieCrewError=!0,this.errorMessage=i.message}reloadCrew(i){this.getCrew()}filterCrew(){this.direction=this.movieCrew.filter(i=>i.job=="Director"),this.writing=this.movieCrew.filter(i=>i.job=="Screenplay"),this.basedOnWorkBy=this.movieCrew.filter(i=>i.job=="Novel"),this.producing=this.movieCrew.filter(i=>i.job=="Producer"),this.executiveProducing=this.movieCrew.filter(i=>i.job=="Executive Producer"),this.coProducing=this.movieCrew.filter(i=>i.job=="Co-Producer"),this.directorsOfPhotography=this.movieCrew.filter(i=>i.job=="Director of Photography"),this.productionDesigners=this.movieCrew.filter(i=>i.job=="Production Design"),this.editors=this.movieCrew.filter(i=>i.job=="Editor"),this.musicComposers=this.movieCrew.filter(i=>i.job=="Original Music Composer"),this.additionalMusicComposers=this.movieCrew.filter(i=>i.job=="Additional Music"),this.visualEffectsSupervisors=this.movieCrew.filter(i=>i.job=="Visual Effects Supervisor"),this.costumeDesigners=this.movieCrew.filter(i=>i.job=="Costume Design"),this.castingCrew=this.movieCrew.filter(i=>i.job=="Casting")}ngOnDestroy(){this.activatedRouteParentSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||c)(u(k),u(w))};static \u0275cmp=b({type:c,selectors:[["app-movie-crew"]],standalone:!1,decls:3,vars:2,consts:[[1,"movie-crew"],[4,"ngIf"],["message","Loading crew..."],[3,"reload","errorMessage"],[1,"table-responsive"],[1,"table"],[1,"d-grid"],["routerLink","../full-crew",1,"btn","btn-primary","mb-2"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,z){e&1&&(l(0,"section",0),s(1,F2,2,0,"ng-container",1)(2,u3,3,2,"ng-container",1),n()),e&2&&(a(),r("ngIf",z.loadingCrew),a(),r("ngIf",!z.loadingCrew))},dependencies:[q,y,I,H,E],encapsulation:2})};var b3=c=>["/person",c];function g3(c,i){c&1&&(o(0),p(1,"app-loading-inline",2),f())}function _3(c,i){if(c&1){let e=L();o(0),l(1,"app-movie-error",3),_("reload",function(d){S(e);let g=m(2);return h(g.reloadFullCrew(d))}),n(),f()}if(c&2){let e=m(2);a(),r("errorMessage",e.errorMessage)}}function C3(c,i){if(c&1&&(l(0,"tr")(1,"td")(2,"a",17),t(3),n()(),l(4,"td"),t(5),n()()),c&2){let e=i.$implicit;a(2),r("routerLink",v(3,b3,e.id)),a(),M(" ",e.name," "),a(2),N(e.job)}}function x3(c,i){if(c&1){let e=L();o(0),l(1,"h2"),t(2,"Full Crew"),n(),l(3,"form",4)(4,"div",5)(5,"label",6),t(6,"Order by"),n(),l(7,"div",7)(8,"select",8),_("change",function(){S(e);let d=m(2);return h(d.changeCrewOrder())}),l(9,"option",9),t(10,"Select an order criteria"),n(),l(11,"option",10),t(12,"Name (ascending)"),n(),l(13,"option",11),t(14,"Name (descending)"),n(),l(15,"option",12),t(16,"Role (ascending)"),n(),l(17,"option",13),t(18,"Role (descending)"),n()()()()(),p(19,"hr"),l(20,"div",14)(21,"table",15)(22,"thead")(23,"tr")(24,"th"),t(25,"Name"),n(),l(26,"th"),t(27,"Role"),n()()(),l(28,"tbody"),s(29,C3,6,5,"tr",16),n()()(),f()}if(c&2){let e=m(2);a(3),r("formGroup",e.orderForm),a(26),r("ngForOf",e.movieFullCrew)}}function S3(c,i){if(c&1&&(o(0),s(1,_3,2,1,"ng-container",1)(2,x3,30,2,"ng-container",1),f()),c&2){let e=m();a(),r("ngIf",e.movieFullCrewError),a(),r("ngIf",!e.movieFullCrewError)}}var _1=class c{constructor(i,e,z){this.activatedRoute=i;this.movieService=e;this.fb=z}id=0;originalMovieFullCrew=[];movieFullCrew=[];loadingFullCrew=!1;activatedRouteParentSubscription;orderForm=new i1({});fullCrewFound=!1;movieFullCrewError=!1;errorMessage="";ngOnInit(){this.setId(),this.orderForm=this.fb.group({orderCrew:new a1("0")})}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(i=>{this.id=parseInt(i.id),this.getFullCrew()})}getFullCrew(){this.movieFullCrewError=!1,this.loadingFullCrew=!0,this.movieService.getMovieCrew(this.id).then(i=>{this.originalMovieFullCrew=i,this.movieFullCrew=i}).catch(i=>{this.handleError(i)}).finally(()=>{this.loadingFullCrew=!1})}handleError(i){this.movieFullCrewError=!0,this.errorMessage=i.message}reloadFullCrew(i){this.getFullCrew()}changeCrewOrder(){switch(this.orderForm.value.orderCrew){case"1":{this.movieFullCrew.sort((i,e)=>i.name.localeCompare(e.name));break}case"2":{this.movieFullCrew.sort((i,e)=>e.name.localeCompare(i.name));break}case"3":{this.movieFullCrew.sort((i,e)=>i.job.localeCompare(e.job));break}case"4":{this.movieFullCrew.sort((i,e)=>e.job.localeCompare(i.job));break}}}ngOnDestroy(){this.activatedRouteParentSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||c)(u(k),u(w),u(m1))};static \u0275cmp=b({type:c,selectors:[["app-movie-full-crew"]],standalone:!1,decls:3,vars:2,consts:[[1,"movie-full-crew"],[4,"ngIf"],["message","Loading full crew..."],[3,"reload","errorMessage"],[3,"formGroup"],[1,"row","align-items-center"],["for","orderCrew",1,"col-3"],[1,"col-9"],["formControlName","orderCrew","id","orderCrew","name","orderCrew",1,"form-control",3,"change"],["value","0","selected","","disabled",""],["value","1"],["value","2"],["value","3"],["value","4"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],["href","",3,"routerLink"]],template:function(e,z){e&1&&(l(0,"section",0),s(1,g3,2,0,"ng-container",1)(2,S3,3,2,"ng-container",1),n()),e&2&&(a(),r("ngIf",z.loadingFullCrew),a(),r("ngIf",!z.loadingFullCrew))},dependencies:[q,y,I,H,E,l1,o1,f1,r1,e1,c1,n1,t1],encapsulation:2})};var C1=class{id;cast;crew;constructor(){this.id=0,this.cast=[],this.crew=[]}};var x1=class{id;results;constructor(){this.id=0,this.results=[]}};var i2={prefix:"fab",iconName:"imdb",icon:[448,512,[],"f2d8","M89.5 323.6l-35.6 0 0-137.4 35.6 0 0 137.4zm66.6-73.1l9.1-64.3 46.3 0 0 137.4-31 0 0-92.7-13.4 92.7-21.3 0-13-90.7-.1 90.7-31.2 0 0-137.4 46.1 0c.5 8.3 2.8 18.1 4.3 29.4l4.2 34.9zm67.6 73.1l0-137.4 26.6 0c17 0 27 .9 33 2.4 6.1 1.7 10.7 4.2 13.9 7.9 3.1 3.3 5.1 6.6 5.8 12 .9 4.4 1.4 13.1 1.4 26.2l0 48.2c0 12.3-.7 20.5-1.9 24.7-1.1 4.1-3.1 7.4-6 9.7-2.8 2.4-6.4 4.1-10.7 5-4.2 .8-10.6 1.3-19.1 1.3l-43 0zm35.5-113.9l0 89.4c5.1 0 8.3-1 9.4-2.3 1.1-2 1.8-7.6 1.8-16.7l0-53.3c0-6.2-.1-10.2-.7-12-.3-1.8-1.2-3-2.6-4.7-1.4 0-4.1-.4-7.9-.4zm57.3 113.9l0-137.4 34.1 0 0 43.9c2.9-2.4 6.1-4.9 9.5-6.6 3.6-1.5 8.8-2.4 12.8-2.4 4.8 0 8.9 .8 12.3 2.2 3.4 1.5 6 3.5 8 6.2 1.7 2.6 2.7 5.3 3.1 7.8 .4 2.6-.2 8-.2 16.2l0 38.6c0 8.2 .2 14.3-.8 18.4-1.1 4-3.8 7.6-7.8 9.6-4.1 3.9-8.9 5.3-14.6 5.3-4 0-9.2-.9-12.7-2.5-3.5-1.8-6.7-4.5-9.6-8l-2.1 8.7-32 0zm45.1-20.7c.7-1.8 1-6 1-12.5l0-35.4c0-5.6-.3-9.5-1.1-11.2-.7-1.9-3.7-2.7-5.8-2.7-2 0-3.4 .8-4.1 2.3-.6 1.5-1 5.4-1 11.6l0 36.4c0 6.1 .4 10 1.2 11.6 .6 1.7 2.1 2.5 4.1 2.5 2.2 0 4.2-.8 5.7-2.6zM418.4 32c15.7 1.2 28.7 15.2 28.7 31.9l0 384.2c0 16.4-11.9 30.4-28.2 31-.3 0-.5 .9-.8 .9L29.9 480c-.3 0-.6-.9-.8-.1-15.7-1.4-27.9-13.8-29-30.2L0 61.8C1.1 45.9 13.8 33.1 30.3 31.1l387.4 0c.2 0 .5 .9 .7 .9zM30.3 41.3C19 42 10 51 9.3 62.4l0 387.3c.4 5.4 2.7 10.5 6.4 14.3 3.8 3.9 8.8 6.3 14.2 6.7l388.2 0c11.5-1 20.6-11.6 20.6-22.6l0-384.2c0-5.7-2.1-11.3-6-15.5s-9.3-6.8-15-7.2l-387.4 0z"]};var h3=c=>["/movie",c,"cast"],L3=c=>["/movie",c,"crew"],N3=c=>["/movie",c,"full-crew"];function y3(c,i){c&1&&(o(0),p(1,"app-loading-fullscreen",2),f())}function w3(c,i){if(c&1){let e=L();o(0),l(1,"app-movie-error",3),_("reload",function(d){S(e);let g=m(2);return h(g.reloadMovieOverview(d))}),n(),f()}if(c&2){let e=m(2);a(),r("errorMessage",e.errorMessage)}}function E3(c,i){if(c&1&&(o(0),l(1,"section",8)(2,"p"),t(3),n()(),f()),c&2){let e=m(3);a(3),N(e.movie.tagline)}}function k3(c,i){if(c&1&&(o(0),l(1,"section",0)(2,"p"),t(3),n()(),p(4,"hr"),f()),c&2){let e=m(3);a(3),N(e.movie.overview)}}function I3(c,i){if(c&1&&(o(0),l(1,"section",9)(2,"h3"),t(3,"Main Cast"),n(),l(4,"div",10)(5,"table",6)(6,"tbody")(7,"tr")(8,"td"),t(9,"Starring:"),n(),l(10,"td"),t(11,"..."),n()()()()(),l(12,"div",11)(13,"a",12),t(14," See Full Cast "),n()()(),p(15,"hr"),l(16,"section",13)(17,"h3"),t(18,"Main Crew"),n(),l(19,"div",10)(20,"table",6)(21,"tbody")(22,"tr")(23,"td"),t(24,"Directed By:"),n(),l(25,"td"),t(26,"..."),n()(),l(27,"tr")(28,"td"),t(29,"Written By:"),n(),l(30,"td"),t(31,"..."),n()(),l(32,"tr")(33,"td"),t(34,"Based on the Work and/or Characters By (if applies):"),n(),l(35,"td"),t(36,"..."),n()(),l(37,"tr")(38,"td"),t(39,"Produced By:"),n(),l(40,"td"),t(41,"..."),n()(),l(42,"tr")(43,"td"),t(44,"Starring:"),n(),l(45,"td"),t(46,"..."),n()()()()(),l(47,"div",14)(48,"div",15)(49,"div",11)(50,"a",12),t(51," See Featured Crew"),n()()(),l(52,"div",15)(53,"div",11)(54,"a",12),t(55," See Full Crew"),n()()()()(),p(56,"hr"),f()),c&2){let e=m(3);a(13),r("routerLink",v(3,h3,e.movie.id)),a(37),r("routerLink",v(5,L3,e.movie.id)),a(4),r("routerLink",v(7,N3,e.movie.id))}}function P3(c,i){c&1&&(o(0),l(1,"section",16)(2,"h3"),t(3,"Video"),n(),l(4,"p"),t(5,"Here goes video"),n()(),p(6,"hr"),f())}function F3(c,i){if(c&1&&(o(0),s(1,P3,7,0,"ng-container",1),f()),c&2){let e=m(3);a(),r("ngIf",e.responseVideo.results.length>0)}}function O3(c,i){c&1&&(o(0),t(1,"s"),f())}function q3(c,i){if(c&1&&(o(0),t(1),p(2,"br"),f()),c&2){let e=i.$implicit;a(),M(" ",e.name," ")}}function D3(c,i){if(c&1&&(o(0),l(1,"tr")(2,"td"),t(3,"Genre"),s(4,O3,2,0,"ng-container",1),t(5,":"),n(),l(6,"td"),s(7,q3,3,1,"ng-container",17),n()(),f()),c&2){let e=m(3);a(4),r("ngIf",e.movie.genres.length>1),a(3),r("ngForOf",e.movie.genres)}}function T3(c,i){c&1&&(o(0),t(1,"y"),f())}function R3(c,i){c&1&&(o(0),t(1,"ies"),f())}function A3(c,i){if(c&1&&(o(0),t(1),p(2,"br"),f()),c&2){let e=i.$implicit;a(),M(" ",e.name," ")}}function G3(c,i){if(c&1&&(o(0),l(1,"tr")(2,"td"),t(3," Production Compan"),s(4,T3,2,0,"ng-container",1)(5,R3,2,0,"ng-container",1),t(6,": "),n(),l(7,"td"),s(8,A3,3,1,"ng-container",17),n()(),f()),c&2){let e=m(3);a(4),r("ngIf",e.movie.production_companies.length==1),a(),r("ngIf",e.movie.production_companies.length>1),a(3),r("ngForOf",e.movie.production_companies)}}function B3(c,i){c&1&&(o(0),t(1,"y"),f())}function V3(c,i){c&1&&(o(0),t(1,"ies"),f())}function j3(c,i){if(c&1&&(o(0),t(1),p(2,"br"),f()),c&2){let e=i.$implicit;a(),M(" ",e.name," ")}}function H3(c,i){if(c&1&&(o(0),l(1,"tr")(2,"td"),t(3," Production Countr"),s(4,B3,2,0,"ng-container",1)(5,V3,2,0,"ng-container",1),t(6,": "),n(),l(7,"td"),s(8,j3,3,1,"ng-container",17),n()(),f()),c&2){let e=m(3);a(4),r("ngIf",e.movie.production_countries.length==1),a(),r("ngIf",e.movie.production_countries.length>1),a(3),r("ngForOf",e.movie.production_countries)}}function W3(c,i){if(c&1&&(o(0),l(1,"tr")(2,"td"),t(3,"Runtime:"),n(),l(4,"td"),t(5),n()(),f()),c&2){let e=m(3);a(5),M("",e.movie.runtime," min")}}function $3(c,i){if(c&1&&(o(0),l(1,"tr")(2,"td"),t(3,"Budget:"),n(),l(4,"td"),t(5),V(6,"currency"),n()(),f()),c&2){let e=m(3);a(5),M("USD ",w1(6,1,e.movie.budget,"USD","symbol","1.0"))}}function U3(c,i){if(c&1&&(o(0),l(1,"tr")(2,"td"),t(3,"Box Office:"),n(),l(4,"td"),t(5),V(6,"currency"),n()(),f()),c&2){let e=m(3);a(5),M("USD ",w1(6,1,e.movie.revenue,"USD","symbol","1.0"))}}function Y3(c,i){if(c&1&&(o(0),l(1,"div",11)(2,"a",18),p(3,"fa-icon",19),t(4," View IMDB "),n()(),f()),c&2){let e=m(3);a(2),r("href",e.movieIMDB,B),a(),r("icon",e.imdbIcon)}}function J3(c,i){if(c&1&&(o(0),l(1,"div",11)(2,"a",18),p(3,"fa-icon",19),t(4," View Homepage "),n()(),f()),c&2){let e=m(3);a(2),r("href",e.movieHomepage,B),a(),r("icon",e.globeIcon)}}function K3(c,i){if(c&1&&(o(0),s(1,E3,4,1,"ng-container",1)(2,k3,5,1,"ng-container",1)(3,I3,57,9,"ng-container",1)(4,F3,2,1,"ng-container",1),l(5,"section",4)(6,"h3"),t(7,"Movie Info"),n(),l(8,"div",5)(9,"table",6)(10,"tbody"),s(11,D3,8,2,"ng-container",1)(12,G3,9,3,"ng-container",1)(13,H3,9,3,"ng-container",1),o(14),l(15,"tr")(16,"td"),t(17,"Release Date:"),n(),l(18,"td"),t(19),V(20,"date"),n()(),f(),s(21,W3,6,1,"ng-container",1)(22,$3,7,6,"ng-container",1)(23,U3,7,6,"ng-container",1),n()()()(),p(24,"hr"),l(25,"section",7)(26,"h3"),t(27,"External Links"),n(),s(28,Y3,5,2,"ng-container",1)(29,J3,5,2,"ng-container",1),n(),f()),c&2){let e=m(2);a(),r("ngIf",e.movie.tagline),a(),r("ngIf",e.movie.overview),a(),r("ngIf",!e.loadingCredits),a(),r("ngIf",!e.loadingVideo),a(7),r("ngIf",e.movie.genres.length>0),a(),r("ngIf",e.movie.production_companies.length>0),a(),r("ngIf",e.movie.production_countries.length>0),a(6),N(T1(20,13,e.movieReleaseDate,"longDate")),a(2),r("ngIf",e.movie.runtime&&e.movie.runtime>0),a(),r("ngIf",e.movie.budget&&e.movie.budget>0),a(),r("ngIf",e.movie.revenue&&e.movie.revenue>0),a(5),r("ngIf",e.movie.imdb_id),a(),r("ngIf",e.movie.homepage)}}function X3(c,i){if(c&1&&(o(0),s(1,w3,2,1,"ng-container",1)(2,K3,30,16,"ng-container",1),f()),c&2){let e=m();a(),r("ngIf",e.movieOverviewError),a(),r("ngIf",!e.movieOverviewError)}}var S1=class c{constructor(i,e,z){this.activatedRoute=i;this.movieService=e;this.localStorageService=z}imdbIcon=i2;globeIcon=J1;id=0;movie=new T;credits=new C1;responseVideo=new x1;movieReleaseDate=new Date;movieIMDB="";movieHomepage="";loadingMovie=!1;movieFound=!1;movieOverviewError=!1;errorMessage="";loadingCredits=!1;loadingVideo=!1;activatedRouteParentSubscription;ngOnInit(){this.setId()}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(i=>{this.id=parseInt(i.id),this.getMovie(),this.getCredits(),this.getVideo()})}getMovie(){this.movieOverviewError=!1,this.loadingMovie=!0;let i=this.localStorageService.getItem("movie");i?(this.movie=i,this.loadingMovie=!1,this.setReleaseDate(),this.setMovieIMDB(),this.setMovieHomepage()):this.movieService.getMovie(this.id).then(e=>{this.movie=e,this.movieFound=!0,this.setReleaseDate(),this.setMovieIMDB(),this.setMovieHomepage()}).catch(e=>{this.handleError(e)}).finally(()=>{this.loadingMovie=!1})}getCredits(){this.loadingCredits=!0,this.movieService.getMovieCredits(this.id).then(i=>{this.credits=i}).catch(i=>{}).finally(()=>{this.loadingCredits=!1})}getVideo(){this.loadingVideo=!0,this.movieService.getMovieVideos(this.id).then(i=>{this.responseVideo=i}).catch(i=>{}).finally(()=>{this.loadingVideo=!1})}setReleaseDate(){this.movie.release_date&&(this.movieReleaseDate=new Date(this.movie.release_date))}setMovieIMDB(){this.movie.imdb_id&&(this.movieIMDB=`https://www.imdb.com/title/${this.movie.imdb_id}/`)}setMovieHomepage(){this.movie.homepage&&(this.movieHomepage=`${this.movie.homepage}`)}handleError(i){this.movieOverviewError=!0,this.errorMessage=i.message}reloadMovieOverview(i){this.getMovie()}ngOnDestroy(){this.activatedRouteParentSubscription?.unsubscribe()}static \u0275fac=function(e){return new(e||c)(u(k),u(w),u(X))};static \u0275cmp=b({type:c,selectors:[["app-movie-overview"]],standalone:!1,decls:3,vars:2,consts:[[1,"movie-overview"],[4,"ngIf"],["message","Loading movie..."],[3,"reload","errorMessage"],[1,"movie-info"],[1,"table","table-responsive"],[1,"table"],[1,"movie-external-links"],[1,"movie-tagline"],[1,"movie-main-cast"],[1,"table-responsive"],[1,"d-grid","mb-2"],[1,"btn","btn-primary",3,"routerLink"],[1,"movie-main-crew"],[1,"row"],[1,"col-12","col-lg-6"],[1,"movie-video"],[4,"ngFor","ngForOf"],["target","_blank",1,"btn","btn-primary",3,"href"],[3,"icon"]],template:function(e,z){e&1&&(l(0,"section",0),s(1,y3,2,0,"ng-container",1)(2,X3,3,2,"ng-container",1),n()),e&2&&(a(),r("ngIf",z.loadingMovie),a(),r("ngIf",!z.loadingMovie))},dependencies:[q,y,I,Z,E,P,G1,A1],styles:[".movie-overview[_ngcontent-%COMP%]   .movie-tagline[_ngcontent-%COMP%]{font-style:italic;margin-bottom:1rem}.movie-overview[_ngcontent-%COMP%]   .movie-overview[_ngcontent-%COMP%], .movie-overview[_ngcontent-%COMP%]   .movie-main-cast[_ngcontent-%COMP%], .movie-overview[_ngcontent-%COMP%]   .movie-main-crew[_ngcontent-%COMP%], .movie-overview[_ngcontent-%COMP%]   .movie-info[_ngcontent-%COMP%]{margin-bottom:1rem}"]})};var Q3=[{path:":id",component:d1,children:[{path:"overview",component:S1,pathMatch:"full"},{path:"cast",component:b1,pathMatch:"full"},{path:"crew",component:g1,pathMatch:"full"},{path:"full-crew",component:_1,pathMatch:"full"},{path:"",redirectTo:"overview",pathMatch:"full"}]}],h1=class c{static \u0275fac=function(e){return new(e||c)};static \u0275mod=O({type:c});static \u0275inj=F({imports:[E1.forChild(Q3),E1]})};var L1=class c{static \u0275fac=function(e){return new(e||c)};static \u0275mod=O({type:c});static \u0275inj=F({imports:[j,Q]})};var N1=class c{static \u0275fac=function(e){return new(e||c)};static \u0275mod=O({type:c});static \u0275inj=F({imports:[j]})};var a2=class c{static \u0275fac=function(e){return new(e||c)};static \u0275mod=O({type:c});static \u0275inj=F({imports:[j,h1,Z1,L1,e2,X1,Q1,N1,Q]})};export{a2 as MovieModule};

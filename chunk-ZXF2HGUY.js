import{a as Re,b as Q,c as Oe}from"./chunk-YLQNPUGM.js";import{A as x,B as m,C as fe,D as ue,E as ve,F as I,G as o,H as u,I as h,K as he,L as Ce,M as be,Ma as Te,N as F,Na as Ne,Oa as De,Pa as Fe,Q as k,Qa as ke,R as Pe,Ra as Ye,S as xe,Sa as Ae,T as C,Ta as K,U as B,Ua as W,W as $,Z as ye,a as ce,b as le,ba as Y,ca as Ie,d as de,da as A,e as N,ea as we,f as ge,fa as T,g as E,ga as Se,h as R,ha as y,k as _e,ka as z,l as i,m as P,n as f,o as D,oa as Me,pa as Ee,q as d,r as V,s as r,sa as H,t as a,ta as U,u as p,v as g,w as c,x as l,z as O}from"./chunk-I72IWMWW.js";var w=class{adult;also_known_as;biography;birthday;deathday;gender;homepage;id;imdb_id;known_for_department;name;place_of_birth;popularity;profile_path;constructor(){this.adult=!1,this.also_known_as=[],this.biography="",this.birthday="",this.deathday="",this.gender=1,this.homepage=null,this.id=0,this.imdb_id="",this.known_for_department="",this.name="",this.place_of_birth="",this.popularity=0,this.profile_path=""}};var S=class e{constructor(n){this.http=n}getPerson(n){return ce(this,null,function*(){return yield le(this.http.get(`/person/${n}`))})}getCredits(n){return ce(this,null,function*(){return yield le(this.http.get(`/person/${n}/movie_credits`))})}static \u0275fac=function(t){return new(t||e)(ge(ye))};static \u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"})};var q=class e{repeat=z;errorMessage="";reload=new V;ngOnInit(){}pressReload(){this.reload.emit(!0)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["app-person-error-fullscreen"]],inputs:{errorMessage:"errorMessage"},outputs:{reload:"reload"},standalone:!1,decls:11,vars:2,consts:[[1,"person-error-fullscreen"],[1,"person-error-description"],["type","button",1,"btn","btn-primary",3,"click"],[3,"icon"]],template:function(t,s){t&1&&(a(0,"section",0)(1,"div",1)(2,"h1"),o(3,"Person Service Error"),p(),a(4,"p"),o(5,"There was an error trying to get person info: "),a(6,"strong"),o(7),p()(),a(8,"button",2),x("click",function(){return s.pressReload()}),g(9,"fa-icon",3),o(10," Reload "),p()()()),t&2&&(i(7),u(s.errorMessage),i(2),r("icon",s.repeat))},dependencies:[H],styles:[".person-error-fullscreen[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}.person-error-fullscreen[_ngcontent-%COMP%]   .person-error-description[_ngcontent-%COMP%]{text-align:center;border:1px solid black;padding:1rem 2rem}.person-error-fullscreen[_ngcontent-%COMP%]   .person-error-description[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};var G=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["app-person-not-found"]],standalone:!1,decls:6,vars:0,consts:[[1,"person-not-found"],[1,"person-not-found-description"]],template:function(t,s){t&1&&(a(0,"section",0)(1,"div",1)(2,"h1"),o(3,"Person Not Found"),p(),a(4,"p"),o(5,"No person was found with this ID. Try another one :)"),p()()())},styles:[".person-not-found[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}.person-not-found[_ngcontent-%COMP%]   .person-not-found-description[_ngcontent-%COMP%]{text-align:center;border:1px solid black;padding:1rem 2rem}"]})};function ze(e,n){if(e&1&&(c(0),o(1),l()),e&2){let t=m(2);i(),u(t.deathYear)}}function Ue(e,n){if(e&1&&(c(0),o(1),d(2,ze,2,1,"ng-container",6),o(3,") "),l()),e&2){let t=m();i(),h(" (",t.birthYear," - "),i(),r("ngIf",t.person.deathday)}}var J=class e{user=Me;film=Ee;id=0;person=new w;name="";birthYear=0;deathYear=0;knownFor="";profileImg="";profileImgAltText="";constructor(){}ngOnInit(){this.setName(),this.setBirthYear(),this.setDeathDay(),this.setKnownFor(),this.setProfileImg()}setName(){this.person.name&&(this.name=this.person.name)}setBirthYear(){if(this.person.birthday){let n=new Date(this.person.birthday);this.birthYear=n.getFullYear()}}setDeathDay(){if(this.person.deathday){let n=new Date(this.person.deathday);this.deathYear=n.getFullYear()}}setKnownFor(){this.person.known_for_department&&(this.knownFor=this.person.known_for_department)}setProfileImg(){this.profileImg=this.person.profile_path?`${y.imgUrl}${y.profileSizeSmall}${this.person.profile_path}`:"img/default-images/profile_image_notavailable_w185.png",this.profileImgAltText=this.person.profile_path?`Profile path for ${this.person.name}`:`Profile path for ${this.person.name} is not available`}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["app-person-header"]],inputs:{id:"id",person:"person"},standalone:!1,decls:14,vars:7,consts:[[1,"person-header"],[1,"row","align-items-lg-center"],[1,"col-12","col-lg-2"],[1,"person-header-profile-img",3,"src","alt"],[1,"col-12","col-lg-10"],[3,"icon"],[4,"ngIf"]],template:function(t,s){t&1&&(a(0,"section",0)(1,"header")(2,"div",1)(3,"div",2),g(4,"img",3),p(),a(5,"div",4)(6,"h1"),g(7,"fa-icon",5),o(8),a(9,"small"),d(10,Ue,4,2,"ng-container",6),p()(),a(11,"h2"),g(12,"fa-icon",5),o(13),p()()()()()),t&2&&(i(4),r("src",s.profileImg,_e)("alt",s.profileImgAltText),i(3),r("icon",s.user),i(),h(" ",s.name," "),i(2),r("ngIf",s.person.birthday||s.person.deathday),i(2),r("icon",s.film),i(),h(" Known for: ",s.knownFor))},dependencies:[C,H],styles:[".person-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{background-color:#ccc;padding:5rem 1rem 1rem}.person-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .person-header-profile-img[_ngcontent-%COMP%]{border:1px solid black;box-shadow:1px 1px 5px #000}@media screen and (max-width: 767px){.person-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .person-header-profile-img[_ngcontent-%COMP%]{margin-bottom:1rem}}"]})};var Ke=["personHeader"];function We(e,n){e&1&&(c(0),g(1,"app-loading-fullscreen",3),l())}function qe(e,n){e&1&&(c(0),g(1,"app-loading-fullscreen",4),l())}function Ge(e,n){e&1&&(c(0),g(1,"app-person-not-found"),l())}function Je(e,n){if(e&1){let t=O();c(0),a(1,"app-person-error-fullscreen",5),x("reload",function(_){E(t);let v=m(4);return R(v.reloadPerson(_))}),p(),l()}if(e&2){let t=m(4);i(),r("errorMessage",t.errorMessage)}}function Xe(e,n){if(e&1&&(c(0),d(1,Ge,2,0,"ng-container",2)(2,Je,2,1,"ng-container",2),l()),e&2){let t=m(3);i(),r("ngIf",t.personNotFound),i(),r("ngIf",!t.personNotFound)}}function Ze(e,n){if(e&1&&(c(0),g(1,"app-person-header",6,0),a(3,"main")(4,"nav",7)(5,"div",8)(6,"ul",9)(7,"li",10)(8,"a",11),o(9," Overview "),p()(),a(10,"li",10)(11,"a",12),o(12,"Movie Credits"),p()()()()(),a(13,"div",8)(14,"div",13)(15,"div",14),g(16,"router-outlet"),p(),a(17,"div",15)(18,"aside",16),o(19,"Aside 2"),p()()()()(),l()),e&2){let t=m(3);i(),r("id",t.id)("person",t.person)}}function et(e,n){if(e&1&&(c(0),d(1,Xe,3,2,"ng-container",2)(2,Ze,20,2,"ng-container",2),l()),e&2){let t=m(2);i(),r("ngIf",t.personError),i(),r("ngIf",!t.personError)}}function tt(e,n){if(e&1&&(c(0),d(1,qe,2,0,"ng-container",2)(2,et,3,2,"ng-container",2),l()),e&2){let t=m();i(),r("ngIf",t.loadingPerson),i(),r("ngIf",!t.loadingPerson)}}var X=class e{constructor(n,t,s,_){this.activatedRoute=n;this.titleService=t;this.personService=s;this.cd=_}id=0;person=new w;loadingView=!0;loadingPerson=!1;personNotFound=!1;personError=!1;errorMessage="";personBiography="";personHeader;ngOnInit(){this.cd.detectChanges(),this.id=parseInt(this.activatedRoute.snapshot.params.id),this.getPerson()}ngAfterContentInit(){this.loadingView=!1,this.cd.detectChanges()}getPerson(){this.personError=!1,this.loadingPerson=!0,this.personService.getPerson(this.id).then(n=>{this.person=n,this.setPersonTitle(),this.setPersonBiography()}).catch(n=>{this.handleError(n)}).finally(()=>{this.loadingPerson=!1})}setPersonBiography(){this.personBiography=this.person.biography}handleError(n){this.personError=!0,n.status&&n.status===404?(this.personNotFound=!0,this.titleService.setTitle("Person Not Found")):(this.errorMessage=this.errorMessage,this.titleService.setTitle("PersonService Error"))}reloadPerson(n){this.getPerson()}setPersonTitle(){this.titleService.setTitle(this.person.name)}static \u0275fac=function(t){return new(t||e)(P(Y),P(Se),P(S),P(Pe))};static \u0275cmp=f({type:e,selectors:[["app-person"]],viewQuery:function(t,s){if(t&1&&fe(Ke,5),t&2){let _;ue(_=ve())&&(s.personHeader=_.first)}},standalone:!1,decls:3,vars:2,consts:[["personHeader",""],[1,"person"],[4,"ngIf"],["message","Loading view..."],["message","Loading person..."],[3,"reload","errorMessage"],[3,"id","person"],[1,"navbar","navbar-dark","bg-dark","navbar-expand-sm"],[1,"container-fluid"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page","routerLink","overview","routerLinkActive","active",1,"nav-link"],["routerLink","movie-credits","routerLinkActive","active",1,"nav-link"],[1,"row"],[1,"col-12","col-lg-8"],[1,"col-12","col-lg-4"],[1,"aside-1"]],template:function(t,s){t&1&&(a(0,"section",1),d(1,We,2,0,"ng-container",2)(2,tt,3,2,"ng-container",2),p()),t&2&&(i(),r("ngIf",s.loadingView),i(),r("ngIf",!s.loadingView))},dependencies:[C,Ie,A,we,Re,q,G,J],styles:[".person[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   nav.navbar[_ngcontent-%COMP%]{margin-bottom:1rem;font-family:Oswald,Arial,sans-serif}"]})};var j=class e{repeat=z;errorMessage="";reload=new V;ngOnInit(){}pressReload(){this.reload.emit(!0)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["app-person-error"]],inputs:{errorMessage:"errorMessage"},outputs:{reload:"reload"},standalone:!1,decls:9,vars:2,consts:[[1,"person-error"],["type","button",1,"btn","btn-primary",3,"click"],[3,"icon"]],template:function(t,s){t&1&&(a(0,"section",0)(1,"h1"),o(2,"Person Service Error"),p(),a(3,"p"),o(4," There was an error trying to get person info: "),a(5,"strong"),o(6),p()(),a(7,"button",1),x("click",function(){return s.pressReload()}),g(8,"fa-icon",2),p()()),t&2&&(i(6),u(s.errorMessage),i(2),r("icon",s.repeat))},dependencies:[H],styles:[".person-error[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};function it(e,n){e&1&&(c(0),g(1,"app-loading-inline",2),l())}function rt(e,n){if(e&1){let t=O();c(0),a(1,"app-person-error",3),x("reload",function(_){E(t);let v=m(2);return R(v.reloadOverview(_))}),p(),l()}if(e&2){let t=m(2);i(),r("errorMessage",t.errorMessage)}}function ot(e,n){if(e&1&&(c(0),a(1,"p"),o(2),p(),l()),e&2){let t=m(3);i(2),u(t.personBiography)}}function at(e,n){e&1&&(c(0),a(1,"p",4),o(2,"No Biography Available"),p(),l())}function st(e,n){if(e&1&&(c(0),d(1,ot,3,1,"ng-container",1)(2,at,3,0,"ng-container",1),l()),e&2){let t=m(2);i(),r("ngIf",t.person.biography),i(),r("ngIf",t.person.biography.length===0)}}function pt(e,n){if(e&1&&(c(0),d(1,rt,2,1,"ng-container",1)(2,st,3,2,"ng-container",1),l()),e&2){let t=m();i(),r("ngIf",t.personOverviewError),i(),r("ngIf",!t.personOverviewError)}}var ee=class e{constructor(n,t){this.activatedRoute=n;this.personService=t}id=0;person=new w;activatedRouteParentSubscription;loadingPerson=!1;personBiography="";personFound=!1;personOverviewError=!1;errorMessage="";ngOnInit(){this.setId()}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(n=>{this.id=parseInt(n.id),this.getPerson()})}getPerson(){this.personOverviewError=!1,this.loadingPerson=!0,this.personService.getPerson(this.id).then(n=>{this.person=n,this.personFound=!0,this.setPersonBiography()}).catch(n=>{this.handleError(n)}).finally(()=>{this.loadingPerson=!1})}handleError(n){this.personOverviewError=!0,this.errorMessage=n.message}reloadOverview(n){this.getPerson()}setPersonBiography(){this.person.biography.length!==0&&(this.personBiography=this.person.biography)}ngOnDestroy(){this.activatedRouteParentSubscription&&this.activatedRouteParentSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||e)(P(Y),P(S))};static \u0275cmp=f({type:e,selectors:[["app-person-overview"]],standalone:!1,decls:3,vars:2,consts:[[1,"person-overview"],[4,"ngIf"],["message","Loading person..."],[3,"reload","errorMessage"],[1,"no-biography"]],template:function(t,s){t&1&&(a(0,"section",0),d(1,it,2,0,"ng-container",1)(2,pt,3,2,"ng-container",1),p()),t&2&&(i(),r("ngIf",s.loadingPerson),i(),r("ngIf",!s.loadingPerson))},dependencies:[C,Q,j],styles:[".person-overview[_ngcontent-%COMP%]   .no-biography[_ngcontent-%COMP%]{font-style:italic}"]})};var te=class{id;cast;crew;constructor(){this.id=0,this.cast=[],this.crew=[]}};var ne=class{adult;backdrop_path;genre_ids;id;original_language;original_title;overview;popularity;poster_path;release_date;title;video;vote_average;vote_count;character;credit_id;order;constructor(){this.adult=!1,this.backdrop_path="",this.genre_ids=[],this.id=0,this.original_language="",this.original_title="",this.overview="",this.popularity=0,this.poster_path="",this.release_date="",this.title="",this.video=!1,this.vote_average=0,this.vote_count=0,this.character="",this.credit_id="",this.order=0}};var ct=e=>["/movie",e],lt=e=>({"background-image":e});function mt(e,n){if(e&1&&(c(0),o(1),l()),e&2){let t=m();i(),u(t.releaseYear)}}function dt(e,n){e&1&&(c(0),o(1,"No Release Year"),l())}function gt(e,n){if(e&1&&(c(0),o(1),l()),e&2){let t=m();i(),h("as ",t.castRole.character)}}function _t(e,n){e&1&&(c(0),o(1,"No Role Defined"),l())}function ft(e,n){if(e&1&&(c(0),o(1),l()),e&2){let t=m(2);i(),u(t.releaseYear)}}function ut(e,n){e&1&&(c(0),o(1,"No Release Year"),l())}function vt(e,n){if(e&1&&(o(0),d(1,ft,2,1,"ng-container",8)(2,ut,2,0,"ng-container",8),o(3,") ")),e&2){let t=m();h(" ",t.castRole.title," ("),i(),r("ngIf",t.releaseYear),i(),r("ngIf",!t.releaseYear)}}function ht(e,n){if(e&1&&(c(0),o(1),l()),e&2){let t=m(2);i(),h("as ",t.castRole.character)}}function Ct(e,n){e&1&&(c(0),o(1,"No Role Defined"),l())}function bt(e,n){if(e&1&&d(0,ht,2,1,"ng-container",8)(1,Ct,2,0,"ng-container",8),e&2){let t=m();r("ngIf",t.castRole.character),i(),r("ngIf",!t.castRole.character)}}var ie=class e{castRole=new ne;posterSizeSmall="";releaseYear=0;ngOnInit(){this.setPoster(),this.setYear()}setPoster(){this.posterSizeSmall=this.castRole.poster_path?`${y.imgUrl}${y.posterSizeSmall}${this.castRole.poster_path}`:"img/default-images/movie_poster_notavailable_w500.png"}setYear(){let n=new Date(this.castRole.release_date);this.releaseYear=n.getFullYear()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["app-person-cast-credit"]],inputs:{castRole:"castRole"},standalone:!1,decls:18,vars:15,consts:[["castPopTitle",""],["castPopContent",""],[1,"person-credit"],["placement","bottom","triggers","hover",3,"routerLink","popoverTitle","ngbPopover","container","popoverClass"],[1,"person-link","person-cast-credit"],[1,"person-poster",3,"ngStyle"],[1,"person-info"],[1,"person-info-container"],[4,"ngIf"]],template:function(t,s){if(t&1&&(a(0,"section",2)(1,"a",3)(2,"section",4),g(3,"section",5),a(4,"section",6)(5,"section",7)(6,"span"),o(7),d(8,mt,2,1,"ng-container",8)(9,dt,2,0,"ng-container",8),o(10,") "),p(),a(11,"span"),d(12,gt,2,1,"ng-container",8)(13,_t,2,0,"ng-container",8),p()()()()(),d(14,vt,4,3,"ng-template",null,0,k)(16,bt,2,2,"ng-template",null,1,k),p()),t&2){let _=I(15),v=I(17);i(),r("routerLink",F(11,ct,s.castRole.id))("popoverTitle",_)("ngbPopover",v)("container","body")("popoverClass","person-popover"),i(2),r("ngStyle",F(13,lt,"url("+s.posterSizeSmall+")")),i(4),h("",s.castRole.title," ("),i(),r("ngIf",s.releaseYear),i(),r("ngIf",!s.releaseYear),i(3),r("ngIf",s.castRole.character),i(),r("ngIf",!s.castRole.character)}},dependencies:[C,B,A,K],encapsulation:2})};var re=class{adult;backdrop_path;genre_ids;id;original_language;original_title;overview;popularity;poster_path;release_date;title;video;vote_average;vote_count;character;department;job;constructor(){this.adult=!1,this.backdrop_path="",this.genre_ids=[],this.id=0,this.original_language="",this.original_title="",this.overview="",this.popularity=0,this.poster_path="",this.release_date="",this.title="",this.video=!1,this.vote_average=0,this.vote_count=0,this.character="",this.department="",this.job=""}};var xt=e=>["/movie",e],yt=e=>({"background-image":e});function It(e,n){if(e&1&&(c(0),o(1),l()),e&2){let t=m();i(),u(t.releaseYear)}}function wt(e,n){e&1&&(c(0),o(1,"No Release Year"),l())}function St(e,n){if(e&1&&(c(0),o(1),l()),e&2){let t=m(2);i(),u(t.releaseYear)}}function Mt(e,n){e&1&&(c(0),o(1,"No Release Year"),l())}function Et(e,n){if(e&1&&(a(0,"span"),o(1),d(2,St,2,1,"ng-container",8)(3,Mt,2,0,"ng-container",8),o(4,") "),p()),e&2){let t=m();i(),h(" ",t.crewRole.title," ("),i(),r("ngIf",t.releaseYear),i(),r("ngIf",!t.releaseYear)}}function Rt(e,n){if(e&1&&(a(0,"span"),o(1),p()),e&2){let t=m();i(),u(t.crewRole.job)}}var oe=class e{crewRole=new re;posterSizeSmall="";releaseYear=0;ngOnInit(){this.setPoster(),this.setYear()}setPoster(){this.posterSizeSmall=this.crewRole.poster_path?`${y.imgUrl}${y.posterSizeSmall}${this.crewRole.poster_path}`:"img/default-images/movie_poster_notavailable_w500.png",console.log(this.posterSizeSmall)}setYear(){let n=new Date(this.crewRole.release_date);this.releaseYear=n.getFullYear()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["app-person-crew-credit"]],inputs:{crewRole:"crewRole"},standalone:!1,decls:17,vars:14,consts:[["crewPopTitle",""],["crewPopContent",""],[1,"person-credit"],["placement","bottom","triggers","hover",3,"routerLink","popoverTitle","ngbPopover","container","popoverClass"],[1,"person-link","person-crew-credit"],[1,"person-poster",3,"ngStyle"],[1,"person-info"],[1,"person-info-container"],[4,"ngIf"]],template:function(t,s){if(t&1&&(a(0,"section",2)(1,"a",3)(2,"section",4),g(3,"section",5),a(4,"section",6)(5,"section",7)(6,"span"),o(7),d(8,It,2,1,"ng-container",8)(9,wt,2,0,"ng-container",8),o(10,") "),p(),a(11,"span"),o(12),p()()()()(),d(13,Et,5,3,"ng-template",null,0,k)(15,Rt,2,1,"ng-template",null,1,k),p()),t&2){let _=I(14),v=I(16);i(),r("routerLink",F(10,xt,s.crewRole.id))("popoverTitle",_)("ngbPopover",v)("container","body")("popoverClass","person-popover"),i(2),r("ngStyle",F(12,yt,"url("+s.posterSizeSmall+")")),i(4),h(" ",s.crewRole.title," ("),i(),r("ngIf",s.releaseYear),i(),r("ngIf",!s.releaseYear),i(3),u(s.crewRole.job)}},dependencies:[C,B,A,K],encapsulation:2})};function Tt(e,n){e&1&&(c(0),g(1,"app-loading-inline",3),l())}function Nt(e,n){if(e&1){let t=O();c(0),a(1,"app-person-error",4),x("reload",function(_){E(t);let v=m(2);return R(v.reloadMovieCredits(_))}),p(),l()}if(e&2){let t=m(2);i(),r("errorMessage",t.errorMessage)}}function Dt(e,n){e&1&&(c(0),a(1,"p"),o(2,"This person has no acting roles in movies"),p(),l())}function Ft(e,n){if(e&1&&(c(0),a(1,"div",12),g(2,"app-person-cast-credit",13),p(),l()),e&2){let t=n.$implicit;i(2),r("castRole",t)}}function kt(e,n){if(e&1&&(c(0),a(1,"div",10),d(2,Ft,3,1,"ng-container",11),p(),l()),e&2){let t=m(4);i(2),r("ngForOf",t.personMovieCredits.cast)}}function Yt(e,n){if(e&1&&d(0,Dt,3,0,"ng-container",2)(1,kt,3,1,"ng-container",2),e&2){let t=m(3);r("ngIf",t.personMovieCredits.cast.length===0),i(),r("ngIf",t.personMovieCredits.cast.length>0)}}function At(e,n){e&1&&(c(0),a(1,"p"),o(2,"This person has no technical or production roles in movies"),p(),l())}function Ht(e,n){if(e&1&&(c(0),a(1,"div",12),g(2,"app-person-crew-credit",14),p(),l()),e&2){let t=n.$implicit;i(2),r("crewRole",t)}}function jt(e,n){if(e&1&&(c(0),a(1,"div",10),d(2,Ht,3,1,"ng-container",11),p(),l()),e&2){let t=m(4);i(2),r("ngForOf",t.personMovieCredits.crew)}}function Lt(e,n){if(e&1&&d(0,At,3,0,"ng-container",2)(1,jt,3,1,"ng-container",2),e&2){let t=m(3);r("ngIf",t.personMovieCredits.crew.length===0),i(),r("ngIf",t.personMovieCredits.crew.length>0)}}function Vt(e,n){if(e&1){let t=O();c(0),a(1,"ul",5,0),be("activeIdChange",function(_){E(t);let v=m(2);return Ce(v.activeTab,_)||(v.activeTab=_),R(_)}),a(3,"li",6)(4,"button",7),o(5,"As Cast"),p(),d(6,Yt,2,2,"ng-template",8),p(),a(7,"li",6)(8,"button",7),o(9,"As Crew"),p(),d(10,Lt,2,2,"ng-template",8),p()(),g(11,"div",9),l()}if(e&2){let t=I(2),s=m(2);i(),he("activeId",s.activeTab),i(2),r("ngbNavItem",1),i(4),r("ngbNavItem",2),i(4),r("ngbNavOutlet",t)}}function Bt(e,n){if(e&1&&(c(0),d(1,Nt,2,1,"ng-container",2)(2,Vt,12,4,"ng-container",2),l()),e&2){let t=m();i(),r("ngIf",t.personMovieCreditsError),i(),r("ngIf",!t.personMovieCreditsError)}}var ae=class e{constructor(n,t){this.activatedRoute=n;this.personService=t}id=0;activeTab=1;personMovieCredits=new te;loadingPersonMovieCredits=!1;activatedRouteParentSubscription;personMovieCreditsFound=!1;personMovieCreditsError=!1;errorMessage="";ngOnInit(){this.setId()}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(n=>{this.id=parseInt(n.id),this.getPersonMovieCredits()})}getPersonMovieCredits(){this.personMovieCreditsError=!1,this.loadingPersonMovieCredits=!0,this.personService.getCredits(this.id).then(n=>{this.personMovieCredits=n,this.personMovieCreditsFound=!0}).catch(n=>{this.handleError(n)}).finally(()=>{this.loadingPersonMovieCredits=!1})}handleError(n){this.personMovieCreditsError=!0,this.errorMessage=n.message}reloadMovieCredits(n){this.getPersonMovieCredits()}ngOnDestroy(){this.activatedRouteParentSubscription&&this.activatedRouteParentSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||e)(P(Y),P(S))};static \u0275cmp=f({type:e,selectors:[["app-person-movie-credits"]],standalone:!1,decls:3,vars:2,consts:[["nav","ngbNav"],[1,"person-movie-credits"],[4,"ngIf"],["message","Loading movie credits for this person..."],[3,"reload","errorMessage"],["ngbNav","",1,"nav-tabs",3,"activeIdChange","activeId"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-2","my-5",3,"ngbNavOutlet"],[1,"row"],[4,"ngFor","ngForOf"],[1,"col-12","col-lg-3"],[3,"castRole"],[3,"crewRole"]],template:function(t,s){t&1&&(a(0,"section",1),d(1,Tt,2,0,"ng-container",2)(2,Bt,3,2,"ng-container",2),p()),t&2&&(i(),r("ngIf",s.loadingPersonMovieCredits),i(),r("ngIf",!s.loadingPersonMovieCredits))},dependencies:[xe,C,Q,Te,Fe,De,Ne,Ye,ke,Ae,j,ie,oe],styles:[".person-movie-credits[_ngcontent-%COMP%]   ul.nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};var $t=[{path:":id",component:X,children:[{path:"overview",component:ee,pathMatch:"full"},{path:"movie-credits",component:ae,pathMatch:"full"},{path:"",redirectTo:"overview",pathMatch:"full"}]}],se=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=D({type:e});static \u0275inj=N({imports:[T.forChild($t),T]})};var pe=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=D({type:e});static \u0275inj=N({imports:[$,U,T,W]})};var Ve=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=D({type:e});static \u0275inj=N({imports:[$,se,Oe,W,U,pe,T]})};export{Ve as PersonModule};

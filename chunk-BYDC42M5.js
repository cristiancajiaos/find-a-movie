import{a as te,b as ie,c as j,d as at,e as ct}from"./chunk-YHB76SJE.js";import{$ as W,A as y,Aa as R,B as x,Ba as ne,C as s,Ca as re,D as Be,Da as oe,E as He,Ea as ae,F as Ae,Fa as ce,Ga as le,H as c,Ha as me,I as h,Ia as se,J as v,Ja as _e,Ka as pe,La as de,Ma as ve,Na as rt,O as g,Oa as ot,P as B,Q as X,R as Ue,S as ke,U as Z,V as L,W as I,X as ze,Z as We,_ as Ge,a as A,ab as lt,b as U,c as Re,ca as Ye,d as je,e as k,f as $e,g as E,ga as Qe,h as w,ha as P,ia as qe,k as z,ka as D,l as Ve,la as Je,m as i,ma as Ne,n as f,na as Ke,o as C,oa as T,p as N,q as J,qa as Xe,r as _,ra as ee,s as K,sa as Ze,t as r,ta as et,u as o,v as a,w as p,wa as tt,x as l,xa as nt,y as m,ya as it}from"./chunk-L6BKWK55.js";var $=class{adult;backdrop_path;belongs_to_collection;budget;genres;homepage;id;imdb_id;origin_country;original_language;original_title;overview;popularity;poster_path;production_companies;production_countries;release_date;revenue;runtime;spoken_languages;status;tagline;title;video;vote_average;vote_count;constructor(){this.adult=!1,this.backdrop_path="",this.belongs_to_collection=!1,this.budget=0,this.genres=[],this.homepage="",this.id=0,this.imdb_id="",this.origin_country=[],this.original_language="",this.original_title="",this.overview="",this.popularity=0,this.poster_path="",this.production_companies=[],this.production_countries=[],this.release_date="",this.revenue=0,this.runtime=0,this.spoken_languages=[],this.status="",this.tagline="",this.title="",this.video=!1,this.vote_average=0,this.vote_count=0}};var O=class t{constructor(n){this.http=n}getMovie(n){return A(this,null,function*(){return yield U(this.http.get(`/movie/${n}`))})}getMovieCredits(n){return A(this,null,function*(){return yield U(this.http.get(`/movie/${n}/credits`))})}getMovieCast(n){return A(this,null,function*(){return yield U(this.http.get(`/movie/${n}/credits`).pipe(Re(e=>e.cast)))})}getMovieCrew(n){return A(this,null,function*(){return yield U(this.http.get(`/movie/${n}/credits`).pipe(Re(e=>e.crew)))})}getMovieVideos(n){return A(this,null,function*(){return yield U(this.http.get(`/movie/${n}/videos`))})}getFormattedMovieTitle(n,e,d){let u=n,q=new Date(d).getFullYear(),De="";return u==e?De=`${u}`:De=`${e} (${u})`,`${De} ${q?"(":""}${q||""}${q?")":""}`}static \u0275fac=function(e){return new(e||t)($e(Ye))};static \u0275prov=je({token:t,factory:t.\u0275fac,providedIn:"root"})};var ge=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-movie-not-found"]],standalone:!1,decls:6,vars:0,consts:[[1,"movie-not-found"],[1,"movie-not-found-description"]],template:function(e,d){e&1&&(o(0,"section",0)(1,"div",1)(2,"h1"),c(3,"Movie Not Found"),a(),o(4,"p"),c(5,"No movie was found with this ID. Try another one :)"),a()()())},styles:[".movie-not-found[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}.movie-not-found[_ngcontent-%COMP%]   .movie-not-found-description[_ngcontent-%COMP%]{text-align:center;border:1px solid black;padding:1rem 2rem}"]})};var F=class t{repeat=ee;errorMessage="";reload=new K;ngOnInit(){}pressReload(){this.reload.emit(!0)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-movie-error"]],inputs:{errorMessage:"errorMessage"},outputs:{reload:"reload"},standalone:!1,decls:10,vars:2,consts:[[1,"movie-error"],["type","button",1,"btn","btn-primary",3,"click"],[3,"icon"]],template:function(e,d){e&1&&(o(0,"section",0)(1,"h1"),c(2,"Movie Service Error"),a(),o(3,"p"),c(4,"There was an error getting info for the movie: "),o(5,"strong"),c(6),a()(),o(7,"button",1),x("click",function(){return d.pressReload()}),p(8,"fa-icon",2),c(9," Reload "),a()()),e&2&&(i(6),h(d.errorMessage),i(2),r("icon",d.repeat))},dependencies:[R],styles:[".movie-error[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};var fe=class t{repeat=ee;errorMessage="";reload=new K;ngOnInit(){}pressReload(){this.reload.emit(!0)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-movie-error-fullscreen"]],inputs:{errorMessage:"errorMessage"},outputs:{reload:"reload"},standalone:!1,decls:11,vars:2,consts:[[1,"movie-error-fullscreen"],[1,"movie-error-description"],["type","button",1,"btn","btn-primary",3,"click"],[3,"icon"]],template:function(e,d){e&1&&(o(0,"section",0)(1,"div",1)(2,"h1"),c(3,"Movie Service Error"),a(),o(4,"p"),c(5,"There was an error getting info for the movie: "),o(6,"strong"),c(7),a()(),o(8,"button",2),x("click",function(){return d.pressReload()}),p(9,"fa-icon",3),c(10," Reload "),a()()()),e&2&&(i(7),h(d.errorMessage),i(2),r("icon",d.repeat))},dependencies:[R],styles:[".movie-error-fullscreen[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}.movie-error-fullscreen[_ngcontent-%COMP%]   .movie-error-description[_ngcontent-%COMP%]{text-align:center;border:1px solid black;padding:1rem 2rem}.movie-error-fullscreen[_ngcontent-%COMP%]   .movie-error-description[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};var Ce=class t{transform(n){let e=Math.floor(n/60),d=n%60,u=e>0?`${e}h`:"",S=d>0?`${d}min`:"";return e==0&&d==0?"":e==0&&d>0?`${S}`:e>0&&d==0?`${u}`:`${u} ${S}`}static \u0275fac=function(e){return new(e||t)};static \u0275pipe=J({name:"runtime",type:t,pure:!0,standalone:!1})};var dt=t=>({"background-image":t});function vt(t,n){if(t&1&&(l(0),c(1),m()),t&2){let e=s();i(),v(" ",e.movie.title," ")}}function gt(t,n){if(t&1&&(l(0),c(1),o(2,"small"),c(3),a(),m()),t&2){let e=s();i(),v(" ",e.movie.original_title," "),i(2),v("(",e.movie.title,")")}}function ut(t,n){if(t&1&&(l(0),p(1,"fa-icon",4),c(2),m()),t&2){let e=s();i(),r("icon",e.calendar)("fixedWidth",!0),i(),v(" ",e.year," ")}}function ft(t,n){t&1&&(l(0),c(1," No Release Date "),m())}function Ct(t,n){if(t&1&&(l(0),p(1,"fa-icon",4),c(2),B(3,"runtime"),m()),t&2){let e=s();i(),r("icon",e.clock)("fixedWidth",!0),i(),v(" ",X(3,3,e.movie.runtime)," ")}}var xe=class t{constructor(n){this.cd=n}film=tt;circleSeparator=Ze;calendar=et;clock=Xe;id=0;movie=new $;year=0;backdropImg="";ngOnInit(){this.setYear(),this.setBackdrop()}setYear(){let n=new Date(this.movie.release_date);this.year=n.getFullYear()}setBackdrop(){this.backdropImg=this.movie.backdrop_path?`${T.imgUrl}${T.backdropSize}${this.movie.backdrop_path}`:"img/default-images/movie_backdrop_notavailable_w1280.png"}static \u0275fac=function(e){return new(e||t)(f(Z))};static \u0275cmp=C({type:t,selectors:[["app-movie-header"]],inputs:{id:"id",movie:"movie"},standalone:!1,decls:13,vars:10,consts:[[1,"movie-header"],[1,"header-backdrop",3,"ngStyle"],[1,"header-movie-container"],[1,"header-movie-info"],[3,"icon","fixedWidth"],[4,"ngIf"]],template:function(e,d){e&1&&(o(0,"section",0)(1,"header"),p(2,"div",1),o(3,"div",2)(4,"div",3)(5,"h1"),p(6,"fa-icon",4),_(7,vt,2,1,"ng-container",5)(8,gt,4,2,"ng-container",5),a(),o(9,"h2"),_(10,ut,3,3,"ng-container",5)(11,ft,2,0,"ng-container",5)(12,Ct,4,5,"ng-container",5),a()()()()()),e&2&&(i(2),r("ngStyle",g(8,dt,"url("+d.backdropImg+")")),i(4),r("icon",d.film)("fixedWidth",!0),i(),r("ngIf",d.movie.title==d.movie.original_title),i(),r("ngIf",d.movie.title!=d.movie.original_title),i(2),r("ngIf",d.year),i(),r("ngIf",!d.year),i(),r("ngIf",d.movie.runtime>0))},dependencies:[I,ze,R,Ce],styles:[".movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{height:50vh;position:relative}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-backdrop[_ngcontent-%COMP%]{position:absolute;height:inherit;width:100%;background-size:cover}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]{position:absolute;height:inherit;width:100%;display:flex;flex-direction:column;justify-content:flex-end}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]   .header-movie-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end;background-color:#00000080}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]   .header-movie-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]   .header-movie-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:100%;color:#fff;margin:0}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]   .header-movie-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding:1rem 1rem 0rem}.movie-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-movie-container[_ngcontent-%COMP%]   .header-movie-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding:1rem}"]})};var Mt=["movieHeader"];function St(t,n){t&1&&(l(0),p(1,"app-loading-fullscreen",3),m())}function Et(t,n){t&1&&(l(0),p(1,"app-loading-fullscreen",4),m())}function wt(t,n){t&1&&(l(0),p(1,"app-movie-not-found"),m())}function yt(t,n){if(t&1){let e=y();l(0),o(1,"app-movie-error-fullscreen",5),x("reload",function(u){E(e);let S=s(4);return w(S.reloadMovie(u))}),a(),m()}if(t&2){let e=s(4);i(),r("errorMessage",e.errorMessage)}}function It(t,n){if(t&1&&(l(0),_(1,wt,2,0,"ng-container",2)(2,yt,2,1,"ng-container",2),m()),t&2){let e=s(3);i(),r("ngIf",e.movieNotFound),i(),r("ngIf",!e.movieNotFound)}}function Ot(t,n){if(t&1&&(l(0),p(1,"app-movie-error",6),m()),t&2){let e=s(4);i(),r("errorMessage",e.errorMessage)}}function Ft(t,n){if(t&1&&(l(0),o(1,"div",21)(2,"a",22),p(3,"fa-icon",23),c(4," Open Poster in New Tab "),a()(),m()),t&2){let e=s(5);i(2),r("href",e.posterSizeOriginal,z),i(),r("icon",e.imagePortrait)}}function Tt(t,n){if(t&1&&(l(0),p(1,"app-movie-header",7,0),o(3,"main")(4,"nav",8)(5,"div",9)(6,"ul",10)(7,"li",11)(8,"a",12),c(9," Overview "),a()(),o(10,"li",11)(11,"a",13),c(12," Cast "),a()(),o(13,"li",11)(14,"a",14),c(15," Featured Crew "),a()(),o(16,"li",11)(17,"a",15),c(18," Full Crew "),a()()()()(),o(19,"div",9)(20,"div",16)(21,"div",17)(22,"aside",18),p(23,"img",19),_(24,Ft,5,2,"ng-container",2),a()(),o(25,"div",20),p(26,"router-outlet"),a()()()(),m()),t&2){let e=s(4);i(),r("id",e.id)("movie",e.movie),i(22),r("src",e.posterSizeSmall,z)("alt",e.altPosterText),i(),r("ngIf",e.movie.poster_path)}}function Pt(t,n){if(t&1&&(l(0),_(1,Ot,2,1,"ng-container",2)(2,Tt,27,5,"ng-container",2),m()),t&2){let e=s(3);i(),r("ngIf",e.movie.id==0),i(),r("ngIf",e.movie.id!=0)}}function Dt(t,n){if(t&1&&(l(0),_(1,It,3,2,"ng-container",2)(2,Pt,3,2,"ng-container",2),m()),t&2){let e=s(2);i(),r("ngIf",e.movieError),i(),r("ngIf",!e.movieError)}}function Rt(t,n){if(t&1&&(l(0),_(1,Et,2,0,"ng-container",2)(2,Dt,3,2,"ng-container",2),m()),t&2){let e=s();i(),r("ngIf",e.loadingMovie),i(),r("ngIf",!e.loadingMovie)}}var he=class t{constructor(n,e,d,u,S){this.activatedRoute=n;this.movieService=e;this.titleService=d;this.localStorageService=u;this.cd=S}imagePortrait=it;id=0;movie=new $;formattedTitle="";altPosterText="";posterSizeSmall="";posterSizeOriginal="";loadingView=!0;loadingMovie=!1;movieNotFound=!1;movieError=!1;errorMessage="";routeSubscription;movieHeader;ngOnInit(){this.cd.detectChanges(),this.routeSubscription=this.activatedRoute.params.subscribe(n=>{this.id=parseInt(this.activatedRoute.snapshot.params.id),this.getMovie()})}ngAfterContentInit(){this.loadingView=!1,this.cd.detectChanges()}getMovie(){this.movieError=!1,this.loadingMovie=!0,this.movieService.getMovie(this.id).then(n=>{this.movie=n,this.localStorageService.setItem("movie",n),this.setTitle(),this.setMoviePoster()}).catch(n=>{this.handleError(n)}).finally(()=>{this.loadingMovie=!1})}handleError(n){this.movieError=!0,n.status&&n.status===404?(this.movieNotFound=!0,this.titleService.setTitle("Movie Not Found")):(this.errorMessage=n.message,this.titleService.setTitle("Movie Service Error"))}reloadMovie(n){this.getMovie()}setTitle(){this.formattedTitle=this.movieService.getFormattedMovieTitle(this.movie.title,this.movie.original_title,this.movie.release_date),this.titleService.setTitle(this.formattedTitle)}setMoviePoster(){this.posterSizeSmall=this.movie.poster_path?`${T.imgUrl}${T.posterSizeSmall}${this.movie.poster_path}`:"img/default-images/movie_poster_notavailable_w500.png",this.posterSizeOriginal=this.movie.poster_path?`${T.imgUrl}${T.posterSizeOriginal}${this.movie.poster_path}`:"",this.altPosterText=this.movie.poster_path?`Poster from the movie ${this.formattedTitle}`:`Poster from the movie ${this.formattedTitle} is not available`}ngOnDestroy(){this.routeSubscription&&this.routeSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||t)(f(P),f(O),f(Ke),f(te),f(Z))};static \u0275cmp=C({type:t,selectors:[["app-movie"]],viewQuery:function(e,d){if(e&1&&Be(Mt,5),e&2){let u;He(u=Ae())&&(d.movieHeader=u.first)}},standalone:!1,decls:3,vars:2,consts:[["movieHeader",""],[1,"movie"],[4,"ngIf"],["message","Loading view..."],["message","Loading movie..."],[3,"reload","errorMessage"],[3,"errorMessage"],[3,"id","movie"],[1,"navbar","navbar-dark","bg-dark","navbar-expand-sm"],[1,"container-fluid"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page","routerLink","overview","routerLinkActive","active",1,"nav-link"],["routerLink","cast","routerLinkActive","active",1,"nav-link"],["routerLink","crew","routerLinkActive","active",1,"nav-link"],["routerLink","full-crew","routerLinkActive","active",1,"nav-link"],[1,"row"],[1,"col-12","col-lg-2"],[1,"aside-1"],[1,"w-100",3,"src","alt"],[1,"col-12","col-lg-10"],[1,"d-grid"],["target","_blank",1,"btn","btn-outline-primary","btn-poster","mb-2",3,"href"],[3,"icon"]],template:function(e,d){e&1&&(o(0,"section",1),_(1,St,2,0,"ng-container",2)(2,Rt,3,2,"ng-container",2),a()),e&2&&(i(),r("ngIf",d.loadingView),i(),r("ngIf",!d.loadingView))},dependencies:[I,qe,D,Je,ie,ge,F,fe,R,xe],styles:[".movie[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   nav.navbar[_ngcontent-%COMP%]{margin-bottom:1rem;font-family:Oswald,Arial,sans-serif}.movie[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .aside-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:1rem}.movie[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .aside-1[_ngcontent-%COMP%]   .btn-poster[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};var Nt=t=>["/person",t];function Lt(t,n){t&1&&(l(0),p(1,"app-loading-inline",2),m())}function jt(t,n){if(t&1){let e=y();l(0),o(1,"app-movie-error",3),x("reload",function(u){E(e);let S=s(2);return w(S.reloadCast(u))}),a(),m()}if(t&2){let e=s(2);i(),r("errorMessage",e.errorMessage)}}function $t(t,n){if(t&1&&(o(0,"tr")(1,"td")(2,"a",20),c(3),a()(),o(4,"td"),c(5,"as"),a(),o(6,"td"),c(7),a()()),t&2){let e=n.$implicit;i(2),r("routerLink",g(3,Nt,e.id)),i(),v(" ",e.name," "),i(4),h(e.character)}}function Vt(t,n){if(t&1){let e=y();l(0),o(1,"form",4)(2,"div",5)(3,"label",6),c(4,"Order by"),a(),o(5,"div",7)(6,"select",8),x("change",function(){E(e);let u=s(3);return w(u.changeCastOrder())}),o(7,"option",9),c(8,"Select an order criteria"),a(),o(9,"option",10),c(10,"Default Order (ascending)"),a(),o(11,"option",11),c(12,"Default Order (descending)"),a(),o(13,"option",12),c(14,"Name (ascending)"),a(),o(15,"option",13),c(16,"Name (descending)"),a(),o(17,"option",14),c(18,"Character (ascending)"),a(),o(19,"option",15),c(20,"Character (descending)"),a()()()()(),o(21,"div",16)(22,"table",17)(23,"thead")(24,"tr")(25,"th",18),c(26,"Actor"),a(),o(27,"th"),c(28,"Character"),a()()(),o(29,"tbody"),_(30,$t,8,5,"tr",19),a()()(),m()}if(t&2){let e=s(3);i(),r("formGroup",e.orderCastForm),i(29),r("ngForOf",e.movieCast)}}function Bt(t,n){t&1&&(l(0),o(1,"p"),c(2,"This movie has no recognizable cast"),a(),m())}function Ht(t,n){if(t&1&&(l(0),o(1,"h2"),c(2,"Cast"),a(),_(3,Vt,31,2,"ng-container",1)(4,Bt,3,0,"ng-container",1),m()),t&2){let e=s(2);i(3),r("ngIf",e.movieCast.length>0),i(),r("ngIf",e.movieCast.length==0)}}function At(t,n){if(t&1&&(l(0),_(1,jt,2,1,"ng-container",1)(2,Ht,5,2,"ng-container",1),m()),t&2){let e=s();i(),r("ngIf",e.movieCastError),i(),r("ngIf",!e.movieCastError)}}var Me=class t{constructor(n,e,d){this.activatedRoute=n;this.movieService=e;this.fb=d}id=0;movieCast=[];loadingCast=!1;orderCastForm=new ae({});activatedRouteParentSubscription;castFound=!1;movieCastError=!1;errorMessage="";ngOnInit(){this.setId(),this.orderCastForm=this.fb.group({orderCast:new ce("1")})}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(n=>{this.id=parseInt(n.id),this.getCast()})}getCast(){this.movieCastError=!1,this.loadingCast=!0,this.movieService.getMovieCast(this.id).then(n=>{this.movieCast=n,this.castFound=!0}).catch(n=>{this.handleError(n)}).finally(()=>{this.loadingCast=!1})}handleError(n){this.movieCastError=!0,this.errorMessage=n.message}reloadCast(n){this.getCast()}changeCastOrder(){switch(this.orderCastForm.value.orderCast){case"1":{this.movieCast.sort((n,e)=>n.order-e.order);break}case"2":{this.movieCast.sort((n,e)=>e.order-n.order);break}case"3":{this.movieCast.sort((n,e)=>n.name.localeCompare(e.name));break}case"4":{this.movieCast.sort((n,e)=>e.name.localeCompare(n.name));break}case"5":{this.movieCast.sort((n,e)=>n.character.localeCompare(e.character));break}case"6":{this.movieCast.sort((n,e)=>e.character.localeCompare(n.character));break}default:break}}ngOnDestroy(){this.activatedRouteParentSubscription?.unsubscribe()}static \u0275fac=function(e){return new(e||t)(f(P),f(O),f(ve))};static \u0275cmp=C({type:t,selectors:[["app-movie-cast"]],standalone:!1,decls:3,vars:2,consts:[[1,"movie-cast"],[4,"ngIf"],["message","Loading cast..."],[3,"reload","errorMessage"],[3,"formGroup"],[1,"row","align-items-center"],["for","orderCast",1,"col-3"],[1,"col-9"],["formControlName","orderCast","id","orderCast","name","orderCast",1,"form-control",3,"change"],["value","0","selected","","disabled",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],[1,"table-responsive"],[1,"table"],["colspan","2"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,d){e&1&&(o(0,"section",0),_(1,Lt,2,0,"ng-container",1)(2,At,3,2,"ng-container",1),a()),e&2&&(i(),r("ngIf",d.loadingCast),i(),r("ngIf",!d.loadingCast))},dependencies:[L,I,D,j,F,le,pe,de,_e,re,oe,me,se],encapsulation:2})};var M=t=>["/person",t];function Ut(t,n){t&1&&(l(0),p(1,"app-loading-inline",2),m())}function zt(t,n){if(t&1){let e=y();l(0),o(1,"app-movie-error",3),x("reload",function(u){E(e);let S=s(2);return w(S.reloadCrew(u))}),a(),m()}if(t&2){let e=s(2);i(),r("errorMessage",e.errorMessage)}}function Wt(t,n){if(t&1&&(l(0),o(1,"a",9),c(2),a(),p(3,"br"),m()),t&2){let e=n.$implicit;i(),r("routerLink",g(2,M,e.id)),i(),v(" ",e.name," ")}}function Gt(t,n){if(t&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Directed By:"),a(),o(4,"td"),_(5,Wt,4,4,"ng-container",8),a()(),m()),t&2){let e=s(3);i(5),r("ngForOf",e.direction)}}function Yt(t,n){if(t&1&&(l(0),o(1,"a",9),c(2),a(),p(3,"br"),m()),t&2){let e=n.$implicit;i(),r("routerLink",g(2,M,e.id)),i(),v(" ",e.name," ")}}function Qt(t,n){if(t&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Screenplay By:"),a(),o(4,"td"),_(5,Yt,4,4,"ng-container",8),a()(),m()),t&2){let e=s(3);i(5),r("ngForOf",e.writing)}}function qt(t,n){if(t&1&&(l(0),o(1,"a",9),c(2),a(),p(3,"br"),m()),t&2){let e=n.$implicit;i(),r("routerLink",g(2,M,e.id)),i(),v(" ",e.name," ")}}function Jt(t,n){if(t&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Story By:"),a(),o(4,"td"),_(5,qt,4,4,"ng-container",8),a()(),m()),t&2){let e=s(3);i(5),r("ngForOf",e.story)}}function Kt(t,n){if(t&1&&(l(0),o(1,"a",9),c(2),a(),p(3,"br"),m()),t&2){let e=n.$implicit;i(),r("routerLink",g(2,M,e.id)),i(),v(" ",e.name," ")}}function Xt(t,n){if(t&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Based on Work By:"),a(),o(4,"td"),_(5,Kt,4,4,"ng-container",8),a()(),m()),t&2){let e=s(3);i(5),r("ngForOf",e.basedOnWorkBy)}}function Zt(t,n){if(t&1&&(l(0),o(1,"a",9),c(2),a(),p(3,"br"),m()),t&2){let e=n.$implicit;i(),r("routerLink",g(2,M,e.id)),i(),v(" ",e.name," ")}}function en(t,n){if(t&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Produced By:"),a(),o(4,"td"),_(5,Zt,4,4,"ng-container",8),a()(),m()),t&2){let e=s(3);i(5),r("ngForOf",e.producing)}}function tn(t,n){t&1&&(l(0),c(1,"s"),m())}function nn(t,n){if(t&1&&(l(0),o(1,"a",9),c(2),a(),p(3,"br"),m()),t&2){let e=n.$implicit;i(),r("routerLink",g(2,M,e.id)),i(),v(" ",e.name," ")}}function rn(t,n){if(t&1&&(l(0),o(1,"tr")(2,"td"),c(3," Executive Producer"),_(4,tn,2,0,"ng-container",1),c(5,": "),a(),o(6,"td"),_(7,nn,4,4,"ng-container",8),a()(),m()),t&2){let e=s(3);i(4),r("ngIf",e.executiveProducing.length>1),i(3),r("ngForOf",e.executiveProducing)}}function on(t,n){t&1&&(l(0),c(1,"s"),m())}function an(t,n){if(t&1&&(l(0),o(1,"a",9),c(2),a(),p(3,"br"),m()),t&2){let e=n.$implicit;i(),r("routerLink",g(2,M,e.id)),i(),v(" ",e.name," ")}}function cn(t,n){if(t&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Co-Producer"),_(4,on,2,0,"ng-container",1),c(5,":"),a(),o(6,"td"),_(7,an,4,4,"ng-container",8),a()(),m()),t&2){let e=s(3);i(4),r("ngIf",e.coProducing.length>1),i(3),r("ngForOf",e.coProducing)}}function ln(t,n){t&1&&(l(0),c(1,"s"),m())}function mn(t,n){if(t&1&&(l(0),o(1,"a",9),c(2),a(),p(3,"br"),m()),t&2){let e=n.$implicit;i(),r("routerLink",g(2,M,e.id)),i(),v(" ",e.name," ")}}function sn(t,n){if(t&1&&(l(0),o(1,"tr")(2,"td"),c(3," Director"),_(4,ln,2,0,"ng-container",1),c(5," of Photography: "),a(),o(6,"td"),_(7,mn,4,4,"ng-container",8),a()(),m()),t&2){let e=s(3);i(4),r("ngIf",e.directorsOfPhotography.length>1),i(3),r("ngForOf",e.directorsOfPhotography)}}function _n(t,n){t&1&&(l(0),c(1,"s"),m())}function pn(t,n){if(t&1&&(l(0),o(1,"a",9),c(2),a(),p(3,"br"),m()),t&2){let e=n.$implicit;i(),r("routerLink",g(2,M,e.id)),i(),v(" ",e.name," ")}}function dn(t,n){if(t&1&&(l(0),o(1,"tr")(2,"td"),c(3," Production Designer"),_(4,_n,2,0,"ng-container",1),c(5,": "),a(),o(6,"td"),_(7,pn,4,4,"ng-container",8),a()(),m()),t&2){let e=s(3);i(4),r("ngIf",e.productionDesigners.length>1),i(3),r("ngForOf",e.productionDesigners)}}function vn(t,n){t&1&&(l(0),c(1,"s"),m())}function gn(t,n){if(t&1&&(l(0),o(1,"a",9),c(2),a(),p(3,"br"),m()),t&2){let e=n.$implicit;i(),r("routerLink",g(2,M,e.id)),i(),v(" ",e.name," ")}}function un(t,n){if(t&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Editor"),_(4,vn,2,0,"ng-container",1),c(5,":"),a(),o(6,"td"),_(7,gn,4,4,"ng-container",8),a()(),m()),t&2){let e=s(3);i(4),r("ngIf",e.editors.length>1),i(3),r("ngForOf",e.editors)}}function fn(t,n){if(t&1&&(l(0),o(1,"a",9),c(2),a(),p(3,"br"),m()),t&2){let e=n.$implicit;i(),r("routerLink",g(2,M,e.id)),i(),v(" ",e.name," ")}}function Cn(t,n){if(t&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Music By:"),a(),o(4,"td"),_(5,fn,4,4,"ng-container",8),a()(),m()),t&2){let e=s(3);i(5),r("ngForOf",e.musicComposers)}}function xn(t,n){if(t&1&&(l(0),o(1,"a",9),c(2),a(),p(3,"br"),m()),t&2){let e=n.$implicit;i(),r("routerLink",g(2,M,e.id)),i(),v(" ",e.name," ")}}function hn(t,n){if(t&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Additional Music By:"),a(),o(4,"td"),_(5,xn,4,4,"ng-container",8),a()(),m()),t&2){let e=s(3);i(5),r("ngForOf",e.additionalMusicComposers)}}function bn(t,n){t&1&&(l(0),c(1,"s"),m())}function Mn(t,n){if(t&1&&(l(0),o(1,"a",9),c(2),a(),p(3,"br"),m()),t&2){let e=n.$implicit;i(),r("routerLink",g(2,M,e.id)),i(),v(" ",e.name," ")}}function Sn(t,n){if(t&1&&(l(0),o(1,"tr")(2,"td"),c(3," Visual Effects Supervisor"),_(4,bn,2,0,"ng-container",1),c(5,": "),a(),o(6,"td"),_(7,Mn,4,4,"ng-container",8),a()(),m()),t&2){let e=s(3);i(4),r("ngIf",e.visualEffectsSupervisors.length>1),i(3),r("ngForOf",e.visualEffectsSupervisors)}}function En(t,n){t&1&&(l(0),c(1,"s"),m())}function wn(t,n){if(t&1&&(l(0),o(1,"a",9),c(2),a(),p(3,"br"),m()),t&2){let e=n.$implicit;i(),r("routerLink",g(2,M,e.id)),i(),v(" ",e.name," ")}}function yn(t,n){if(t&1&&(l(0),o(1,"tr")(2,"td"),c(3," Costume Designer"),_(4,En,2,0,"ng-container",1),c(5,": "),a(),o(6,"td"),_(7,wn,4,4,"ng-container",8),a()(),m()),t&2){let e=s(3);i(4),r("ngIf",e.costumeDesigners.length>1),i(3),r("ngForOf",e.costumeDesigners)}}function In(t,n){if(t&1&&(l(0),o(1,"a",9),c(2),a(),p(3,"br"),m()),t&2){let e=n.$implicit;i(),r("routerLink",g(2,M,e.id)),i(),v(" ",e.name," ")}}function On(t,n){if(t&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Casting By:"),a(),o(4,"td"),_(5,In,4,4,"ng-container",8),a()(),m()),t&2){let e=s(3);i(5),r("ngForOf",e.castingCrew)}}function Fn(t,n){if(t&1&&(l(0),o(1,"h2"),c(2,"Featured Crew"),a(),o(3,"div",4)(4,"table",5)(5,"tbody"),_(6,Gt,6,1,"ng-container",1)(7,Qt,6,1,"ng-container",1)(8,Jt,6,1,"ng-container",1)(9,Xt,6,1,"ng-container",1)(10,en,6,1,"ng-container",1)(11,rn,8,2,"ng-container",1)(12,cn,8,2,"ng-container",1)(13,sn,8,2,"ng-container",1)(14,dn,8,2,"ng-container",1)(15,un,8,2,"ng-container",1)(16,Cn,6,1,"ng-container",1)(17,hn,6,1,"ng-container",1)(18,Sn,8,2,"ng-container",1)(19,yn,8,2,"ng-container",1)(20,On,6,1,"ng-container",1),a()()(),o(21,"div",6)(22,"a",7),c(23," See Full Crew "),a()(),m()),t&2){let e=s(2);i(6),r("ngIf",e.direction.length>0),i(),r("ngIf",e.writing.length>0),i(),r("ngIf",e.story.length>0),i(),r("ngIf",e.basedOnWorkBy.length>0),i(),r("ngIf",e.producing.length>0),i(),r("ngIf",e.executiveProducing.length>0),i(),r("ngIf",e.coProducing.length>0),i(),r("ngIf",e.directorsOfPhotography.length>0),i(),r("ngIf",e.productionDesigners.length>0),i(),r("ngIf",e.editors.length>0),i(),r("ngIf",e.musicComposers.length>0),i(),r("ngIf",e.additionalMusicComposers.length>0),i(),r("ngIf",e.visualEffectsSupervisors.length>0),i(),r("ngIf",e.costumeDesigners.length>0),i(),r("ngIf",e.castingCrew.length>0)}}function Tn(t,n){if(t&1&&(l(0),_(1,zt,2,1,"ng-container",1)(2,Fn,24,15,"ng-container",1),m()),t&2){let e=s();i(),r("ngIf",e.movieCrewError),i(),r("ngIf",!e.movieCrewError)}}var Se=class t{constructor(n,e){this.activatedRoute=n;this.movieService=e}id=0;movieCrew=[];direction=[];writing=[];story=[];basedOnWorkBy=[];producing=[];executiveProducing=[];coProducing=[];directorsOfPhotography=[];productionDesigners=[];editors=[];musicComposers=[];additionalMusicComposers=[];visualEffectsSupervisors=[];costumeDesigners=[];castingCrew=[];loadingCrew=!1;activatedRouteParentSubscription;crewFound=!1;movieCrewError=!1;errorMessage="";ngOnInit(){this.setId()}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(n=>{this.id=parseInt(n.id),this.getCrew()})}getCrew(){this.movieCrewError=!1,this.loadingCrew=!0,this.movieService.getMovieCrew(this.id).then(n=>{this.movieCrew=n,this.filterCrew()}).catch(n=>{this.handleError(n)}).finally(()=>{this.loadingCrew=!1})}handleError(n){this.movieCrewError=!0,this.errorMessage=n.message}reloadCrew(n){this.getCrew()}filterCrew(){this.direction=this.movieCrew.filter(n=>n.job=="Director"),this.writing=this.movieCrew.filter(n=>n.job=="Screenplay"||n.job=="Writer"),this.story=this.movieCrew.filter(n=>n.job=="Story"),this.basedOnWorkBy=this.movieCrew.filter(n=>n.job=="Novel"),this.producing=this.movieCrew.filter(n=>n.job=="Producer"),this.executiveProducing=this.movieCrew.filter(n=>n.job=="Executive Producer"),this.coProducing=this.movieCrew.filter(n=>n.job=="Co-Producer"),this.directorsOfPhotography=this.movieCrew.filter(n=>n.job=="Director of Photography"),this.productionDesigners=this.movieCrew.filter(n=>n.job=="Production Design"),this.editors=this.movieCrew.filter(n=>n.job=="Editor"),this.musicComposers=this.movieCrew.filter(n=>n.job=="Original Music Composer"),this.additionalMusicComposers=this.movieCrew.filter(n=>n.job=="Additional Music"),this.visualEffectsSupervisors=this.movieCrew.filter(n=>n.job=="Visual Effects Supervisor"),this.costumeDesigners=this.movieCrew.filter(n=>n.job=="Costume Design"),this.castingCrew=this.movieCrew.filter(n=>n.job=="Casting")}ngOnDestroy(){this.activatedRouteParentSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||t)(f(P),f(O))};static \u0275cmp=C({type:t,selectors:[["app-movie-crew"]],standalone:!1,decls:3,vars:2,consts:[[1,"movie-crew"],[4,"ngIf"],["message","Loading crew..."],[3,"reload","errorMessage"],[1,"table-responsive"],[1,"table"],[1,"d-grid"],["routerLink","../full-crew",1,"btn","btn-primary","mb-2"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,d){e&1&&(o(0,"section",0),_(1,Ut,2,0,"ng-container",1)(2,Tn,3,2,"ng-container",1),a()),e&2&&(i(),r("ngIf",d.loadingCrew),i(),r("ngIf",!d.loadingCrew))},dependencies:[L,I,D,j,F],encapsulation:2})};var Pn=t=>["/person",t];function Dn(t,n){t&1&&(l(0),p(1,"app-loading-inline",2),m())}function Rn(t,n){if(t&1){let e=y();l(0),o(1,"app-movie-error",3),x("reload",function(u){E(e);let S=s(2);return w(S.reloadFullCrew(u))}),a(),m()}if(t&2){let e=s(2);i(),r("errorMessage",e.errorMessage)}}function kn(t,n){if(t&1&&(o(0,"tr")(1,"td")(2,"a",17),c(3),a()(),o(4,"td"),c(5),a()()),t&2){let e=n.$implicit;i(2),r("routerLink",g(3,Pn,e.id)),i(),v(" ",e.name," "),i(2),h(e.job)}}function Nn(t,n){if(t&1){let e=y();l(0),o(1,"h2"),c(2,"Full Crew"),a(),o(3,"form",4)(4,"div",5)(5,"label",6),c(6,"Order by"),a(),o(7,"div",7)(8,"select",8),x("change",function(){E(e);let u=s(2);return w(u.changeCrewOrder())}),o(9,"option",9),c(10,"Select an order criteria"),a(),o(11,"option",10),c(12,"Name (ascending)"),a(),o(13,"option",11),c(14,"Name (descending)"),a(),o(15,"option",12),c(16,"Role (ascending)"),a(),o(17,"option",13),c(18,"Role (descending)"),a()()()()(),p(19,"hr"),o(20,"div",14)(21,"table",15)(22,"thead")(23,"tr")(24,"th"),c(25,"Name"),a(),o(26,"th"),c(27,"Role"),a()()(),o(28,"tbody"),_(29,kn,6,5,"tr",16),a()()(),m()}if(t&2){let e=s(2);i(3),r("formGroup",e.orderForm),i(26),r("ngForOf",e.movieFullCrew)}}function Ln(t,n){if(t&1&&(l(0),_(1,Rn,2,1,"ng-container",1)(2,Nn,30,2,"ng-container",1),m()),t&2){let e=s();i(),r("ngIf",e.movieFullCrewError),i(),r("ngIf",!e.movieFullCrewError)}}var Ee=class t{constructor(n,e,d){this.activatedRoute=n;this.movieService=e;this.fb=d}id=0;originalMovieFullCrew=[];movieFullCrew=[];loadingFullCrew=!1;activatedRouteParentSubscription;orderForm=new ae({});fullCrewFound=!1;movieFullCrewError=!1;errorMessage="";ngOnInit(){this.setId(),this.orderForm=this.fb.group({orderCrew:new ce("0")})}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(n=>{this.id=parseInt(n.id),this.getFullCrew()})}getFullCrew(){this.movieFullCrewError=!1,this.loadingFullCrew=!0,this.movieService.getMovieCrew(this.id).then(n=>{this.originalMovieFullCrew=n,this.movieFullCrew=n}).catch(n=>{this.handleError(n)}).finally(()=>{this.loadingFullCrew=!1})}handleError(n){this.movieFullCrewError=!0,this.errorMessage=n.message}reloadFullCrew(n){this.getFullCrew()}changeCrewOrder(){switch(this.orderForm.value.orderCrew){case"1":{this.movieFullCrew.sort((n,e)=>n.name.localeCompare(e.name));break}case"2":{this.movieFullCrew.sort((n,e)=>e.name.localeCompare(n.name));break}case"3":{this.movieFullCrew.sort((n,e)=>n.job.localeCompare(e.job));break}case"4":{this.movieFullCrew.sort((n,e)=>e.job.localeCompare(n.job));break}}}ngOnDestroy(){this.activatedRouteParentSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||t)(f(P),f(O),f(ve))};static \u0275cmp=C({type:t,selectors:[["app-movie-full-crew"]],standalone:!1,decls:3,vars:2,consts:[[1,"movie-full-crew"],[4,"ngIf"],["message","Loading full crew..."],[3,"reload","errorMessage"],[3,"formGroup"],[1,"row","align-items-center"],["for","orderCrew",1,"col-3"],[1,"col-9"],["formControlName","orderCrew","id","orderCrew","name","orderCrew",1,"form-control",3,"change"],["value","0","selected","","disabled",""],["value","1"],["value","2"],["value","3"],["value","4"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],["href","",3,"routerLink"]],template:function(e,d){e&1&&(o(0,"section",0),_(1,Dn,2,0,"ng-container",1)(2,Ln,3,2,"ng-container",1),a()),e&2&&(i(),r("ngIf",d.loadingFullCrew),i(),r("ngIf",!d.loadingFullCrew))},dependencies:[L,I,D,j,F,le,pe,de,_e,re,oe,me,se],encapsulation:2})};var we=class{id;cast;crew;constructor(){this.id=0,this.cast=[],this.crew=[]}};var ye=class{id;results;constructor(){this.id=0,this.results=[]}};var Ie=class t{constructor(n){this.sanitizer=n}transform(n){return this.sanitizer.bypassSecurityTrustResourceUrl(n)}static \u0275fac=function(e){return new(e||t)(f(Qe,16))};static \u0275pipe=J({name:"safeUrl",type:t,pure:!0,standalone:!1})};var $n=t=>["/movie",t,"cast"],Vn=t=>["/movie",t,"crew"],Bn=t=>["/movie",t,"full-crew"],H=t=>["/person",t];function Hn(t,n){t&1&&(l(0),p(1,"app-loading-fullscreen",2),m())}function An(t,n){if(t&1){let e=y();l(0),o(1,"app-movie-error",3),x("reload",function(u){E(e);let S=s(2);return w(S.reloadMovieOverview(u))}),a(),m()}if(t&2){let e=s(2);i(),r("errorMessage",e.errorMessage)}}function Un(t,n){if(t&1&&(l(0),o(1,"section",9)(2,"p"),c(3),a()(),m()),t&2){let e=s(3);i(3),h(e.movie.tagline)}}function zn(t,n){if(t&1&&(l(0),o(1,"section",0)(2,"p"),c(3),a()(),p(4,"hr"),m()),t&2){let e=s(3);i(3),h(e.movie.overview)}}function Wn(t,n){t&1&&(l(0),p(1,"app-loading-inline",10),m())}function Gn(t,n){if(t&1&&(l(0),o(1,"a",20),c(2),a(),p(3,"br"),m()),t&2){let e=n.$implicit;i(),r("routerLink",g(2,H,e.id)),i(),v(" ",e.name," ")}}function Yn(t,n){if(t&1&&(l(0),o(1,"div",15)(2,"table",8)(3,"tbody")(4,"tr")(5,"td"),c(6,"Starring:"),a(),o(7,"td",18),_(8,Gn,4,4,"ng-container",19),a()()()()(),m()),t&2){let e=s(5);i(8),r("ngForOf",e.mainCast)}}function Qn(t,n){t&1&&(l(0),o(1,"p"),c(2,"This movie has no recongizable cast"),a(),m())}function qn(t,n){if(t&1&&(l(0),o(1,"a",20),c(2),a(),p(3,"br"),m()),t&2){let e=n.$implicit;i(),r("routerLink",g(2,H,e.id)),i(),v(" ",e.name," ")}}function Jn(t,n){if(t&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Directed By:"),a(),o(4,"td",18),_(5,qn,4,4,"ng-container",19),a()(),m()),t&2){let e=s(5);i(5),r("ngForOf",e.direction)}}function Kn(t,n){if(t&1&&(l(0),o(1,"a",20),c(2),a(),p(3,"br"),m()),t&2){let e=n.$implicit;i(),r("routerLink",g(2,H,e.id)),i(),v(" ",e.name," ")}}function Xn(t,n){if(t&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Written By:"),a(),o(4,"td",18),_(5,Kn,4,4,"ng-container",19),a()(),m()),t&2){let e=s(5);i(5),r("ngForOf",e.writing)}}function Zn(t,n){if(t&1&&(l(0),o(1,"a",20),c(2),a(),p(3,"br"),m()),t&2){let e=n.$implicit;i(),r("routerLink",g(2,H,e.id)),i(),v(" ",e.name," ")}}function ei(t,n){if(t&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Story By:"),a(),o(4,"td",18),_(5,Zn,4,4,"ng-container",19),a()(),m()),t&2){let e=s(5);i(5),r("ngForOf",e.story)}}function ti(t,n){if(t&1&&(l(0),o(1,"a",20),c(2),a(),p(3,"br"),m()),t&2){let e=n.$implicit;i(),r("routerLink",g(2,H,e.id)),i(),v(" ",e.name," ")}}function ni(t,n){if(t&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Based on the Work By:"),a(),o(4,"td",18),_(5,ti,4,4,"ng-container",19),a()(),m()),t&2){let e=s(5);i(5),r("ngForOf",e.basedOnWorkBy)}}function ii(t,n){if(t&1&&(l(0),o(1,"a",20),c(2),a(),p(3,"br"),m()),t&2){let e=n.$implicit;i(),r("routerLink",g(2,H,e.id)),i(),v(" ",e.name," ")}}function ri(t,n){if(t&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Produced By:"),a(),o(4,"td",18),_(5,ii,4,4,"ng-container",19),a()(),m()),t&2){let e=s(5);i(5),r("ngForOf",e.producing)}}function oi(t,n){t&1&&(l(0),c(1,"s"),m())}function ai(t,n){if(t&1&&(l(0),o(1,"a",20),c(2),a(),p(3,"br"),m()),t&2){let e=n.$implicit;i(),r("routerLink",g(2,H,e.id)),i(),v(" ",e.name," ")}}function ci(t,n){if(t&1&&(l(0),o(1,"tr")(2,"td"),c(3," Executive Producer"),_(4,oi,2,0,"ng-container",1),c(5,": "),a(),o(6,"td",18),_(7,ai,4,4,"ng-container",19),a()(),m()),t&2){let e=s(5);i(4),r("ngIf",e.executiveProducing.length>1),i(3),r("ngForOf",e.executiveProducing)}}function li(t,n){if(t&1&&(l(0),o(1,"section",11)(2,"div",4)(3,"div",12)(4,"h3"),c(5,"Main Cast"),a(),_(6,Yn,9,1,"ng-container",1)(7,Qn,3,0,"ng-container",1),a(),o(8,"div",13)(9,"section",14)(10,"h3"),c(11,"Main Crew"),a(),o(12,"div",15)(13,"table",8)(14,"tbody"),_(15,Jn,6,1,"ng-container",1)(16,Xn,6,1,"ng-container",1)(17,ei,6,1,"ng-container",1)(18,ni,6,1,"ng-container",1)(19,ri,6,1,"ng-container",1)(20,ci,8,2,"ng-container",1),a()()()()()(),o(21,"div",4)(22,"div",12)(23,"div",16)(24,"a",17),c(25," See Full Cast "),a()()(),o(26,"div",12)(27,"div",16)(28,"a",17),c(29," See Featured Crew "),a()()(),o(30,"div",12)(31,"div",16)(32,"a",17),c(33," See Full Crew "),a()()()()(),m()),t&2){let e=s(4);i(6),r("ngIf",e.mainCast.length>1),i(),r("ngIf",e.mainCast.length==0),i(8),r("ngIf",e.direction.length>0),i(),r("ngIf",e.writing.length>0),i(),r("ngIf",e.story.length>0),i(),r("ngIf",e.basedOnWorkBy.length>0),i(),r("ngIf",e.producing.length>0),i(),r("ngIf",e.executiveProducing.length>0),i(4),r("routerLink",g(11,$n,e.movie.id)),i(4),r("routerLink",g(13,Vn,e.movie.id)),i(4),r("routerLink",g(15,Bn,e.movie.id))}}function mi(t,n){if(t&1&&(l(0),o(1,"section",21)(2,"p"),c(3," Error showing credits: "),o(4,"strong"),c(5),a()()(),m()),t&2){let e=s(4);i(5),h(e.movieCreditsErrorMessage)}}function si(t,n){if(t&1&&(l(0),_(1,li,34,17,"ng-container",1)(2,mi,6,1,"ng-container",1),p(3,"hr"),m()),t&2){let e=s(3);i(),r("ngIf",e.movieCreditsFound),i(),r("ngIf",!e.movieCreditsFound)}}function _i(t,n){if(t&1&&(l(0),o(1,"div",4)(2,"div",23),p(3,"iframe",24),B(4,"safeUrl"),a()(),m()),t&2){let e=s(5);i(3),r("src",X(4,1,e.movieTrailerUrl),Ve)}}function pi(t,n){t&1&&(l(0),o(1,"p"),c(2,"No trailer found"),a(),m())}function di(t,n){if(t&1&&(l(0),o(1,"p"),c(2," Error showing trailer: "),o(3,"strong"),c(4),a()(),m()),t&2){let e=s(6);i(4),h(e.movieTrailerErrorMessage)}}function vi(t,n){if(t&1&&(l(0),_(1,pi,3,0,"ng-container",1)(2,di,5,1,"ng-container",1),m()),t&2){let e=s(5);i(),r("ngIf",!e.movieTrailerError),i(),r("ngIf",e.movieTrailerError)}}function gi(t,n){if(t&1&&(l(0),o(1,"section",22)(2,"h3"),c(3,"Trailer"),a(),_(4,_i,5,3,"ng-container",1)(5,vi,3,2,"ng-container",1),a(),m()),t&2){let e=s(4);i(4),r("ngIf",e.movieTrailerFound),i(),r("ngIf",!e.movieTrailerFound)}}function ui(t,n){if(t&1&&(l(0),o(1,"section",25)(2,"p"),c(3," Error showing trailer: "),o(4,"strong"),c(5),a()()(),m()),t&2){let e=s(5);i(5),h(e.movieTrailerErrorMessage)}}function fi(t,n){t&1&&(l(0),o(1,"section",26)(2,"h3"),c(3,"Trailer"),a(),o(4,"p"),c(5,"No trailer available"),a()(),m())}function Ci(t,n){if(t&1&&(l(0),_(1,ui,6,1,"ng-container",1)(2,fi,6,0,"ng-container",1),m()),t&2){let e=s(4);i(),r("ngIf",e.movieTrailerError),i(),r("ngIf",!e.movieTrailerError)}}function xi(t,n){if(t&1&&(l(0),_(1,gi,6,2,"ng-container",1)(2,Ci,3,2,"ng-container",1),m()),t&2){let e=s(3);i(),r("ngIf",e.movieTrailerFound),i(),r("ngIf",!e.movieTrailerFound)}}function hi(t,n){t&1&&(l(0),c(1,"s"),m())}function bi(t,n){if(t&1&&(l(0),c(1),p(2,"br"),m()),t&2){let e=n.$implicit;i(),v(" ",e.name," ")}}function Mi(t,n){if(t&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Genre"),_(4,hi,2,0,"ng-container",1),c(5,":"),a(),o(6,"td"),_(7,bi,3,1,"ng-container",19),a()(),m()),t&2){let e=s(3);i(4),r("ngIf",e.movie.genres.length>1),i(3),r("ngForOf",e.movie.genres)}}function Si(t,n){t&1&&(l(0),c(1,"y"),m())}function Ei(t,n){t&1&&(l(0),c(1,"ies"),m())}function wi(t,n){if(t&1&&(l(0),c(1),p(2,"br"),m()),t&2){let e=n.$implicit;i(),v(" ",e.name," ")}}function yi(t,n){if(t&1&&(l(0),o(1,"tr")(2,"td"),c(3," Production Compan"),_(4,Si,2,0,"ng-container",1)(5,Ei,2,0,"ng-container",1),c(6,": "),a(),o(7,"td"),_(8,wi,3,1,"ng-container",19),a()(),m()),t&2){let e=s(3);i(4),r("ngIf",e.movie.production_companies.length==1),i(),r("ngIf",e.movie.production_companies.length>1),i(3),r("ngForOf",e.movie.production_companies)}}function Ii(t,n){t&1&&(l(0),c(1,"y"),m())}function Oi(t,n){t&1&&(l(0),c(1,"ies"),m())}function Fi(t,n){if(t&1&&(l(0),c(1),p(2,"br"),m()),t&2){let e=n.$implicit;i(),v(" ",e.name," ")}}function Ti(t,n){if(t&1&&(l(0),o(1,"tr")(2,"td"),c(3," Production Countr"),_(4,Ii,2,0,"ng-container",1)(5,Oi,2,0,"ng-container",1),c(6,": "),a(),o(7,"td"),_(8,Fi,3,1,"ng-container",19),a()(),m()),t&2){let e=s(3);i(4),r("ngIf",e.movie.production_countries.length==1),i(),r("ngIf",e.movie.production_countries.length>1),i(3),r("ngForOf",e.movie.production_countries)}}function Pi(t,n){if(t&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Runtime:"),a(),o(4,"td"),c(5),a()(),m()),t&2){let e=s(3);i(5),v("",e.movie.runtime," min")}}function Di(t,n){if(t&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Budget:"),a(),o(4,"td"),c(5),B(6,"currency"),a()(),m()),t&2){let e=s(3);i(5),v("USD ",ke(6,1,e.movie.budget,"USD","symbol","1.0"))}}function Ri(t,n){if(t&1&&(l(0),o(1,"tr")(2,"td"),c(3,"Box Office:"),a(),o(4,"td"),c(5),B(6,"currency"),a()(),m()),t&2){let e=s(3);i(5),v("USD ",ke(6,1,e.movie.revenue,"USD","symbol","1.0"))}}function ki(t,n){if(t&1&&(l(0),o(1,"div",16)(2,"a",28),p(3,"fa-icon",29),c(4," View IMDB "),a()(),m()),t&2){let e=s(4);i(2),r("href",e.movieIMDB,z),i(),r("icon",e.imdbIcon)}}function Ni(t,n){if(t&1&&(l(0),o(1,"div",16)(2,"a",28),p(3,"fa-icon",29),c(4," View Homepage "),a()(),m()),t&2){let e=s(4);i(2),r("href",e.movieHomepage,z),i(),r("icon",e.globeIcon)}}function Li(t,n){if(t&1&&(l(0),o(1,"section",27),_(2,ki,5,2,"ng-container",1)(3,Ni,5,2,"ng-container",1),a(),m()),t&2){let e=s(3);i(2),r("ngIf",e.movie.imdb_id),i(),r("ngIf",e.movie.homepage)}}function ji(t,n){if(t&1&&(l(0),_(1,Un,4,1,"ng-container",1)(2,zn,5,1,"ng-container",1)(3,Wn,2,0,"ng-container",1)(4,si,4,2,"ng-container",1),o(5,"div",4)(6,"div",5),_(7,xi,3,2,"ng-container",1),a(),o(8,"div",5)(9,"section",6)(10,"h3"),c(11,"Movie Info"),a(),o(12,"div",7)(13,"table",8)(14,"tbody"),_(15,Mi,8,2,"ng-container",1)(16,yi,9,3,"ng-container",1)(17,Ti,9,3,"ng-container",1),l(18),o(19,"tr")(20,"td"),c(21,"Release Date:"),a(),o(22,"td"),c(23),B(24,"date"),a()(),m(),_(25,Pi,6,1,"ng-container",1)(26,Di,7,6,"ng-container",1)(27,Ri,7,6,"ng-container",1),a()()(),_(28,Li,4,2,"ng-container",1),a()()(),m()),t&2){let e=s(2);i(),r("ngIf",e.movie.tagline),i(),r("ngIf",e.movie.overview),i(),r("ngIf",e.loadingCredits),i(),r("ngIf",!e.loadingCredits),i(3),r("ngIf",!e.loadingTrailer),i(8),r("ngIf",e.movie.genres.length>0),i(),r("ngIf",e.movie.production_companies.length>0),i(),r("ngIf",e.movie.production_countries.length>0),i(6),h(Ue(24,13,e.movieReleaseDate,"longDate")),i(2),r("ngIf",e.movie.runtime&&e.movie.runtime>0),i(),r("ngIf",e.movie.budget&&e.movie.budget>0),i(),r("ngIf",e.movie.revenue&&e.movie.revenue>0),i(),r("ngIf",e.movie.imdb_id||e.movie.homepage)}}function $i(t,n){if(t&1&&(l(0),_(1,An,2,1,"ng-container",1)(2,ji,29,16,"ng-container",1),m()),t&2){let e=s();i(),r("ngIf",e.movieOverviewError),i(),r("ngIf",!e.movieOverviewError)}}var Oe=class t{constructor(n,e,d){this.activatedRoute=n;this.movieService=e;this.localStorageService=d}imdbIcon=at;globeIcon=nt;id=0;movie=new $;credits=new we;responseVideo=new ye;movieReleaseDate=new Date;movieIMDB="";movieHomepage="";mainCast=[];direction=[];writing=[];story=[];basedOnWorkBy=[];producing=[];executiveProducing=[];movieTrailerUrl="";movieDefaultUrl="";loadingMovie=!1;movieFound=!1;movieOverviewError=!1;errorMessage="";loadingCredits=!1;movieCreditsFound=!1;movieCreditsError=!1;movieCreditsErrorMessage="";loadingTrailer=!1;movieTrailerFound=!1;movieTrailerError=!1;movieTrailerErrorMessage="";activatedRouteParentSubscription;ngOnInit(){this.setId()}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(n=>{this.id=parseInt(n.id),this.getMovie(),this.getCredits(),this.getVideo()})}getMovie(){this.movieOverviewError=!1,this.loadingMovie=!0;let n=this.localStorageService.getItem("movie");n?(this.movie=n,this.loadingMovie=!1,this.setReleaseDate(),this.setMovieIMDB(),this.setMovieHomepage()):this.movieService.getMovie(this.id).then(e=>{this.movie=e,this.movieFound=!0,this.setReleaseDate(),this.setMovieIMDB(),this.setMovieHomepage()}).catch(e=>{this.handleError(e)}).finally(()=>{this.loadingMovie=!1})}getCredits(){this.loadingCredits=!0,this.movieService.getMovieCredits(this.id).then(n=>{this.credits=n,this.movieCreditsFound=!0,this.setMainCast(),this.setAndFilterMainCrew()}).catch(n=>{this.handleCreditsError(n)}).finally(()=>{this.loadingCredits=!1})}getVideo(){this.loadingTrailer=!0,this.movieService.getMovieVideos(this.id).then(n=>{this.responseVideo=n,this.setMovieTrailer()}).catch(n=>{this.handleTrailerError(n)}).finally(()=>{this.loadingTrailer=!1})}setReleaseDate(){this.movie.release_date&&(this.movieReleaseDate=new Date(this.movie.release_date))}setMovieIMDB(){this.movie.imdb_id&&(this.movieIMDB=`${T.imdbMovieUrl}${this.movie.imdb_id}/`)}setMovieHomepage(){this.movie.homepage&&(this.movieHomepage=`${this.movie.homepage}`)}setMainCast(){this.credits&&(this.mainCast=this.credits.cast.slice(0,7))}setAndFilterMainCrew(){this.credits&&(this.direction=this.credits.crew.filter(n=>n.job=="Director"),this.writing=this.credits.crew.filter(n=>n.job=="Screenplay"||n.job=="Writer"),this.story=this.credits.crew.filter(n=>n.job=="Story"),this.basedOnWorkBy=this.credits.crew.filter(n=>n.job=="Novel"),this.producing=this.credits.crew.filter(n=>n.job=="Producer"),this.executiveProducing=this.credits.crew.filter(n=>n.job=="Executive Producer"))}setMovieTrailer(){if(this.responseVideo.results.length>0)this.movieTrailerFound=!0;else return;let e=this.responseVideo.results.filter(d=>d.type=="Trailer").slice(0,1)[0].key;this.movieTrailerUrl=`${T.youtubeEmbedUrl}${e}`}handleError(n){this.movieOverviewError=!0,this.errorMessage=n.message}handleCreditsError(n){this.movieCreditsError=!0,this.movieCreditsErrorMessage=n.message}handleTrailerError(n){this.movieTrailerError=!0,this.movieTrailerErrorMessage=n.message}reloadMovieOverview(n){this.getMovie()}ngOnDestroy(){this.activatedRouteParentSubscription?.unsubscribe()}static \u0275fac=function(e){return new(e||t)(f(P),f(O),f(te))};static \u0275cmp=C({type:t,selectors:[["app-movie-overview"]],standalone:!1,decls:3,vars:2,consts:[[1,"movie-overview"],[4,"ngIf"],["message","Loading movie..."],[3,"reload","errorMessage"],[1,"row"],[1,"col-12","col-lg-6"],[1,"movie-info"],[1,"table","table-responsive"],[1,"table"],[1,"movie-tagline"],["message","Loading credits"],[1,"movie-main-credits"],[1,"col-12","col-lg-4"],[1,"col-12","col-lg-8"],[1,"movie-main-crew"],[1,"table-responsive"],[1,"d-grid","mb-2"],[1,"btn","btn-primary",3,"routerLink"],[1,"text-end"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"error-credits"],[1,"movie-video"],[1,"col-12"],[3,"src"],[1,"error-trailer"],[1,"no-trailer-available"],[1,"movie-external-links"],["target","_blank",1,"btn","btn-primary",3,"href"],[3,"icon"]],template:function(e,d){e&1&&(o(0,"section",0),_(1,Hn,2,0,"ng-container",1)(2,$i,3,2,"ng-container",1),a()),e&2&&(i(),r("ngIf",d.loadingMovie),i(),r("ngIf",!d.loadingMovie))},dependencies:[L,I,D,ie,j,F,R,Ge,We,Ie],styles:[".movie-overview[_ngcontent-%COMP%]   .movie-tagline[_ngcontent-%COMP%]{font-style:italic;margin-bottom:1rem}.movie-overview[_ngcontent-%COMP%]   .movie-overview[_ngcontent-%COMP%], .movie-overview[_ngcontent-%COMP%]   .movie-main-cast[_ngcontent-%COMP%], .movie-overview[_ngcontent-%COMP%]   .movie-main-crew[_ngcontent-%COMP%]{margin-bottom:1rem}.movie-overview[_ngcontent-%COMP%]   .movie-video[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:inherit;height:325px}.movie-overview[_ngcontent-%COMP%]   .movie-info[_ngcontent-%COMP%]{margin-bottom:1rem}"]})};var Vi=[{path:":id",component:he,children:[{path:"overview",component:Oe,pathMatch:"full"},{path:"cast",component:Me,pathMatch:"full"},{path:"crew",component:Se,pathMatch:"full"},{path:"full-crew",component:Ee,pathMatch:"full"},{path:"",redirectTo:"overview",pathMatch:"full"}]}],Fe=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=N({type:t});static \u0275inj=k({imports:[Ne.forChild(Vi),Ne]})};var Te=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=N({type:t});static \u0275inj=k({imports:[W,ne]})};var Pe=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=N({type:t});static \u0275inj=k({imports:[W]})};var mt=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=N({type:t});static \u0275inj=k({imports:[W,Fe,ct,Te,lt,rt,ot,Pe,ne]})};export{mt as MovieModule};

import{a as A,b as Te,c as K,d as Ne}from"./chunk-OMCHMT3Y.js";import{A as x,B as m,C as fe,D as ve,E as he,F as S,G as o,H as f,I as C,K as Ce,L as be,M as Pe,N as F,S as k,Sa as De,T as xe,Ta as Fe,U as ye,Ua as ke,V as b,Va as Ye,W as $,Wa as Le,Xa as Ae,Ya as je,Za as W,_ as z,_a as q,a as le,b as me,ba as Se,d as ge,e as N,f as _e,fa as Y,g as E,ga as Ie,h as R,ha as we,ia as L,ja as Me,k as ue,ka as T,l as i,la as Ee,m as v,ma as y,n as u,o as D,pa as U,q as d,r as B,s as r,t as s,ta as Re,u as p,ua as Oe,v as g,w as c,x as l,ya as j,z as O,za as Q}from"./chunk-HVLHQCE4.js";var I=class{adult;also_known_as;biography;birthday;deathday;gender;homepage;id;imdb_id;known_for_department;name;place_of_birth;popularity;profile_path;constructor(){this.adult=!1,this.also_known_as=[],this.biography="",this.birthday="",this.deathday="",this.gender=1,this.homepage=null,this.id=0,this.imdb_id="",this.known_for_department="",this.name="",this.place_of_birth="",this.popularity=0,this.profile_path=""}};var w=class e{constructor(n){this.http=n}getPerson(n){return le(this,null,function*(){return yield me(this.http.get(`/person/${n}`))})}getCredits(n){return le(this,null,function*(){return yield me(this.http.get(`/person/${n}/movie_credits`))})}static \u0275fac=function(t){return new(t||e)(_e(Se))};static \u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})};var G=class e{repeat=U;errorMessage="";reload=new B;ngOnInit(){}pressReload(){this.reload.emit(!0)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-person-error-fullscreen"]],inputs:{errorMessage:"errorMessage"},outputs:{reload:"reload"},standalone:!1,decls:11,vars:2,consts:[[1,"person-error-fullscreen"],[1,"person-error-description"],["type","button",1,"btn","btn-primary",3,"click"],[3,"icon"]],template:function(t,a){t&1&&(s(0,"section",0)(1,"div",1)(2,"h1"),o(3,"Person Service Error"),p(),s(4,"p"),o(5,"There was an error trying to get person info: "),s(6,"strong"),o(7),p()(),s(8,"button",2),x("click",function(){return a.pressReload()}),g(9,"fa-icon",3),o(10," Reload "),p()()()),t&2&&(i(7),f(a.errorMessage),i(2),r("icon",a.repeat))},dependencies:[j],styles:[".person-error-fullscreen[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}.person-error-fullscreen[_ngcontent-%COMP%]   .person-error-description[_ngcontent-%COMP%]{text-align:center;border:1px solid black;padding:1rem 2rem}.person-error-fullscreen[_ngcontent-%COMP%]   .person-error-description[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};var J=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-person-not-found"]],standalone:!1,decls:6,vars:0,consts:[[1,"person-not-found"],[1,"person-not-found-description"]],template:function(t,a){t&1&&(s(0,"section",0)(1,"div",1)(2,"h1"),o(3,"Person Not Found"),p(),s(4,"p"),o(5,"No person was found with this ID. Try another one :)"),p()()())},styles:[".person-not-found[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}.person-not-found[_ngcontent-%COMP%]   .person-not-found-description[_ngcontent-%COMP%]{text-align:center;border:1px solid black;padding:1rem 2rem}"]})};function Ke(e,n){if(e&1&&(c(0),o(1),l()),e&2){let t=m(2);i(),f(t.deathYear)}}function We(e,n){if(e&1&&(c(0),o(1),d(2,Ke,2,1,"ng-container",6),o(3,") "),l()),e&2){let t=m();i(),C(" (",t.birthYear," - "),i(),r("ngIf",t.person.deathday)}}var X=class e{user=Re;film=Oe;id=0;person=new I;name="";birthYear=0;deathYear=0;knownFor="";profileImg="";profileImgAltText="";constructor(){}ngOnInit(){this.setName(),this.setBirthYear(),this.setDeathDay(),this.setKnownFor(),this.setProfileImg()}setName(){this.person.name&&(this.name=this.person.name)}setBirthYear(){if(this.person.birthday){let n=new Date(this.person.birthday);this.birthYear=n.getFullYear()}}setDeathDay(){if(this.person.deathday){let n=new Date(this.person.deathday);this.deathYear=n.getFullYear()}}setKnownFor(){this.person.known_for_department&&(this.knownFor=this.person.known_for_department)}setProfileImg(){this.profileImg=this.person.profile_path?`${y.imgUrl}${y.profileSizeSmall}${this.person.profile_path}`:"img/default-images/profile_image_notavailable_w185.png",this.profileImgAltText=this.person.profile_path?`Profile path for ${this.person.name}`:`Profile path for ${this.person.name} is not available`}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-person-header"]],inputs:{id:"id",person:"person"},standalone:!1,decls:14,vars:7,consts:[[1,"person-header"],[1,"row","align-items-lg-center"],[1,"col-12","col-lg-2"],[1,"person-header-profile-img",3,"src","alt"],[1,"col-12","col-lg-10"],[3,"icon"],[4,"ngIf"]],template:function(t,a){t&1&&(s(0,"section",0)(1,"header")(2,"div",1)(3,"div",2),g(4,"img",3),p(),s(5,"div",4)(6,"h1"),g(7,"fa-icon",5),o(8),s(9,"small"),d(10,We,4,2,"ng-container",6),p()(),s(11,"h2"),g(12,"fa-icon",5),o(13),p()()()()()),t&2&&(i(4),r("src",a.profileImg,ue)("alt",a.profileImgAltText),i(3),r("icon",a.user),i(),C(" ",a.name," "),i(2),r("ngIf",a.person.birthday||a.person.deathday),i(2),r("icon",a.film),i(),C(" Known for: ",a.knownFor))},dependencies:[b,j],styles:[".person-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{background-color:#ccc;padding:5rem 1rem 1rem}.person-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .person-header-profile-img[_ngcontent-%COMP%]{border:1px solid black;box-shadow:1px 1px 5px #000}@media screen and (max-width: 767px){.person-header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .person-header-profile-img[_ngcontent-%COMP%]{margin-bottom:1rem}}"]})};var Ge=["personHeader"];function Je(e,n){e&1&&(c(0),g(1,"app-loading-fullscreen",3),l())}function Xe(e,n){e&1&&(c(0),g(1,"app-loading-fullscreen",4),l())}function Ze(e,n){e&1&&(c(0),g(1,"app-person-not-found"),l())}function et(e,n){if(e&1){let t=O();c(0),s(1,"app-person-error-fullscreen",5),x("reload",function(_){E(t);let h=m(4);return R(h.reloadPerson(_))}),p(),l()}if(e&2){let t=m(4);i(),r("errorMessage",t.errorMessage)}}function tt(e,n){if(e&1&&(c(0),d(1,Ze,2,0,"ng-container",2)(2,et,2,1,"ng-container",2),l()),e&2){let t=m(3);i(),r("ngIf",t.personNotFound),i(),r("ngIf",!t.personNotFound)}}function nt(e,n){if(e&1&&(c(0),g(1,"app-person-header",6,0),s(3,"main")(4,"nav",7)(5,"div",8)(6,"ul",9)(7,"li",10)(8,"a",11),o(9," Overview "),p()(),s(10,"li",10)(11,"a",12),o(12,"Movie Credits"),p()()()()(),s(13,"div",8)(14,"div",13)(15,"div",14),g(16,"router-outlet"),p(),s(17,"div",15)(18,"aside",16),o(19,"Aside 2"),p()()()()(),l()),e&2){let t=m(3);i(),r("id",t.id)("person",t.person)}}function it(e,n){if(e&1&&(c(0),d(1,tt,3,2,"ng-container",2)(2,nt,20,2,"ng-container",2),l()),e&2){let t=m(2);i(),r("ngIf",t.personError),i(),r("ngIf",!t.personError)}}function rt(e,n){if(e&1&&(c(0),d(1,Xe,2,0,"ng-container",2)(2,it,3,2,"ng-container",2),l()),e&2){let t=m();i(),r("ngIf",t.loadingPerson),i(),r("ngIf",!t.loadingPerson)}}var Z=class e{constructor(n,t,a,_,h){this.activatedRoute=n;this.titleService=t;this.personService=a;this.localStorageService=_;this.cd=h}id=0;person=new I;loadingView=!0;loadingPerson=!1;personNotFound=!1;personError=!1;errorMessage="";personBiography="";routeSubscription;personHeader;ngOnInit(){this.cd.detectChanges(),this.routeSubscription=this.activatedRoute.params.subscribe(n=>{this.id=parseInt(n.id),this.getPerson()})}ngAfterContentInit(){this.loadingView=!1,this.cd.detectChanges()}getPerson(){this.personError=!1,this.loadingPerson=!0,this.personService.getPerson(this.id).then(n=>{this.person=n,this.localStorageService.setItem("person",n),this.setPersonTitle(),this.setPersonBiography()}).catch(n=>{this.handleError(n)}).finally(()=>{this.loadingPerson=!1})}setPersonBiography(){this.personBiography=this.person.biography}handleError(n){this.personError=!0,n.status&&n.status===404?(this.personNotFound=!0,this.titleService.setTitle("Person Not Found")):(this.errorMessage=this.errorMessage,this.titleService.setTitle("PersonService Error"))}reloadPerson(n){this.getPerson()}setPersonTitle(){this.titleService.setTitle(this.person.name)}ngOnDestroy(){this.routeSubscription&&this.routeSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||e)(v(Y),v(Ee),v(w),v(A),v(xe))};static \u0275cmp=u({type:e,selectors:[["app-person"]],viewQuery:function(t,a){if(t&1&&fe(Ge,5),t&2){let _;ve(_=he())&&(a.personHeader=_.first)}},standalone:!1,decls:3,vars:2,consts:[["personHeader",""],[1,"person"],[4,"ngIf"],["message","Loading view..."],["message","Loading person..."],[3,"reload","errorMessage"],[3,"id","person"],[1,"navbar","navbar-dark","bg-dark","navbar-expand-sm"],[1,"container-fluid"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page","routerLink","overview","routerLinkActive","active",1,"nav-link"],["routerLink","movie-credits","routerLinkActive","active",1,"nav-link"],[1,"row"],[1,"col-12","col-lg-8"],[1,"col-12","col-lg-4"],[1,"aside-1"]],template:function(t,a){t&1&&(s(0,"section",1),d(1,Je,2,0,"ng-container",2)(2,rt,3,2,"ng-container",2),p()),t&2&&(i(),r("ngIf",a.loadingView),i(),r("ngIf",!a.loadingView))},dependencies:[b,Ie,L,Me,Te,G,J,X],styles:[".person[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   nav.navbar[_ngcontent-%COMP%]{margin-bottom:1rem;font-family:Oswald,Arial,sans-serif}"]})};var H=class e{repeat=U;errorMessage="";reload=new B;ngOnInit(){}pressReload(){this.reload.emit(!0)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-person-error"]],inputs:{errorMessage:"errorMessage"},outputs:{reload:"reload"},standalone:!1,decls:9,vars:2,consts:[[1,"person-error"],["type","button",1,"btn","btn-primary",3,"click"],[3,"icon"]],template:function(t,a){t&1&&(s(0,"section",0)(1,"h1"),o(2,"Person Service Error"),p(),s(3,"p"),o(4," There was an error trying to get person info: "),s(5,"strong"),o(6),p()(),s(7,"button",1),x("click",function(){return a.pressReload()}),g(8,"fa-icon",2),p()()),t&2&&(i(6),f(a.errorMessage),i(2),r("icon",a.repeat))},dependencies:[j],styles:[".person-error[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};function at(e,n){e&1&&(c(0),g(1,"app-loading-inline",2),l())}function st(e,n){if(e&1){let t=O();c(0),s(1,"app-person-error",3),x("reload",function(_){E(t);let h=m(2);return R(h.reloadOverview(_))}),p(),l()}if(e&2){let t=m(2);i(),r("errorMessage",t.errorMessage)}}function pt(e,n){if(e&1&&(c(0),s(1,"p"),o(2),p(),l()),e&2){let t=m(3);i(2),f(t.personBiography)}}function ct(e,n){e&1&&(c(0),s(1,"p",4),o(2,"No Biography Available"),p(),l())}function lt(e,n){if(e&1&&(c(0),d(1,pt,3,1,"ng-container",1)(2,ct,3,0,"ng-container",1),l()),e&2){let t=m(2);i(),r("ngIf",t.person.biography),i(),r("ngIf",t.person.biography.length===0)}}function mt(e,n){if(e&1&&(c(0),d(1,st,2,1,"ng-container",1)(2,lt,3,2,"ng-container",1),l()),e&2){let t=m();i(),r("ngIf",t.personOverviewError),i(),r("ngIf",!t.personOverviewError)}}var te=class e{constructor(n,t,a){this.activatedRoute=n;this.personService=t;this.localStorageService=a}id=0;person=new I;activatedRouteParentSubscription;loadingPerson=!1;personBiography="";personFound=!1;personOverviewError=!1;errorMessage="";ngOnInit(){this.setId()}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(n=>{this.id=parseInt(n.id),this.getPerson()})}getPerson(){this.personOverviewError=!1,this.loadingPerson=!0;let n=this.localStorageService.getItem("person");n?(this.person=n,this.loadingPerson=!1,this.setPersonBiography()):this.personService.getPerson(this.id).then(t=>{this.person=t,this.personFound=!0,this.setPersonBiography()}).catch(t=>{this.handleError(t)}).finally(()=>{this.loadingPerson=!1})}handleError(n){this.personOverviewError=!0,this.errorMessage=n.message}reloadOverview(n){this.getPerson()}setPersonBiography(){this.person.biography.length!==0&&(this.personBiography=this.person.biography)}ngOnDestroy(){this.activatedRouteParentSubscription&&this.activatedRouteParentSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||e)(v(Y),v(w),v(A))};static \u0275cmp=u({type:e,selectors:[["app-person-overview"]],standalone:!1,decls:3,vars:2,consts:[[1,"person-overview"],[4,"ngIf"],["message","Loading person..."],[3,"reload","errorMessage"],[1,"no-biography"]],template:function(t,a){t&1&&(s(0,"section",0),d(1,at,2,0,"ng-container",1)(2,mt,3,2,"ng-container",1),p()),t&2&&(i(),r("ngIf",a.loadingPerson),i(),r("ngIf",!a.loadingPerson))},dependencies:[b,K,H],styles:[".person-overview[_ngcontent-%COMP%]   .no-biography[_ngcontent-%COMP%]{font-style:italic}"]})};var ne=class{id;cast;crew;constructor(){this.id=0,this.cast=[],this.crew=[]}};var ie=class{adult;backdrop_path;genre_ids;id;original_language;original_title;overview;popularity;poster_path;release_date;title;video;vote_average;vote_count;character;credit_id;order;constructor(){this.adult=!1,this.backdrop_path="",this.genre_ids=[],this.id=0,this.original_language="",this.original_title="",this.overview="",this.popularity=0,this.poster_path="",this.release_date="",this.title="",this.video=!1,this.vote_average=0,this.vote_count=0,this.character="",this.credit_id="",this.order=0}};var dt=e=>["/movie",e],gt=e=>({"background-image":e});function _t(e,n){if(e&1&&(c(0),o(1),l()),e&2){let t=m();i(),f(t.releaseYear)}}function ut(e,n){e&1&&(c(0),o(1,"No Release Year"),l())}function ft(e,n){if(e&1&&(c(0),o(1),l()),e&2){let t=m();i(),C("as ",t.castRole.character)}}function vt(e,n){e&1&&(c(0),o(1,"No Role Defined"),l())}function ht(e,n){if(e&1&&(c(0),o(1),l()),e&2){let t=m(2);i(),f(t.releaseYear)}}function Ct(e,n){e&1&&(c(0),o(1,"No Release Year"),l())}function bt(e,n){if(e&1&&(o(0),d(1,ht,2,1,"ng-container",8)(2,Ct,2,0,"ng-container",8),o(3,") ")),e&2){let t=m();C(" ",t.castRole.title," ("),i(),r("ngIf",t.releaseYear),i(),r("ngIf",!t.releaseYear)}}function Pt(e,n){if(e&1&&(c(0),o(1),l()),e&2){let t=m(2);i(),C("as ",t.castRole.character)}}function xt(e,n){e&1&&(c(0),o(1,"No Role Defined"),l())}function yt(e,n){if(e&1&&d(0,Pt,2,1,"ng-container",8)(1,xt,2,0,"ng-container",8),e&2){let t=m();r("ngIf",t.castRole.character),i(),r("ngIf",!t.castRole.character)}}var re=class e{castRole=new ie;posterSizeSmall="";releaseYear=0;ngOnInit(){this.setPoster(),this.setYear()}setPoster(){this.posterSizeSmall=this.castRole.poster_path?`${y.imgUrl}${y.posterSizeSmall}${this.castRole.poster_path}`:"img/default-images/movie_poster_notavailable_w500.png"}setYear(){let n=new Date(this.castRole.release_date);this.releaseYear=n.getFullYear()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-person-cast-credit"]],inputs:{castRole:"castRole"},standalone:!1,decls:18,vars:15,consts:[["castPopTitle",""],["castPopContent",""],[1,"person-credit"],["placement","bottom","triggers","hover",3,"routerLink","popoverTitle","ngbPopover","container","popoverClass"],[1,"person-link","person-cast-credit"],[1,"person-poster",3,"ngStyle"],[1,"person-info"],[1,"person-info-container"],[4,"ngIf"]],template:function(t,a){if(t&1&&(s(0,"section",2)(1,"a",3)(2,"section",4),g(3,"section",5),s(4,"section",6)(5,"section",7)(6,"span"),o(7),d(8,_t,2,1,"ng-container",8)(9,ut,2,0,"ng-container",8),o(10,") "),p(),s(11,"span"),d(12,ft,2,1,"ng-container",8)(13,vt,2,0,"ng-container",8),p()()()()(),d(14,bt,4,3,"ng-template",null,0,k)(16,yt,2,2,"ng-template",null,1,k),p()),t&2){let _=S(15),h=S(17);i(),r("routerLink",F(11,dt,a.castRole.id))("popoverTitle",_)("ngbPopover",h)("container","body")("popoverClass","person-popover"),i(2),r("ngStyle",F(13,gt,"url("+a.posterSizeSmall+")")),i(4),C("",a.castRole.title," ("),i(),r("ngIf",a.releaseYear),i(),r("ngIf",!a.releaseYear),i(3),r("ngIf",a.castRole.character),i(),r("ngIf",!a.castRole.character)}},dependencies:[b,$,L,W],encapsulation:2})};var oe=class{adult;backdrop_path;genre_ids;id;original_language;original_title;overview;popularity;poster_path;release_date;title;video;vote_average;vote_count;character;department;job;constructor(){this.adult=!1,this.backdrop_path="",this.genre_ids=[],this.id=0,this.original_language="",this.original_title="",this.overview="",this.popularity=0,this.poster_path="",this.release_date="",this.title="",this.video=!1,this.vote_average=0,this.vote_count=0,this.character="",this.department="",this.job=""}};var It=e=>["/movie",e],wt=e=>({"background-image":e});function Mt(e,n){if(e&1&&(c(0),o(1),l()),e&2){let t=m();i(),f(t.releaseYear)}}function Et(e,n){e&1&&(c(0),o(1,"No Release Year"),l())}function Rt(e,n){if(e&1&&(c(0),o(1),l()),e&2){let t=m(2);i(),f(t.releaseYear)}}function Ot(e,n){e&1&&(c(0),o(1,"No Release Year"),l())}function Tt(e,n){if(e&1&&(s(0,"span"),o(1),d(2,Rt,2,1,"ng-container",8)(3,Ot,2,0,"ng-container",8),o(4,") "),p()),e&2){let t=m();i(),C(" ",t.crewRole.title," ("),i(),r("ngIf",t.releaseYear),i(),r("ngIf",!t.releaseYear)}}function Nt(e,n){if(e&1&&(s(0,"span"),o(1),p()),e&2){let t=m();i(),f(t.crewRole.job)}}var ae=class e{crewRole=new oe;posterSizeSmall="";releaseYear=0;ngOnInit(){this.setPoster(),this.setYear()}setPoster(){this.posterSizeSmall=this.crewRole.poster_path?`${y.imgUrl}${y.posterSizeSmall}${this.crewRole.poster_path}`:"img/default-images/movie_poster_notavailable_w500.png",console.log(this.posterSizeSmall)}setYear(){let n=new Date(this.crewRole.release_date);this.releaseYear=n.getFullYear()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-person-crew-credit"]],inputs:{crewRole:"crewRole"},standalone:!1,decls:17,vars:14,consts:[["crewPopTitle",""],["crewPopContent",""],[1,"person-credit"],["placement","bottom","triggers","hover",3,"routerLink","popoverTitle","ngbPopover","container","popoverClass"],[1,"person-link","person-crew-credit"],[1,"person-poster",3,"ngStyle"],[1,"person-info"],[1,"person-info-container"],[4,"ngIf"]],template:function(t,a){if(t&1&&(s(0,"section",2)(1,"a",3)(2,"section",4),g(3,"section",5),s(4,"section",6)(5,"section",7)(6,"span"),o(7),d(8,Mt,2,1,"ng-container",8)(9,Et,2,0,"ng-container",8),o(10,") "),p(),s(11,"span"),o(12),p()()()()(),d(13,Tt,5,3,"ng-template",null,0,k)(15,Nt,2,1,"ng-template",null,1,k),p()),t&2){let _=S(14),h=S(16);i(),r("routerLink",F(10,It,a.crewRole.id))("popoverTitle",_)("ngbPopover",h)("container","body")("popoverClass","person-popover"),i(2),r("ngStyle",F(12,wt,"url("+a.posterSizeSmall+")")),i(4),C(" ",a.crewRole.title," ("),i(),r("ngIf",a.releaseYear),i(),r("ngIf",!a.releaseYear),i(3),f(a.crewRole.job)}},dependencies:[b,$,L,W],encapsulation:2})};function Ft(e,n){e&1&&(c(0),g(1,"app-loading-inline",3),l())}function kt(e,n){if(e&1){let t=O();c(0),s(1,"app-person-error",4),x("reload",function(_){E(t);let h=m(2);return R(h.reloadMovieCredits(_))}),p(),l()}if(e&2){let t=m(2);i(),r("errorMessage",t.errorMessage)}}function Yt(e,n){e&1&&(c(0),s(1,"p"),o(2,"This person has no acting roles in movies"),p(),l())}function Lt(e,n){if(e&1&&(c(0),s(1,"div",12),g(2,"app-person-cast-credit",13),p(),l()),e&2){let t=n.$implicit;i(2),r("castRole",t)}}function At(e,n){if(e&1&&(c(0),s(1,"div",10),d(2,Lt,3,1,"ng-container",11),p(),l()),e&2){let t=m(4);i(2),r("ngForOf",t.personMovieCredits.cast)}}function jt(e,n){if(e&1&&d(0,Yt,3,0,"ng-container",2)(1,At,3,1,"ng-container",2),e&2){let t=m(3);r("ngIf",t.personMovieCredits.cast.length===0),i(),r("ngIf",t.personMovieCredits.cast.length>0)}}function Ht(e,n){e&1&&(c(0),s(1,"p"),o(2,"This person has no technical or production roles in movies"),p(),l())}function Vt(e,n){if(e&1&&(c(0),s(1,"div",12),g(2,"app-person-crew-credit",14),p(),l()),e&2){let t=n.$implicit;i(2),r("crewRole",t)}}function Bt(e,n){if(e&1&&(c(0),s(1,"div",10),d(2,Vt,3,1,"ng-container",11),p(),l()),e&2){let t=m(4);i(2),r("ngForOf",t.personMovieCredits.crew)}}function $t(e,n){if(e&1&&d(0,Ht,3,0,"ng-container",2)(1,Bt,3,1,"ng-container",2),e&2){let t=m(3);r("ngIf",t.personMovieCredits.crew.length===0),i(),r("ngIf",t.personMovieCredits.crew.length>0)}}function zt(e,n){if(e&1){let t=O();c(0),s(1,"ul",5,0),Pe("activeIdChange",function(_){E(t);let h=m(2);return be(h.activeTab,_)||(h.activeTab=_),R(_)}),s(3,"li",6)(4,"button",7),o(5,"As Cast"),p(),d(6,jt,2,2,"ng-template",8),p(),s(7,"li",6)(8,"button",7),o(9,"As Crew"),p(),d(10,$t,2,2,"ng-template",8),p()(),g(11,"div",9),l()}if(e&2){let t=S(2),a=m(2);i(),Ce("activeId",a.activeTab),i(2),r("ngbNavItem",1),i(4),r("ngbNavItem",2),i(4),r("ngbNavOutlet",t)}}function Ut(e,n){if(e&1&&(c(0),d(1,kt,2,1,"ng-container",2)(2,zt,12,4,"ng-container",2),l()),e&2){let t=m();i(),r("ngIf",t.personMovieCreditsError),i(),r("ngIf",!t.personMovieCreditsError)}}var se=class e{constructor(n,t,a,_){this.activatedRoute=n;this.personService=t;this.localStorageService=a;this.router=_}id=0;activeTab=1;personMovieCredits=new ne;loadingPersonMovieCredits=!1;activatedRouteParentSubscription;personMovieCreditsFound=!1;personMovieCreditsError=!1;errorMessage="";ngOnInit(){this.setId()}setId(){this.activatedRouteParentSubscription=this.activatedRoute.parent?.params.subscribe(n=>{this.id=parseInt(n.id),this.getPersonMovieCredits()})}getPersonMovieCredits(){this.personMovieCreditsError=!1,this.loadingPersonMovieCredits=!0,this.personService.getCredits(this.id).then(n=>{this.personMovieCredits=n,this.personMovieCreditsFound=!0}).catch(n=>{this.handleError(n)}).finally(()=>{this.loadingPersonMovieCredits=!1})}handleError(n){this.personMovieCreditsError=!0,this.errorMessage=n.message}reloadMovieCredits(n){this.getPersonMovieCredits()}foo(){this.router.navigateByUrl("/person/18",{replaceUrl:!0})}ngOnDestroy(){this.activatedRouteParentSubscription&&this.activatedRouteParentSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||e)(v(Y),v(w),v(A),v(we))};static \u0275cmp=u({type:e,selectors:[["app-person-movie-credits"]],standalone:!1,decls:3,vars:2,consts:[["nav","ngbNav"],[1,"person-movie-credits"],[4,"ngIf"],["message","Loading movie credits for this person..."],[3,"reload","errorMessage"],["ngbNav","",1,"nav-tabs",3,"activeIdChange","activeId"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-2","my-5",3,"ngbNavOutlet"],[1,"row"],[4,"ngFor","ngForOf"],[1,"col-12","col-lg-3"],[3,"castRole"],[3,"crewRole"]],template:function(t,a){t&1&&(s(0,"section",1),d(1,Ft,2,0,"ng-container",2)(2,Ut,3,2,"ng-container",2),p()),t&2&&(i(),r("ngIf",a.loadingPersonMovieCredits),i(),r("ngIf",!a.loadingPersonMovieCredits))},dependencies:[ye,b,K,De,Ye,ke,Fe,Ae,Le,je,H,re,ae],styles:[".person-movie-credits[_ngcontent-%COMP%]   ul.nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Oswald,Arial,sans-serif}"]})};var Qt=[{path:":id",component:Z,children:[{path:"overview",component:te,pathMatch:"full"},{path:"movie-credits",component:se,pathMatch:"full"},{path:"",redirectTo:"overview",pathMatch:"full"}]}],pe=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=D({type:e});static \u0275inj=N({imports:[T.forChild(Qt),T]})};var ce=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=D({type:e});static \u0275inj=N({imports:[z,Q,T,q]})};var ze=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=D({type:e});static \u0275inj=N({imports:[z,pe,Ne,q,Q,ce,T]})};export{ze as PersonModule};
